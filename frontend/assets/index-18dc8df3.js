var xT=Object.defineProperty;var ET=(e,t,r)=>t in e?xT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Dt=(e,t,r)=>(ET(e,typeof t!="symbol"?t+"":t,r),r);function bT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var CC={exports:{}},Id={},SC={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),TT=Symbol.for("react.portal"),AT=Symbol.for("react.fragment"),kT=Symbol.for("react.strict_mode"),IT=Symbol.for("react.profiler"),NT=Symbol.for("react.provider"),RT=Symbol.for("react.context"),_T=Symbol.for("react.forward_ref"),BT=Symbol.for("react.suspense"),DT=Symbol.for("react.memo"),LT=Symbol.for("react.lazy"),jg=Symbol.iterator;function MT(e){return e===null||typeof e!="object"?null:(e=jg&&e[jg]||e["@@iterator"],typeof e=="function"?e:null)}var wC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xC=Object.assign,EC={};function cs(e,t,r){this.props=e,this.context=t,this.refs=EC,this.updater=r||wC}cs.prototype.isReactComponent={};cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bC(){}bC.prototype=cs.prototype;function D0(e,t,r){this.props=e,this.context=t,this.refs=EC,this.updater=r||wC}var L0=D0.prototype=new bC;L0.constructor=D0;xC(L0,cs.prototype);L0.isPureReactComponent=!0;var zg=Array.isArray,TC=Object.prototype.hasOwnProperty,M0={current:null},AC={key:!0,ref:!0,__self:!0,__source:!0};function kC(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)TC.call(t,n)&&!AC.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Wl,type:e,key:a,ref:o,props:i,_owner:M0.current}}function OT(e,t){return{$$typeof:Wl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wl}function PT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qg=/\/+/g;function Af(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PT(""+e.key):t.toString(36)}function Qu(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wl:case TT:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Af(o,0):n,zg(i)?(r="",e!=null&&(r=e.replace(qg,"$&/")+"/"),Qu(i,t,r,"",function(u){return u})):i!=null&&(O0(i)&&(i=OT(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",zg(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+Af(a,s);o+=Qu(a,t,r,l,i)}else if(l=MT(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+Af(a,s++),o+=Qu(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function wu(e,t,r){if(e==null)return e;var n=[],i=0;return Qu(e,n,"","",function(a){return t.call(r,a,i++)}),n}function FT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ar={current:null},Yu={transition:null},UT={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:M0};We.Children={map:wu,forEach:function(e,t,r){wu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wu(e,function(){t++}),t},toArray:function(e){return wu(e,function(t){return t})||[]},only:function(e){if(!O0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=cs;We.Fragment=AT;We.Profiler=IT;We.PureComponent=D0;We.StrictMode=kT;We.Suspense=BT;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UT;We.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xC({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=M0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)TC.call(t,l)&&!AC.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Wl,type:e.type,key:i,ref:a,props:n,_owner:o}};We.createContext=function(e){return e={$$typeof:RT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NT,_context:e},e.Consumer=e};We.createElement=kC;We.createFactory=function(e){var t=kC.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:_T,render:e}};We.isValidElement=O0;We.lazy=function(e){return{$$typeof:LT,_payload:{_status:-1,_result:e},_init:FT}};We.memo=function(e,t){return{$$typeof:DT,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=Yu.transition;Yu.transition={};try{e()}finally{Yu.transition=t}};We.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};We.useCallback=function(e,t){return Ar.current.useCallback(e,t)};We.useContext=function(e){return Ar.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return Ar.current.useDeferredValue(e)};We.useEffect=function(e,t){return Ar.current.useEffect(e,t)};We.useId=function(){return Ar.current.useId()};We.useImperativeHandle=function(e,t,r){return Ar.current.useImperativeHandle(e,t,r)};We.useInsertionEffect=function(e,t){return Ar.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return Ar.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return Ar.current.useMemo(e,t)};We.useReducer=function(e,t,r){return Ar.current.useReducer(e,t,r)};We.useRef=function(e){return Ar.current.useRef(e)};We.useState=function(e){return Ar.current.useState(e)};We.useSyncExternalStore=function(e,t,r){return Ar.current.useSyncExternalStore(e,t,r)};We.useTransition=function(){return Ar.current.useTransition()};We.version="18.2.0";SC.exports=We;var x=SC.exports;const Ze=Xa(x),Gg=bT({__proto__:null,default:Ze},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT=x,KT=Symbol.for("react.element"),$T=Symbol.for("react.fragment"),HT=Object.prototype.hasOwnProperty,jT=VT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zT={key:!0,ref:!0,__self:!0,__source:!0};function IC(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)HT.call(t,n)&&!zT.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:KT,type:e,key:a,ref:o,props:i,_owner:jT.current}}Id.Fragment=$T;Id.jsx=IC;Id.jsxs=IC;CC.exports=Id;var P0=CC.exports;const Ht=P0.Fragment,f=P0.jsx,N=P0.jsxs;var Nh={},NC={exports:{}},Qr={},RC={exports:{}},_C={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,j){var q=H.length;H.push(j);e:for(;0<q;){var te=q-1>>>1,G=H[te];if(0<i(G,j))H[te]=j,H[q]=G,q=te;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var j=H[0],q=H.pop();if(q!==j){H[0]=q;e:for(var te=0,G=H.length,ne=G>>>1;te<ne;){var Q=2*(te+1)-1,ee=H[Q],ve=Q+1,ye=H[ve];if(0>i(ee,q))ve<G&&0>i(ye,ee)?(H[te]=ye,H[ve]=q,te=ve):(H[te]=ee,H[Q]=q,te=Q);else if(ve<G&&0>i(ye,q))H[te]=ye,H[ve]=q,te=ve;else break e}}return j}function i(H,j){var q=H.sortIndex-j.sortIndex;return q!==0?q:H.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,p=3,C=!1,h=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(H){for(var j=r(u);j!==null;){if(j.callback===null)n(u);else if(j.startTime<=H)n(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=r(u)}}function w(H){if(v=!1,y(H),!h)if(r(l)!==null)h=!0,$(E);else{var j=r(u);j!==null&&K(w,j.startTime-H)}}function E(H,j){h=!1,v&&(v=!1,m(_),_=-1),C=!0;var q=p;try{for(y(j),d=r(l);d!==null&&(!(d.expirationTime>j)||H&&!A());){var te=d.callback;if(typeof te=="function"){d.callback=null,p=d.priorityLevel;var G=te(d.expirationTime<=j);j=e.unstable_now(),typeof G=="function"?d.callback=G:d===r(l)&&n(l),y(j)}else n(l);d=r(l)}if(d!==null)var ne=!0;else{var Q=r(u);Q!==null&&K(w,Q.startTime-j),ne=!1}return ne}finally{d=null,p=q,C=!1}}var b=!1,T=null,_=-1,M=5,D=-1;function A(){return!(e.unstable_now()-D<M)}function B(){if(T!==null){var H=e.unstable_now();D=H;var j=!0;try{j=T(!0,H)}finally{j?F():(b=!1,T=null)}}else b=!1}var F;if(typeof g=="function")F=function(){g(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,P=L.port2;L.port1.onmessage=B,F=function(){P.postMessage(null)}}else F=function(){S(B,0)};function $(H){T=H,b||(b=!0,F())}function K(H,j){_=S(function(){H(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){h||C||(h=!0,$(E))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var q=p;p=j;try{return H()}finally{p=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=p;p=H;try{return j()}finally{p=q}},e.unstable_scheduleCallback=function(H,j,q){var te=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,H){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=q+G,H={id:c++,callback:j,priorityLevel:H,startTime:q,expirationTime:G,sortIndex:-1},q>te?(H.sortIndex=q,t(u,H),r(l)===null&&H===r(u)&&(v?(m(_),_=-1):v=!0,K(w,q-te))):(H.sortIndex=G,t(l,H),h||C||(h=!0,$(E))),H},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(H){var j=p;return function(){var q=p;p=j;try{return H.apply(this,arguments)}finally{p=q}}}})(_C);RC.exports=_C;var qT=RC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC=x,Gr=qT;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DC=new Set,gl={};function Ja(e,t){Uo(e,t),Uo(e+"Capture",t)}function Uo(e,t){for(gl[e]=t,e=0;e<t.length;e++)DC.add(t[e])}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rh=Object.prototype.hasOwnProperty,GT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wg={},Qg={};function WT(e){return Rh.call(Qg,e)?!0:Rh.call(Wg,e)?!1:GT.test(e)?Qg[e]=!0:(Wg[e]=!0,!1)}function QT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YT(e,t,r,n){if(t===null||typeof t>"u"||QT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cr[e]=new kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cr[t]=new kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cr[e]=new kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cr[e]=new kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cr[e]=new kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cr[e]=new kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cr[e]=new kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cr[e]=new kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cr[e]=new kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var F0=/[\-:]([a-z])/g;function U0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F0,U0);cr[t]=new kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F0,U0);cr[t]=new kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F0,U0);cr[t]=new kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cr[e]=new kr(e,1,!1,e.toLowerCase(),null,!1,!1)});cr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cr[e]=new kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function V0(e,t,r,n){var i=cr.hasOwnProperty(t)?cr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YT(t,r,i,n)&&(r=null),n||i===null?WT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ti=BC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xu=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),K0=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),LC=Symbol.for("react.provider"),MC=Symbol.for("react.context"),$0=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),H0=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),OC=Symbol.for("react.offscreen"),Yg=Symbol.iterator;function _s(e){return e===null||typeof e!="object"?null:(e=Yg&&e[Yg]||e["@@iterator"],typeof e=="function"?e:null)}var It=Object.assign,kf;function js(e){if(kf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);kf=t&&t[1]||""}return`
`+kf+e}var If=!1;function Nf(e,t){if(!e||If)return"";If=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{If=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?js(e):""}function XT(e){switch(e.tag){case 5:return js(e.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 2:case 15:return e=Nf(e.type,!1),e;case 11:return e=Nf(e.type.render,!1),e;case 1:return e=Nf(e.type,!0),e;default:return""}}function Lh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case go:return"Fragment";case mo:return"Portal";case _h:return"Profiler";case K0:return"StrictMode";case Bh:return"Suspense";case Dh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MC:return(e.displayName||"Context")+".Consumer";case LC:return(e._context.displayName||"Context")+".Provider";case $0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H0:return t=e.displayName||null,t!==null?t:Lh(e.type)||"Memo";case Oi:t=e._payload,e=e._init;try{return Lh(e(t))}catch{}}return null}function JT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lh(t);case 8:return t===K0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function la(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function PC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZT(e){var t=PC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eu(e){e._valueTracker||(e._valueTracker=ZT(e))}function FC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=PC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ec(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mh(e,t){var r=t.checked;return It({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=la(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function UC(e,t){t=t.checked,t!=null&&V0(e,"checked",t,!1)}function Oh(e,t){UC(e,t);var r=la(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ph(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ph(e,t.type,la(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ph(e,t,r){(t!=="number"||Ec(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zs=Array.isArray;function Bo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+la(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Fh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return It({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(zs(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:la(r)}}function VC(e,t){var r=la(t.value),n=la(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ev(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function KC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?KC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bu,$C=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eA=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(e){eA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zs[t]=Zs[e]})});function HC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zs.hasOwnProperty(e)&&Zs[e]?(""+t).trim():t+"px"}function jC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=HC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var tA=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vh(e,t){if(t){if(tA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function Kh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=null;function j0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hh=null,Do=null,Lo=null;function tv(e){if(e=Xl(e)){if(typeof Hh!="function")throw Error(re(280));var t=e.stateNode;t&&(t=Dd(t),Hh(e.stateNode,e.type,t))}}function zC(e){Do?Lo?Lo.push(e):Lo=[e]:Do=e}function qC(){if(Do){var e=Do,t=Lo;if(Lo=Do=null,tv(e),t)for(e=0;e<t.length;e++)tv(t[e])}}function GC(e,t){return e(t)}function WC(){}var Rf=!1;function QC(e,t,r){if(Rf)return e(t,r);Rf=!0;try{return GC(e,t,r)}finally{Rf=!1,(Do!==null||Lo!==null)&&(WC(),qC())}}function yl(e,t){var r=e.stateNode;if(r===null)return null;var n=Dd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var jh=!1;if(yi)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){jh=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{jh=!1}function rA(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var el=!1,bc=null,Tc=!1,zh=null,nA={onError:function(e){el=!0,bc=e}};function iA(e,t,r,n,i,a,o,s,l){el=!1,bc=null,rA.apply(nA,arguments)}function aA(e,t,r,n,i,a,o,s,l){if(iA.apply(this,arguments),el){if(el){var u=bc;el=!1,bc=null}else throw Error(re(198));Tc||(Tc=!0,zh=u)}}function Za(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function YC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rv(e){if(Za(e)!==e)throw Error(re(188))}function oA(e){var t=e.alternate;if(!t){if(t=Za(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return rv(i),e;if(a===n)return rv(i),t;a=a.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function XC(e){return e=oA(e),e!==null?JC(e):null}function JC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JC(e);if(t!==null)return t;e=e.sibling}return null}var ZC=Gr.unstable_scheduleCallback,nv=Gr.unstable_cancelCallback,sA=Gr.unstable_shouldYield,lA=Gr.unstable_requestPaint,Lt=Gr.unstable_now,uA=Gr.unstable_getCurrentPriorityLevel,z0=Gr.unstable_ImmediatePriority,eS=Gr.unstable_UserBlockingPriority,Ac=Gr.unstable_NormalPriority,cA=Gr.unstable_LowPriority,tS=Gr.unstable_IdlePriority,Nd=null,Qn=null;function dA(e){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Nd,e,void 0,(e.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:pA,fA=Math.log,hA=Math.LN2;function pA(e){return e>>>=0,e===0?32:31-(fA(e)/hA|0)|0}var Tu=64,Au=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=qs(s):(a&=o,a!==0&&(n=qs(a)))}else o=r&~i,o!==0?n=qs(o):a!==0&&(n=qs(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-kn(t),i=1<<r,n|=e[r],t&=~i;return n}function mA(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-kn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=mA(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function qh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rS(){var e=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),e}function _f(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ql(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kn(t),e[t]=r}function vA(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-kn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function q0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-kn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var lt=0;function nS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iS,G0,aS,oS,sS,Gh=!1,ku=[],Zi=null,ea=null,ta=null,Cl=new Map,Sl=new Map,Vi=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iv(e,t){switch(e){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Cl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(t.pointerId)}}function Ds(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Xl(t),t!==null&&G0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function CA(e,t,r,n,i){switch(t){case"focusin":return Zi=Ds(Zi,e,t,r,n,i),!0;case"dragenter":return ea=Ds(ea,e,t,r,n,i),!0;case"mouseover":return ta=Ds(ta,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Cl.set(a,Ds(Cl.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Sl.set(a,Ds(Sl.get(a)||null,e,t,r,n,i)),!0}return!1}function lS(e){var t=La(e.target);if(t!==null){var r=Za(t);if(r!==null){if(t=r.tag,t===13){if(t=YC(r),t!==null){e.blockedOn=t,sS(e.priority,function(){aS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$h=n,r.target.dispatchEvent(n),$h=null}else return t=Xl(r),t!==null&&G0(t),e.blockedOn=r,!1;t.shift()}return!0}function av(e,t,r){Xu(e)&&r.delete(t)}function SA(){Gh=!1,Zi!==null&&Xu(Zi)&&(Zi=null),ea!==null&&Xu(ea)&&(ea=null),ta!==null&&Xu(ta)&&(ta=null),Cl.forEach(av),Sl.forEach(av)}function Ls(e,t){e.blockedOn===t&&(e.blockedOn=null,Gh||(Gh=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,SA)))}function wl(e){function t(i){return Ls(i,e)}if(0<ku.length){Ls(ku[0],e);for(var r=1;r<ku.length;r++){var n=ku[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Zi!==null&&Ls(Zi,e),ea!==null&&Ls(ea,e),ta!==null&&Ls(ta,e),Cl.forEach(t),Sl.forEach(t),r=0;r<Vi.length;r++)n=Vi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Vi.length&&(r=Vi[0],r.blockedOn===null);)lS(r),r.blockedOn===null&&Vi.shift()}var Mo=Ti.ReactCurrentBatchConfig,Ic=!0;function wA(e,t,r,n){var i=lt,a=Mo.transition;Mo.transition=null;try{lt=1,W0(e,t,r,n)}finally{lt=i,Mo.transition=a}}function xA(e,t,r,n){var i=lt,a=Mo.transition;Mo.transition=null;try{lt=4,W0(e,t,r,n)}finally{lt=i,Mo.transition=a}}function W0(e,t,r,n){if(Ic){var i=Wh(e,t,r,n);if(i===null)Kf(e,t,n,Nc,r),iv(e,n);else if(CA(i,e,t,r,n))n.stopPropagation();else if(iv(e,n),t&4&&-1<yA.indexOf(e)){for(;i!==null;){var a=Xl(i);if(a!==null&&iS(a),a=Wh(e,t,r,n),a===null&&Kf(e,t,n,Nc,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Kf(e,t,n,null,r)}}var Nc=null;function Wh(e,t,r,n){if(Nc=null,e=j0(n),e=La(e),e!==null)if(t=Za(e),t===null)e=null;else if(r=t.tag,r===13){if(e=YC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nc=e,null}function uS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uA()){case z0:return 1;case eS:return 4;case Ac:case cA:return 16;case tS:return 536870912;default:return 16}default:return 16}}var $i=null,Q0=null,Ju=null;function cS(){if(Ju)return Ju;var e,t=Q0,r=t.length,n,i="value"in $i?$i.value:$i.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Ju=i.slice(e,1<n?1-n:void 0)}function Zu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Iu(){return!0}function ov(){return!1}function Yr(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Iu:ov,this.isPropagationStopped=ov,this}return It(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y0=Yr(ds),Yl=It({},ds,{view:0,detail:0}),EA=Yr(Yl),Bf,Df,Ms,Rd=It({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Bf=e.screenX-Ms.screenX,Df=e.screenY-Ms.screenY):Df=Bf=0,Ms=e),Bf)},movementY:function(e){return"movementY"in e?e.movementY:Df}}),sv=Yr(Rd),bA=It({},Rd,{dataTransfer:0}),TA=Yr(bA),AA=It({},Yl,{relatedTarget:0}),Lf=Yr(AA),kA=It({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),IA=Yr(kA),NA=It({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),RA=Yr(NA),_A=It({},ds,{data:0}),lv=Yr(_A),BA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LA[e])?!!t[e]:!1}function X0(){return MA}var OA=It({},Yl,{key:function(e){if(e.key){var t=BA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X0,charCode:function(e){return e.type==="keypress"?Zu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PA=Yr(OA),FA=It({},Rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uv=Yr(FA),UA=It({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X0}),VA=Yr(UA),KA=It({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),$A=Yr(KA),HA=It({},Rd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jA=Yr(HA),zA=[9,13,27,32],J0=yi&&"CompositionEvent"in window,tl=null;yi&&"documentMode"in document&&(tl=document.documentMode);var qA=yi&&"TextEvent"in window&&!tl,dS=yi&&(!J0||tl&&8<tl&&11>=tl),cv=String.fromCharCode(32),dv=!1;function fS(e,t){switch(e){case"keyup":return zA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vo=!1;function GA(e,t){switch(e){case"compositionend":return hS(t);case"keypress":return t.which!==32?null:(dv=!0,cv);case"textInput":return e=t.data,e===cv&&dv?null:e;default:return null}}function WA(e,t){if(vo)return e==="compositionend"||!J0&&fS(e,t)?(e=cS(),Ju=Q0=$i=null,vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dS&&t.locale!=="ko"?null:t.data;default:return null}}var QA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QA[e.type]:t==="textarea"}function pS(e,t,r,n){zC(n),t=Rc(t,"onChange"),0<t.length&&(r=new Y0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var rl=null,xl=null;function YA(e){TS(e,0)}function _d(e){var t=So(e);if(FC(t))return e}function XA(e,t){if(e==="change")return t}var mS=!1;if(yi){var Mf;if(yi){var Of="oninput"in document;if(!Of){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),Of=typeof hv.oninput=="function"}Mf=Of}else Mf=!1;mS=Mf&&(!document.documentMode||9<document.documentMode)}function pv(){rl&&(rl.detachEvent("onpropertychange",gS),xl=rl=null)}function gS(e){if(e.propertyName==="value"&&_d(xl)){var t=[];pS(t,xl,e,j0(e)),QC(YA,t)}}function JA(e,t,r){e==="focusin"?(pv(),rl=t,xl=r,rl.attachEvent("onpropertychange",gS)):e==="focusout"&&pv()}function ZA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _d(xl)}function ek(e,t){if(e==="click")return _d(t)}function tk(e,t){if(e==="input"||e==="change")return _d(t)}function rk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:rk;function El(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Rh.call(t,i)||!Nn(e[i],t[i]))return!1}return!0}function mv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gv(e,t){var r=mv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mv(r)}}function vS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yS(){for(var e=window,t=Ec();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ec(e.document)}return t}function Z0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nk(e){var t=yS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vS(r.ownerDocument.documentElement,r)){if(n!==null&&Z0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=gv(r,a);var o=gv(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ik=yi&&"documentMode"in document&&11>=document.documentMode,yo=null,Qh=null,nl=null,Yh=!1;function vv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yh||yo==null||yo!==Ec(n)||(n=yo,"selectionStart"in n&&Z0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nl&&El(nl,n)||(nl=n,n=Rc(Qh,"onSelect"),0<n.length&&(t=new Y0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yo)))}function Nu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Co={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Pf={},CS={};yi&&(CS=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Bd(e){if(Pf[e])return Pf[e];if(!Co[e])return e;var t=Co[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in CS)return Pf[e]=t[r];return e}var SS=Bd("animationend"),wS=Bd("animationiteration"),xS=Bd("animationstart"),ES=Bd("transitionend"),bS=new Map,yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(e,t){bS.set(e,t),Ja(t,[e])}for(var Ff=0;Ff<yv.length;Ff++){var Uf=yv[Ff],ak=Uf.toLowerCase(),ok=Uf[0].toUpperCase()+Uf.slice(1);pa(ak,"on"+ok)}pa(SS,"onAnimationEnd");pa(wS,"onAnimationIteration");pa(xS,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(ES,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function Cv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,aA(n,t,void 0,e),e.currentTarget=null}function TS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Cv(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Cv(i,s,u),a=l}}}if(Tc)throw e=zh,Tc=!1,zh=null,e}function vt(e,t){var r=t[tp];r===void 0&&(r=t[tp]=new Set);var n=e+"__bubble";r.has(n)||(AS(t,e,2,!1),r.add(n))}function Vf(e,t,r){var n=0;t&&(n|=4),AS(r,e,n,t)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function bl(e){if(!e[Ru]){e[Ru]=!0,DC.forEach(function(r){r!=="selectionchange"&&(sk.has(r)||Vf(r,!1,e),Vf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ru]||(t[Ru]=!0,Vf("selectionchange",!1,t))}}function AS(e,t,r,n){switch(uS(t)){case 1:var i=wA;break;case 4:i=xA;break;default:i=W0}r=i.bind(null,t,r,e),i=void 0,!jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Kf(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=La(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}QC(function(){var u=a,c=j0(r),d=[];e:{var p=bS.get(e);if(p!==void 0){var C=Y0,h=e;switch(e){case"keypress":if(Zu(r)===0)break e;case"keydown":case"keyup":C=PA;break;case"focusin":h="focus",C=Lf;break;case"focusout":h="blur",C=Lf;break;case"beforeblur":case"afterblur":C=Lf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=sv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=TA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=VA;break;case SS:case wS:case xS:C=IA;break;case ES:C=$A;break;case"scroll":C=EA;break;case"wheel":C=jA;break;case"copy":case"cut":case"paste":C=RA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=uv}var v=(t&4)!==0,S=!v&&e==="scroll",m=v?p!==null?p+"Capture":null:p;v=[];for(var g=u,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=yl(g,m),w!=null&&v.push(Tl(g,w,y)))),S)break;g=g.return}0<v.length&&(p=new C(p,h,null,r,c),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",p&&r!==$h&&(h=r.relatedTarget||r.fromElement)&&(La(h)||h[Ci]))break e;if((C||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,C?(h=r.relatedTarget||r.toElement,C=u,h=h?La(h):null,h!==null&&(S=Za(h),h!==S||h.tag!==5&&h.tag!==6)&&(h=null)):(C=null,h=u),C!==h)){if(v=sv,w="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=uv,w="onPointerLeave",m="onPointerEnter",g="pointer"),S=C==null?p:So(C),y=h==null?p:So(h),p=new v(w,g+"leave",C,r,c),p.target=S,p.relatedTarget=y,w=null,La(c)===u&&(v=new v(m,g+"enter",h,r,c),v.target=y,v.relatedTarget=S,w=v),S=w,C&&h)t:{for(v=C,m=h,g=0,y=v;y;y=oo(y))g++;for(y=0,w=m;w;w=oo(w))y++;for(;0<g-y;)v=oo(v),g--;for(;0<y-g;)m=oo(m),y--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=oo(v),m=oo(m)}v=null}else v=null;C!==null&&Sv(d,p,C,v,!1),h!==null&&S!==null&&Sv(d,S,h,v,!0)}}e:{if(p=u?So(u):window,C=p.nodeName&&p.nodeName.toLowerCase(),C==="select"||C==="input"&&p.type==="file")var E=XA;else if(fv(p))if(mS)E=tk;else{E=ZA;var b=JA}else(C=p.nodeName)&&C.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=ek);if(E&&(E=E(e,u))){pS(d,E,r,c);break e}b&&b(e,p,u),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&Ph(p,"number",p.value)}switch(b=u?So(u):window,e){case"focusin":(fv(b)||b.contentEditable==="true")&&(yo=b,Qh=u,nl=null);break;case"focusout":nl=Qh=yo=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,vv(d,r,c);break;case"selectionchange":if(ik)break;case"keydown":case"keyup":vv(d,r,c)}var T;if(J0)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else vo?fS(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(dS&&r.locale!=="ko"&&(vo||_!=="onCompositionStart"?_==="onCompositionEnd"&&vo&&(T=cS()):($i=c,Q0="value"in $i?$i.value:$i.textContent,vo=!0)),b=Rc(u,_),0<b.length&&(_=new lv(_,e,null,r,c),d.push({event:_,listeners:b}),T?_.data=T:(T=hS(r),T!==null&&(_.data=T)))),(T=qA?GA(e,r):WA(e,r))&&(u=Rc(u,"onBeforeInput"),0<u.length&&(c=new lv("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=T))}TS(d,t)})}function Tl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rc(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=yl(e,r),a!=null&&n.unshift(Tl(e,a,i)),a=yl(e,t),a!=null&&n.push(Tl(e,a,i))),e=e.return}return n}function oo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sv(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=yl(r,a),l!=null&&o.unshift(Tl(r,l,s))):i||(l=yl(r,a),l!=null&&o.push(Tl(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var lk=/\r\n?/g,uk=/\u0000|\uFFFD/g;function wv(e){return(typeof e=="string"?e:""+e).replace(lk,`
`).replace(uk,"")}function _u(e,t,r){if(t=wv(t),wv(e)!==t&&r)throw Error(re(425))}function _c(){}var Xh=null,Jh=null;function Zh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ep=typeof setTimeout=="function"?setTimeout:void 0,ck=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,dk=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(e){return xv.resolve(null).then(e).catch(fk)}:ep;function fk(e){setTimeout(function(){throw e})}function $f(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),wl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wl(t)}function ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ev(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),$n="__reactFiber$"+fs,Al="__reactProps$"+fs,Ci="__reactContainer$"+fs,tp="__reactEvents$"+fs,hk="__reactListeners$"+fs,pk="__reactHandles$"+fs;function La(e){var t=e[$n];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ci]||r[$n]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ev(e);e!==null;){if(r=e[$n])return r;e=Ev(e)}return t}e=r,r=e.parentNode}return null}function Xl(e){return e=e[$n]||e[Ci],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function So(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function Dd(e){return e[Al]||null}var rp=[],wo=-1;function ma(e){return{current:e}}function St(e){0>wo||(e.current=rp[wo],rp[wo]=null,wo--)}function pt(e,t){wo++,rp[wo]=e.current,e.current=t}var ua={},vr=ma(ua),Br=ma(!1),ja=ua;function Vo(e,t){var r=e.type.contextTypes;if(!r)return ua;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dr(e){return e=e.childContextTypes,e!=null}function Bc(){St(Br),St(vr)}function bv(e,t,r){if(vr.current!==ua)throw Error(re(168));pt(vr,t),pt(Br,r)}function kS(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(re(108,JT(e)||"Unknown",i));return It({},r,n)}function Dc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ua,ja=vr.current,pt(vr,e),pt(Br,Br.current),!0}function Tv(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=kS(e,t,ja),n.__reactInternalMemoizedMergedChildContext=e,St(Br),St(vr),pt(vr,e)):St(Br),pt(Br,r)}var li=null,Ld=!1,Hf=!1;function IS(e){li===null?li=[e]:li.push(e)}function mk(e){Ld=!0,IS(e)}function ga(){if(!Hf&&li!==null){Hf=!0;var e=0,t=lt;try{var r=li;for(lt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}li=null,Ld=!1}catch(i){throw li!==null&&(li=li.slice(e+1)),ZC(z0,ga),i}finally{lt=t,Hf=!1}}return null}var xo=[],Eo=0,Lc=null,Mc=0,rn=[],nn=0,za=null,di=1,fi="";function Aa(e,t){xo[Eo++]=Mc,xo[Eo++]=Lc,Lc=e,Mc=t}function NS(e,t,r){rn[nn++]=di,rn[nn++]=fi,rn[nn++]=za,za=e;var n=di;e=fi;var i=32-kn(n)-1;n&=~(1<<i),r+=1;var a=32-kn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,di=1<<32-kn(t)+i|r<<i|n,fi=a+e}else di=1<<a|r<<i|n,fi=e}function em(e){e.return!==null&&(Aa(e,1),NS(e,1,0))}function tm(e){for(;e===Lc;)Lc=xo[--Eo],xo[Eo]=null,Mc=xo[--Eo],xo[Eo]=null;for(;e===za;)za=rn[--nn],rn[nn]=null,fi=rn[--nn],rn[nn]=null,di=rn[--nn],rn[nn]=null}var zr=null,jr=null,wt=!1,En=null;function RS(e,t){var r=an(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Av(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zr=e,jr=ra(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zr=e,jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=za!==null?{id:di,overflow:fi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=an(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,zr=e,jr=null,!0):!1;default:return!1}}function np(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ip(e){if(wt){var t=jr;if(t){var r=t;if(!Av(e,t)){if(np(e))throw Error(re(418));t=ra(r.nextSibling);var n=zr;t&&Av(e,t)?RS(n,r):(e.flags=e.flags&-4097|2,wt=!1,zr=e)}}else{if(np(e))throw Error(re(418));e.flags=e.flags&-4097|2,wt=!1,zr=e}}}function kv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zr=e}function Bu(e){if(e!==zr)return!1;if(!wt)return kv(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zh(e.type,e.memoizedProps)),t&&(t=jr)){if(np(e))throw _S(),Error(re(418));for(;t;)RS(e,t),t=ra(t.nextSibling)}if(kv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jr=ra(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jr=null}}else jr=zr?ra(e.stateNode.nextSibling):null;return!0}function _S(){for(var e=jr;e;)e=ra(e.nextSibling)}function Ko(){jr=zr=null,wt=!1}function rm(e){En===null?En=[e]:En.push(e)}var gk=Ti.ReactCurrentBatchConfig;function wn(e,t){if(e&&e.defaultProps){t=It({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Oc=ma(null),Pc=null,bo=null,nm=null;function im(){nm=bo=Pc=null}function am(e){var t=Oc.current;St(Oc),e._currentValue=t}function ap(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oo(e,t){Pc=e,nm=bo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rr=!0),e.firstContext=null)}function pn(e){var t=e._currentValue;if(nm!==e)if(e={context:e,memoizedValue:t,next:null},bo===null){if(Pc===null)throw Error(re(308));bo=e,Pc.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Ma=null;function om(e){Ma===null?Ma=[e]:Ma.push(e)}function BS(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,om(t)):(r.next=i.next,i.next=r),t.interleaved=r,Si(e,n)}function Si(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Pi=!1;function sm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Si(e,r)}return i=n.interleaved,i===null?(t.next=t,om(n)):(t.next=i.next,i.next=t),n.interleaved=t,Si(e,r)}function ec(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q0(e,r)}}function Iv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fc(e,t,r,n){var i=e.updateQueue;Pi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane,C=s.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:C,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(p=t,C=r,v.tag){case 1:if(h=v.payload,typeof h=="function"){d=h.call(C,d,p);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(C,d,p):h,p==null)break e;d=It({},d,p);break e;case 2:Pi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else C={eventTime:C,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=C,l=d):c=c.next=C,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ga|=o,e.lanes=o,e.memoizedState=d}}function Nv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var LS=new BC.Component().refs;function op(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:It({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Md={isMounted:function(e){return(e=e._reactInternals)?Za(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tr(),i=aa(e),a=mi(n,i);a.payload=t,r!=null&&(a.callback=r),t=na(e,a,i),t!==null&&(In(t,e,i,n),ec(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tr(),i=aa(e),a=mi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=na(e,a,i),t!==null&&(In(t,e,i,n),ec(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tr(),n=aa(e),i=mi(r,n);i.tag=2,t!=null&&(i.callback=t),t=na(e,i,n),t!==null&&(In(t,e,n,r),ec(t,e,n))}};function Rv(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!El(r,n)||!El(i,a):!0}function MS(e,t,r){var n=!1,i=ua,a=t.contextType;return typeof a=="object"&&a!==null?a=pn(a):(i=Dr(t)?ja:vr.current,n=t.contextTypes,a=(n=n!=null)?Vo(e,i):ua),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Md,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function _v(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Md.enqueueReplaceState(t,t.state,null)}function sp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=LS,sm(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=pn(a):(a=Dr(t)?ja:vr.current,i.context=Vo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(op(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Md.enqueueReplaceState(i,i.state,null),Fc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Os(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;s===LS&&(s=i.refs={}),o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function Du(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bv(e){var t=e._init;return t(e._payload)}function OS(e){function t(m,g){if(e){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function r(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=oa(m,g),m.index=0,m.sibling=null,m}function a(m,g,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,g,y,w){return g===null||g.tag!==6?(g=Yf(y,m.mode,w),g.return=m,g):(g=i(g,y),g.return=m,g)}function l(m,g,y,w){var E=y.type;return E===go?c(m,g,y.props.children,w,y.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oi&&Bv(E)===g.type)?(w=i(g,y.props),w.ref=Os(m,g,y),w.return=m,w):(w=oc(y.type,y.key,y.props,null,m.mode,w),w.ref=Os(m,g,y),w.return=m,w)}function u(m,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Xf(y,m.mode,w),g.return=m,g):(g=i(g,y.children||[]),g.return=m,g)}function c(m,g,y,w,E){return g===null||g.tag!==7?(g=Va(y,m.mode,w,E),g.return=m,g):(g=i(g,y),g.return=m,g)}function d(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Yf(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xu:return y=oc(g.type,g.key,g.props,null,m.mode,y),y.ref=Os(m,null,g),y.return=m,y;case mo:return g=Xf(g,m.mode,y),g.return=m,g;case Oi:var w=g._init;return d(m,w(g._payload),y)}if(zs(g)||_s(g))return g=Va(g,m.mode,y,null),g.return=m,g;Du(m,g)}return null}function p(m,g,y,w){var E=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:s(m,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xu:return y.key===E?l(m,g,y,w):null;case mo:return y.key===E?u(m,g,y,w):null;case Oi:return E=y._init,p(m,g,E(y._payload),w)}if(zs(y)||_s(y))return E!==null?null:c(m,g,y,w,null);Du(m,y)}return null}function C(m,g,y,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,s(g,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xu:return m=m.get(w.key===null?y:w.key)||null,l(g,m,w,E);case mo:return m=m.get(w.key===null?y:w.key)||null,u(g,m,w,E);case Oi:var b=w._init;return C(m,g,y,b(w._payload),E)}if(zs(w)||_s(w))return m=m.get(y)||null,c(g,m,w,E,null);Du(g,w)}return null}function h(m,g,y,w){for(var E=null,b=null,T=g,_=g=0,M=null;T!==null&&_<y.length;_++){T.index>_?(M=T,T=null):M=T.sibling;var D=p(m,T,y[_],w);if(D===null){T===null&&(T=M);break}e&&T&&D.alternate===null&&t(m,T),g=a(D,g,_),b===null?E=D:b.sibling=D,b=D,T=M}if(_===y.length)return r(m,T),wt&&Aa(m,_),E;if(T===null){for(;_<y.length;_++)T=d(m,y[_],w),T!==null&&(g=a(T,g,_),b===null?E=T:b.sibling=T,b=T);return wt&&Aa(m,_),E}for(T=n(m,T);_<y.length;_++)M=C(T,m,_,y[_],w),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?_:M.key),g=a(M,g,_),b===null?E=M:b.sibling=M,b=M);return e&&T.forEach(function(A){return t(m,A)}),wt&&Aa(m,_),E}function v(m,g,y,w){var E=_s(y);if(typeof E!="function")throw Error(re(150));if(y=E.call(y),y==null)throw Error(re(151));for(var b=E=null,T=g,_=g=0,M=null,D=y.next();T!==null&&!D.done;_++,D=y.next()){T.index>_?(M=T,T=null):M=T.sibling;var A=p(m,T,D.value,w);if(A===null){T===null&&(T=M);break}e&&T&&A.alternate===null&&t(m,T),g=a(A,g,_),b===null?E=A:b.sibling=A,b=A,T=M}if(D.done)return r(m,T),wt&&Aa(m,_),E;if(T===null){for(;!D.done;_++,D=y.next())D=d(m,D.value,w),D!==null&&(g=a(D,g,_),b===null?E=D:b.sibling=D,b=D);return wt&&Aa(m,_),E}for(T=n(m,T);!D.done;_++,D=y.next())D=C(T,m,_,D.value,w),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?_:D.key),g=a(D,g,_),b===null?E=D:b.sibling=D,b=D);return e&&T.forEach(function(B){return t(m,B)}),wt&&Aa(m,_),E}function S(m,g,y,w){if(typeof y=="object"&&y!==null&&y.type===go&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xu:e:{for(var E=y.key,b=g;b!==null;){if(b.key===E){if(E=y.type,E===go){if(b.tag===7){r(m,b.sibling),g=i(b,y.props.children),g.return=m,m=g;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Oi&&Bv(E)===b.type){r(m,b.sibling),g=i(b,y.props),g.ref=Os(m,b,y),g.return=m,m=g;break e}r(m,b);break}else t(m,b);b=b.sibling}y.type===go?(g=Va(y.props.children,m.mode,w,y.key),g.return=m,m=g):(w=oc(y.type,y.key,y.props,null,m.mode,w),w.ref=Os(m,g,y),w.return=m,m=w)}return o(m);case mo:e:{for(b=y.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(m,g.sibling),g=i(g,y.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else t(m,g);g=g.sibling}g=Xf(y,m.mode,w),g.return=m,m=g}return o(m);case Oi:return b=y._init,S(m,g,b(y._payload),w)}if(zs(y))return h(m,g,y,w);if(_s(y))return v(m,g,y,w);Du(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(m,g.sibling),g=i(g,y),g.return=m,m=g):(r(m,g),g=Yf(y,m.mode,w),g.return=m,m=g),o(m)):r(m,g)}return S}var $o=OS(!0),PS=OS(!1),Jl={},Yn=ma(Jl),kl=ma(Jl),Il=ma(Jl);function Oa(e){if(e===Jl)throw Error(re(174));return e}function lm(e,t){switch(pt(Il,t),pt(kl,e),pt(Yn,Jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uh(t,e)}St(Yn),pt(Yn,t)}function Ho(){St(Yn),St(kl),St(Il)}function FS(e){Oa(Il.current);var t=Oa(Yn.current),r=Uh(t,e.type);t!==r&&(pt(kl,e),pt(Yn,r))}function um(e){kl.current===e&&(St(Yn),St(kl))}var Tt=ma(0);function Uc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jf=[];function cm(){for(var e=0;e<jf.length;e++)jf[e]._workInProgressVersionPrimary=null;jf.length=0}var tc=Ti.ReactCurrentDispatcher,zf=Ti.ReactCurrentBatchConfig,qa=0,kt=null,qt=null,Xt=null,Vc=!1,il=!1,Nl=0,vk=0;function hr(){throw Error(re(321))}function dm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function fm(e,t,r,n,i,a){if(qa=a,kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tc.current=e===null||e.memoizedState===null?wk:xk,e=r(n,i),il){a=0;do{if(il=!1,Nl=0,25<=a)throw Error(re(301));a+=1,Xt=qt=null,t.updateQueue=null,tc.current=Ek,e=r(n,i)}while(il)}if(tc.current=Kc,t=qt!==null&&qt.next!==null,qa=0,Xt=qt=kt=null,Vc=!1,t)throw Error(re(300));return e}function hm(){var e=Nl!==0;return Nl=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?kt.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function mn(){if(qt===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var t=Xt===null?kt.memoizedState:Xt.next;if(t!==null)Xt=t,qt=e;else{if(e===null)throw Error(re(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Xt===null?kt.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function Rl(e,t){return typeof t=="function"?t(e):t}function qf(e){var t=mn(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=qt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((qa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,kt.lanes|=c,Ga|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Nn(n,t.memoizedState)||(Rr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,kt.lanes|=a,Ga|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gf(e){var t=mn(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Nn(a,t.memoizedState)||(Rr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function US(){}function VS(e,t){var r=kt,n=mn(),i=t(),a=!Nn(n.memoizedState,i);if(a&&(n.memoizedState=i,Rr=!0),n=n.queue,pm(HS.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Xt!==null&&Xt.memoizedState.tag&1){if(r.flags|=2048,_l(9,$S.bind(null,r,n,i,t),void 0,null),Zt===null)throw Error(re(349));qa&30||KS(r,t,i)}return i}function KS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $S(e,t,r,n){t.value=r,t.getSnapshot=n,jS(t)&&zS(e)}function HS(e,t,r){return r(function(){jS(t)&&zS(e)})}function jS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nn(e,r)}catch{return!0}}function zS(e){var t=Si(e,1);t!==null&&In(t,e,1,-1)}function Dv(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:e},t.queue=e,e=e.dispatch=Sk.bind(null,kt,e),[t.memoizedState,e]}function _l(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=kt.updateQueue,t===null?(t={lastEffect:null,stores:null},kt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qS(){return mn().memoizedState}function rc(e,t,r,n){var i=On();kt.flags|=e,i.memoizedState=_l(1|t,r,void 0,n===void 0?null:n)}function Od(e,t,r,n){var i=mn();n=n===void 0?null:n;var a=void 0;if(qt!==null){var o=qt.memoizedState;if(a=o.destroy,n!==null&&dm(n,o.deps)){i.memoizedState=_l(t,r,a,n);return}}kt.flags|=e,i.memoizedState=_l(1|t,r,a,n)}function Lv(e,t){return rc(8390656,8,e,t)}function pm(e,t){return Od(2048,8,e,t)}function GS(e,t){return Od(4,2,e,t)}function WS(e,t){return Od(4,4,e,t)}function QS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YS(e,t,r){return r=r!=null?r.concat([e]):null,Od(4,4,QS.bind(null,t,e),r)}function mm(){}function XS(e,t){var r=mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function JS(e,t){var r=mn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&dm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ZS(e,t,r){return qa&21?(Nn(r,t)||(r=rS(),kt.lanes|=r,Ga|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rr=!0),e.memoizedState=r)}function yk(e,t){var r=lt;lt=r!==0&&4>r?r:4,e(!0);var n=zf.transition;zf.transition={};try{e(!1),t()}finally{lt=r,zf.transition=n}}function ew(){return mn().memoizedState}function Ck(e,t,r){var n=aa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tw(e))rw(t,r);else if(r=BS(e,t,r,n),r!==null){var i=Tr();In(r,e,n,i),nw(r,t,n)}}function Sk(e,t,r){var n=aa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tw(e))rw(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Nn(s,o)){var l=t.interleaved;l===null?(i.next=i,om(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=BS(e,t,i,n),r!==null&&(i=Tr(),In(r,e,n,i),nw(r,t,n))}}function tw(e){var t=e.alternate;return e===kt||t!==null&&t===kt}function rw(e,t){il=Vc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,q0(e,r)}}var Kc={readContext:pn,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},wk={readContext:pn,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:Lv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,rc(4194308,4,QS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return rc(4194308,4,e,t)},useInsertionEffect:function(e,t){return rc(4,2,e,t)},useMemo:function(e,t){var r=On();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=On();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ck.bind(null,kt,e),[n.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:Dv,useDebugValue:mm,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=Dv(!1),t=e[0];return e=yk.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=kt,i=On();if(wt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),Zt===null)throw Error(re(349));qa&30||KS(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Lv(HS.bind(null,n,a,e),[e]),n.flags|=2048,_l(9,$S.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=On(),t=Zt.identifierPrefix;if(wt){var r=fi,n=di;r=(n&~(1<<32-kn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Nl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xk={readContext:pn,useCallback:XS,useContext:pn,useEffect:pm,useImperativeHandle:YS,useInsertionEffect:GS,useLayoutEffect:WS,useMemo:JS,useReducer:qf,useRef:qS,useState:function(){return qf(Rl)},useDebugValue:mm,useDeferredValue:function(e){var t=mn();return ZS(t,qt.memoizedState,e)},useTransition:function(){var e=qf(Rl)[0],t=mn().memoizedState;return[e,t]},useMutableSource:US,useSyncExternalStore:VS,useId:ew,unstable_isNewReconciler:!1},Ek={readContext:pn,useCallback:XS,useContext:pn,useEffect:pm,useImperativeHandle:YS,useInsertionEffect:GS,useLayoutEffect:WS,useMemo:JS,useReducer:Gf,useRef:qS,useState:function(){return Gf(Rl)},useDebugValue:mm,useDeferredValue:function(e){var t=mn();return qt===null?t.memoizedState=e:ZS(t,qt.memoizedState,e)},useTransition:function(){var e=Gf(Rl)[0],t=mn().memoizedState;return[e,t]},useMutableSource:US,useSyncExternalStore:VS,useId:ew,unstable_isNewReconciler:!1};function jo(e,t){try{var r="",n=t;do r+=XT(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Wf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bk=typeof WeakMap=="function"?WeakMap:Map;function iw(e,t,r){r=mi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hc||(Hc=!0,yp=n),lp(e,t)},r}function aw(e,t,r){r=mi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){lp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){lp(e,t),typeof n!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Mv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bk;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Fk.bind(null,e,t,r),t.then(e,e))}function Ov(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pv(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mi(-1,1),t.tag=2,na(r,t,1))),r.lanes|=1),e)}var Tk=Ti.ReactCurrentOwner,Rr=!1;function wr(e,t,r,n){t.child=e===null?PS(t,null,r,n):$o(t,e.child,r,n)}function Fv(e,t,r,n,i){r=r.render;var a=t.ref;return Oo(t,i),n=fm(e,t,r,n,a,i),r=hm(),e!==null&&!Rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wi(e,t,i)):(wt&&r&&em(t),t.flags|=1,wr(e,t,n,i),t.child)}function Uv(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Em(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,ow(e,t,a,n,i)):(e=oc(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:El,r(o,n)&&e.ref===t.ref)return wi(e,t,i)}return t.flags|=1,e=oa(a,n),e.ref=t.ref,e.return=t,t.child=e}function ow(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(El(a,n)&&e.ref===t.ref)if(Rr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Rr=!0);else return t.lanes=e.lanes,wi(e,t,i)}return up(e,t,r,n,i)}function sw(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Ao,Vr),Vr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pt(Ao,Vr),Vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,pt(Ao,Vr),Vr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,pt(Ao,Vr),Vr|=n;return wr(e,t,i,r),t.child}function lw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function up(e,t,r,n,i){var a=Dr(r)?ja:vr.current;return a=Vo(t,a),Oo(t,i),r=fm(e,t,r,n,a,i),n=hm(),e!==null&&!Rr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wi(e,t,i)):(wt&&n&&em(t),t.flags|=1,wr(e,t,r,i),t.child)}function Vv(e,t,r,n,i){if(Dr(r)){var a=!0;Dc(t)}else a=!1;if(Oo(t,i),t.stateNode===null)nc(e,t),MS(t,r,n),sp(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=Dr(r)?ja:vr.current,u=Vo(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&_v(t,o,n,u),Pi=!1;var p=t.memoizedState;o.state=p,Fc(t,n,o,i),l=t.memoizedState,s!==n||p!==l||Br.current||Pi?(typeof c=="function"&&(op(t,r,c,n),l=t.memoizedState),(s=Pi||Rv(t,r,s,n,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,DS(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:wn(t.type,s),o.props=u,d=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=pn(l):(l=Dr(r)?ja:vr.current,l=Vo(t,l));var C=r.getDerivedStateFromProps;(c=typeof C=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||p!==l)&&_v(t,o,n,l),Pi=!1,p=t.memoizedState,o.state=p,Fc(t,n,o,i);var h=t.memoizedState;s!==d||p!==h||Br.current||Pi?(typeof C=="function"&&(op(t,r,C,n),h=t.memoizedState),(u=Pi||Rv(t,r,u,n,p,h,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return cp(e,t,r,n,a,i)}function cp(e,t,r,n,i,a){lw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Tv(t,r,!1),wi(e,t,a);n=t.stateNode,Tk.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=$o(t,e.child,null,a),t.child=$o(t,null,s,a)):wr(e,t,s,a),t.memoizedState=n.state,i&&Tv(t,r,!0),t.child}function uw(e){var t=e.stateNode;t.pendingContext?bv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bv(e,t.context,!1),lm(e,t.containerInfo)}function Kv(e,t,r,n,i){return Ko(),rm(i),t.flags|=256,wr(e,t,r,n),t.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function fp(e){return{baseLanes:e,cachePool:null,transitions:null}}function cw(e,t,r){var n=t.pendingProps,i=Tt.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),pt(Tt,i&1),e===null)return ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ud(o,n,0,null),e=Va(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=fp(r),t.memoizedState=dp,e):gm(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Ak(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=oa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=oa(s,a):(a=Va(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?fp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=dp,n}return a=e.child,e=a.sibling,n=oa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function gm(e,t){return t=Ud({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lu(e,t,r,n){return n!==null&&rm(n),$o(t,e.child,null,r),e=gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ak(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Wf(Error(re(422))),Lu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ud({mode:"visible",children:n.children},i,0,null),a=Va(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&$o(t,e.child,null,o),t.child.memoizedState=fp(o),t.memoizedState=dp,a);if(!(t.mode&1))return Lu(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(re(419)),n=Wf(a,n,void 0),Lu(e,t,o,n)}if(s=(o&e.childLanes)!==0,Rr||s){if(n=Zt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Si(e,i),In(n,e,i,-1))}return xm(),n=Wf(Error(re(421))),Lu(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Uk.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,jr=ra(i.nextSibling),zr=t,wt=!0,En=null,e!==null&&(rn[nn++]=di,rn[nn++]=fi,rn[nn++]=za,di=e.id,fi=e.overflow,za=t),t=gm(t,n.children),t.flags|=4096,t)}function $v(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ap(e.return,t,r)}function Qf(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function dw(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(wr(e,t,n.children,r),n=Tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$v(e,r,t);else if(e.tag===19)$v(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pt(Tt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Uc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Qf(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Uc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Qf(t,!0,r,null,a);break;case"together":Qf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=oa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=oa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kk(e,t,r){switch(t.tag){case 3:uw(t),Ko();break;case 5:FS(t);break;case 1:Dr(t.type)&&Dc(t);break;case 4:lm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;pt(Oc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pt(Tt,Tt.current&1),t.flags|=128,null):r&t.child.childLanes?cw(e,t,r):(pt(Tt,Tt.current&1),e=wi(e,t,r),e!==null?e.sibling:null);pt(Tt,Tt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return dw(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(Tt,Tt.current),n)break;return null;case 22:case 23:return t.lanes=0,sw(e,t,r)}return wi(e,t,r)}var fw,hp,hw,pw;fw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hp=function(){};hw=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Oa(Yn.current);var a=null;switch(r){case"input":i=Mh(e,i),n=Mh(e,n),a=[];break;case"select":i=It({},i,{value:void 0}),n=It({},n,{value:void 0}),a=[];break;case"textarea":i=Fh(e,i),n=Fh(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_c)}Vh(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&vt("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};pw=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ps(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ik(e,t,r){var n=t.pendingProps;switch(tm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(t),null;case 1:return Dr(t.type)&&Bc(),pr(t),null;case 3:return n=t.stateNode,Ho(),St(Br),St(vr),cm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&(wp(En),En=null))),hp(e,t),pr(t),null;case 5:um(t);var i=Oa(Il.current);if(r=t.type,e!==null&&t.stateNode!=null)hw(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return pr(t),null}if(e=Oa(Yn.current),Bu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[$n]=t,n[Al]=a,e=(t.mode&1)!==0,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(i=0;i<Gs.length;i++)vt(Gs[i],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":Xg(n,a),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},vt("invalid",n);break;case"textarea":Zg(n,a),vt("invalid",n)}Vh(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&_u(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&_u(n.textContent,s,e),i=["children",""+s]):gl.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&vt("scroll",n)}switch(r){case"input":Eu(n),Jg(n,a,!0);break;case"textarea":Eu(n),ev(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=_c)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=KC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[$n]=t,e[Al]=n,fw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Kh(r,n),r){case"dialog":vt("cancel",e),vt("close",e),i=n;break;case"iframe":case"object":case"embed":vt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Gs.length;i++)vt(Gs[i],e);i=n;break;case"source":vt("error",e),i=n;break;case"img":case"image":case"link":vt("error",e),vt("load",e),i=n;break;case"details":vt("toggle",e),i=n;break;case"input":Xg(e,n),i=Mh(e,n),vt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=It({},n,{value:void 0}),vt("invalid",e);break;case"textarea":Zg(e,n),i=Fh(e,n),vt("invalid",e);break;default:i=n}Vh(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?jC(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$C(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&vl(e,l):typeof l=="number"&&vl(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gl.hasOwnProperty(a)?l!=null&&a==="onScroll"&&vt("scroll",e):l!=null&&V0(e,a,l,o))}switch(r){case"input":Eu(e),Jg(e,n,!1);break;case"textarea":Eu(e),ev(e);break;case"option":n.value!=null&&e.setAttribute("value",""+la(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Bo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Bo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_c)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pr(t),null;case 6:if(e&&t.stateNode!=null)pw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=Oa(Il.current),Oa(Yn.current),Bu(t)){if(n=t.stateNode,r=t.memoizedProps,n[$n]=t,(a=n.nodeValue!==r)&&(e=zr,e!==null))switch(e.tag){case 3:_u(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_u(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$n]=t,t.stateNode=n}return pr(t),null;case 13:if(St(Tt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&jr!==null&&t.mode&1&&!(t.flags&128))_S(),Ko(),t.flags|=98560,a=!1;else if(a=Bu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(re(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(re(317));a[$n]=t}else Ko(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pr(t),a=!1}else En!==null&&(wp(En),En=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Tt.current&1?Gt===0&&(Gt=3):xm())),t.updateQueue!==null&&(t.flags|=4),pr(t),null);case 4:return Ho(),hp(e,t),e===null&&bl(t.stateNode.containerInfo),pr(t),null;case 10:return am(t.type._context),pr(t),null;case 17:return Dr(t.type)&&Bc(),pr(t),null;case 19:if(St(Tt),a=t.memoizedState,a===null)return pr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Ps(a,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Uc(e),o!==null){for(t.flags|=128,Ps(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pt(Tt,Tt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Lt()>zo&&(t.flags|=128,n=!0,Ps(a,!1),t.lanes=4194304)}else{if(!n)if(e=Uc(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ps(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!wt)return pr(t),null}else 2*Lt()-a.renderingStartTime>zo&&r!==1073741824&&(t.flags|=128,n=!0,Ps(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Lt(),t.sibling=null,r=Tt.current,pt(Tt,n?r&1|2:r&1),t):(pr(t),null);case 22:case 23:return wm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Vr&1073741824&&(pr(t),t.subtreeFlags&6&&(t.flags|=8192)):pr(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function Nk(e,t){switch(tm(t),t.tag){case 1:return Dr(t.type)&&Bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ho(),St(Br),St(vr),cm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return um(t),null;case 13:if(St(Tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Ko()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return St(Tt),null;case 4:return Ho(),null;case 10:return am(t.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var Mu=!1,gr=!1,Rk=typeof WeakSet=="function"?WeakSet:Set,he=null;function To(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Nt(e,t,n)}else r.current=null}function pp(e,t,r){try{r()}catch(n){Nt(e,t,n)}}var Hv=!1;function _k(e,t){if(Xh=Ic,e=yS(),Z0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var C;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(C=d.firstChild)!==null;)p=d,d=C;for(;;){if(d===e)break t;if(p===r&&++u===i&&(s=o),p===a&&++c===n&&(l=o),(C=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=C}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jh={focusedElem:e,selectionRange:r},Ic=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,S=h.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:wn(t.type,v),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(w){Nt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return h=Hv,Hv=!1,h}function al(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&pp(t,r,a)}i=i.next}while(i!==n)}}function Pd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mw(e){var t=e.alternate;t!==null&&(e.alternate=null,mw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[Al],delete t[tp],delete t[hk],delete t[pk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gw(e){return e.tag===5||e.tag===3||e.tag===4}function jv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_c));else if(n!==4&&(e=e.child,e!==null))for(gp(e,t,r),e=e.sibling;e!==null;)gp(e,t,r),e=e.sibling}function vp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vp(e,t,r),e=e.sibling;e!==null;)vp(e,t,r),e=e.sibling}var ir=null,xn=!1;function Ri(e,t,r){for(r=r.child;r!==null;)vw(e,t,r),r=r.sibling}function vw(e,t,r){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Nd,r)}catch{}switch(r.tag){case 5:gr||To(r,t);case 6:var n=ir,i=xn;ir=null,Ri(e,t,r),ir=n,xn=i,ir!==null&&(xn?(e=ir,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ir.removeChild(r.stateNode));break;case 18:ir!==null&&(xn?(e=ir,r=r.stateNode,e.nodeType===8?$f(e.parentNode,r):e.nodeType===1&&$f(e,r),wl(e)):$f(ir,r.stateNode));break;case 4:n=ir,i=xn,ir=r.stateNode.containerInfo,xn=!0,Ri(e,t,r),ir=n,xn=i;break;case 0:case 11:case 14:case 15:if(!gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&pp(r,t,o),i=i.next}while(i!==n)}Ri(e,t,r);break;case 1:if(!gr&&(To(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Nt(r,t,s)}Ri(e,t,r);break;case 21:Ri(e,t,r);break;case 22:r.mode&1?(gr=(n=gr)||r.memoizedState!==null,Ri(e,t,r),gr=n):Ri(e,t,r);break;default:Ri(e,t,r)}}function zv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Rk),t.forEach(function(n){var i=Vk.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Cn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ir=s.stateNode,xn=!1;break e;case 3:ir=s.stateNode.containerInfo,xn=!0;break e;case 4:ir=s.stateNode.containerInfo,xn=!0;break e}s=s.return}if(ir===null)throw Error(re(160));vw(a,o,i),ir=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Nt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yw(t,e),t=t.sibling}function yw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cn(t,e),Mn(e),n&4){try{al(3,e,e.return),Pd(3,e)}catch(v){Nt(e,e.return,v)}try{al(5,e,e.return)}catch(v){Nt(e,e.return,v)}}break;case 1:Cn(t,e),Mn(e),n&512&&r!==null&&To(r,r.return);break;case 5:if(Cn(t,e),Mn(e),n&512&&r!==null&&To(r,r.return),e.flags&32){var i=e.stateNode;try{vl(i,"")}catch(v){Nt(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&UC(i,a),Kh(s,o);var u=Kh(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?jC(i,d):c==="dangerouslySetInnerHTML"?$C(i,d):c==="children"?vl(i,d):V0(i,c,d,u)}switch(s){case"input":Oh(i,a);break;case"textarea":VC(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var C=a.value;C!=null?Bo(i,!!a.multiple,C,!1):p!==!!a.multiple&&(a.defaultValue!=null?Bo(i,!!a.multiple,a.defaultValue,!0):Bo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Al]=a}catch(v){Nt(e,e.return,v)}}break;case 6:if(Cn(t,e),Mn(e),n&4){if(e.stateNode===null)throw Error(re(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Nt(e,e.return,v)}}break;case 3:if(Cn(t,e),Mn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wl(t.containerInfo)}catch(v){Nt(e,e.return,v)}break;case 4:Cn(t,e),Mn(e);break;case 13:Cn(t,e),Mn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Cm=Lt())),n&4&&zv(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(gr=(u=gr)||c,Cn(t,e),gr=u):Cn(t,e),Mn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(he=e,c=e.child;c!==null;){for(d=he=c;he!==null;){switch(p=he,C=p.child,p.tag){case 0:case 11:case 14:case 15:al(4,p,p.return);break;case 1:To(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){Nt(n,r,v)}}break;case 5:To(p,p.return);break;case 22:if(p.memoizedState!==null){Gv(d);continue}}C!==null?(C.return=p,he=C):Gv(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=HC("display",o))}catch(v){Nt(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Nt(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Cn(t,e),Mn(e),n&4&&zv(e);break;case 21:break;default:Cn(t,e),Mn(e)}}function Mn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gw(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vl(i,""),n.flags&=-33);var a=jv(e);vp(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=jv(e);gp(e,s,o);break;default:throw Error(re(161))}}catch(l){Nt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bk(e,t,r){he=e,Cw(e)}function Cw(e,t,r){for(var n=(e.mode&1)!==0;he!==null;){var i=he,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Mu;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||gr;s=Mu;var u=gr;if(Mu=o,(gr=l)&&!u)for(he=i;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?Wv(i):l!==null?(l.return=o,he=l):Wv(i);for(;a!==null;)he=a,Cw(a),a=a.sibling;he=i,Mu=s,gr=u}qv(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,he=a):qv(e)}}function qv(e){for(;he!==null;){var t=he;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gr||Pd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:wn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Nv(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Nv(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&wl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}gr||t.flags&512&&mp(t)}catch(p){Nt(t,t.return,p)}}if(t===e){he=null;break}if(r=t.sibling,r!==null){r.return=t.return,he=r;break}he=t.return}}function Gv(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var r=t.sibling;if(r!==null){r.return=t.return,he=r;break}he=t.return}}function Wv(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Pd(4,t)}catch(l){Nt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Nt(t,i,l)}}var a=t.return;try{mp(t)}catch(l){Nt(t,a,l)}break;case 5:var o=t.return;try{mp(t)}catch(l){Nt(t,o,l)}}}catch(l){Nt(t,t.return,l)}if(t===e){he=null;break}var s=t.sibling;if(s!==null){s.return=t.return,he=s;break}he=t.return}}var Dk=Math.ceil,$c=Ti.ReactCurrentDispatcher,vm=Ti.ReactCurrentOwner,dn=Ti.ReactCurrentBatchConfig,Je=0,Zt=null,Kt=null,ur=0,Vr=0,Ao=ma(0),Gt=0,Bl=null,Ga=0,Fd=0,ym=0,ol=null,Nr=null,Cm=0,zo=1/0,ai=null,Hc=!1,yp=null,ia=null,Ou=!1,Hi=null,jc=0,sl=0,Cp=null,ic=-1,ac=0;function Tr(){return Je&6?Lt():ic!==-1?ic:ic=Lt()}function aa(e){return e.mode&1?Je&2&&ur!==0?ur&-ur:gk.transition!==null?(ac===0&&(ac=rS()),ac):(e=lt,e!==0||(e=window.event,e=e===void 0?16:uS(e.type)),e):1}function In(e,t,r,n){if(50<sl)throw sl=0,Cp=null,Error(re(185));Ql(e,r,n),(!(Je&2)||e!==Zt)&&(e===Zt&&(!(Je&2)&&(Fd|=r),Gt===4&&Ki(e,ur)),Lr(e,n),r===1&&Je===0&&!(t.mode&1)&&(zo=Lt()+500,Ld&&ga()))}function Lr(e,t){var r=e.callbackNode;gA(e,t);var n=kc(e,e===Zt?ur:0);if(n===0)r!==null&&nv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&nv(r),t===1)e.tag===0?mk(Qv.bind(null,e)):IS(Qv.bind(null,e)),dk(function(){!(Je&6)&&ga()}),r=null;else{switch(nS(n)){case 1:r=z0;break;case 4:r=eS;break;case 16:r=Ac;break;case 536870912:r=tS;break;default:r=Ac}r=kw(r,Sw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Sw(e,t){if(ic=-1,ac=0,Je&6)throw Error(re(327));var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var n=kc(e,e===Zt?ur:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zc(e,n);else{t=n;var i=Je;Je|=2;var a=xw();(Zt!==e||ur!==t)&&(ai=null,zo=Lt()+500,Ua(e,t));do try{Ok();break}catch(s){ww(e,s)}while(1);im(),$c.current=a,Je=i,Kt!==null?t=0:(Zt=null,ur=0,t=Gt)}if(t!==0){if(t===2&&(i=qh(e),i!==0&&(n=i,t=Sp(e,i))),t===1)throw r=Bl,Ua(e,0),Ki(e,n),Lr(e,Lt()),r;if(t===6)Ki(e,n);else{if(i=e.current.alternate,!(n&30)&&!Lk(i)&&(t=zc(e,n),t===2&&(a=qh(e),a!==0&&(n=a,t=Sp(e,a))),t===1))throw r=Bl,Ua(e,0),Ki(e,n),Lr(e,Lt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:ka(e,Nr,ai);break;case 3:if(Ki(e,n),(n&130023424)===n&&(t=Cm+500-Lt(),10<t)){if(kc(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Tr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ep(ka.bind(null,e,Nr,ai),t);break}ka(e,Nr,ai);break;case 4:if(Ki(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-kn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Dk(n/1960))-n,10<n){e.timeoutHandle=ep(ka.bind(null,e,Nr,ai),n);break}ka(e,Nr,ai);break;case 5:ka(e,Nr,ai);break;default:throw Error(re(329))}}}return Lr(e,Lt()),e.callbackNode===r?Sw.bind(null,e):null}function Sp(e,t){var r=ol;return e.current.memoizedState.isDehydrated&&(Ua(e,t).flags|=256),e=zc(e,t),e!==2&&(t=Nr,Nr=r,t!==null&&wp(t)),e}function wp(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function Lk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Nn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ki(e,t){for(t&=~ym,t&=~Fd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kn(t),n=1<<r;e[r]=-1,t&=~n}}function Qv(e){if(Je&6)throw Error(re(327));Po();var t=kc(e,0);if(!(t&1))return Lr(e,Lt()),null;var r=zc(e,t);if(e.tag!==0&&r===2){var n=qh(e);n!==0&&(t=n,r=Sp(e,n))}if(r===1)throw r=Bl,Ua(e,0),Ki(e,t),Lr(e,Lt()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ka(e,Nr,ai),Lr(e,Lt()),null}function Sm(e,t){var r=Je;Je|=1;try{return e(t)}finally{Je=r,Je===0&&(zo=Lt()+500,Ld&&ga())}}function Wa(e){Hi!==null&&Hi.tag===0&&!(Je&6)&&Po();var t=Je;Je|=1;var r=dn.transition,n=lt;try{if(dn.transition=null,lt=1,e)return e()}finally{lt=n,dn.transition=r,Je=t,!(Je&6)&&ga()}}function wm(){Vr=Ao.current,St(Ao)}function Ua(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ck(r)),Kt!==null)for(r=Kt.return;r!==null;){var n=r;switch(tm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bc();break;case 3:Ho(),St(Br),St(vr),cm();break;case 5:um(n);break;case 4:Ho();break;case 13:St(Tt);break;case 19:St(Tt);break;case 10:am(n.type._context);break;case 22:case 23:wm()}r=r.return}if(Zt=e,Kt=e=oa(e.current,null),ur=Vr=t,Gt=0,Bl=null,ym=Fd=Ga=0,Nr=ol=null,Ma!==null){for(t=0;t<Ma.length;t++)if(r=Ma[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Ma=null}return e}function ww(e,t){do{var r=Kt;try{if(im(),tc.current=Kc,Vc){for(var n=kt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vc=!1}if(qa=0,Xt=qt=kt=null,il=!1,Nl=0,vm.current=null,r===null||r.return===null){Gt=1,Bl=t,Kt=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=ur,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var C=Ov(o);if(C!==null){C.flags&=-257,Pv(C,o,s,a,t),C.mode&1&&Mv(a,u,t),t=C,l=u;var h=t.updateQueue;if(h===null){var v=new Set;v.add(l),t.updateQueue=v}else h.add(l);break e}else{if(!(t&1)){Mv(a,u,t),xm();break e}l=Error(re(426))}}else if(wt&&s.mode&1){var S=Ov(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Pv(S,o,s,a,t),rm(jo(l,s));break e}}a=l=jo(l,s),Gt!==4&&(Gt=2),ol===null?ol=[a]:ol.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=iw(a,l,t);Iv(a,m);break e;case 1:s=l;var g=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ia===null||!ia.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=aw(a,s,t);Iv(a,w);break e}}a=a.return}while(a!==null)}bw(r)}catch(E){t=E,Kt===r&&r!==null&&(Kt=r=r.return);continue}break}while(1)}function xw(){var e=$c.current;return $c.current=Kc,e===null?Kc:e}function xm(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Zt===null||!(Ga&268435455)&&!(Fd&268435455)||Ki(Zt,ur)}function zc(e,t){var r=Je;Je|=2;var n=xw();(Zt!==e||ur!==t)&&(ai=null,Ua(e,t));do try{Mk();break}catch(i){ww(e,i)}while(1);if(im(),Je=r,$c.current=n,Kt!==null)throw Error(re(261));return Zt=null,ur=0,Gt}function Mk(){for(;Kt!==null;)Ew(Kt)}function Ok(){for(;Kt!==null&&!sA();)Ew(Kt)}function Ew(e){var t=Aw(e.alternate,e,Vr);e.memoizedProps=e.pendingProps,t===null?bw(e):Kt=t,vm.current=null}function bw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Nk(r,t),r!==null){r.flags&=32767,Kt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,Kt=null;return}}else if(r=Ik(r,t,Vr),r!==null){Kt=r;return}if(t=t.sibling,t!==null){Kt=t;return}Kt=t=e}while(t!==null);Gt===0&&(Gt=5)}function ka(e,t,r){var n=lt,i=dn.transition;try{dn.transition=null,lt=1,Pk(e,t,r,n)}finally{dn.transition=i,lt=n}return null}function Pk(e,t,r,n){do Po();while(Hi!==null);if(Je&6)throw Error(re(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(vA(e,a),e===Zt&&(Kt=Zt=null,ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ou||(Ou=!0,kw(Ac,function(){return Po(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=dn.transition,dn.transition=null;var o=lt;lt=1;var s=Je;Je|=4,vm.current=null,_k(e,r),yw(r,e),nk(Jh),Ic=!!Xh,Jh=Xh=null,e.current=r,Bk(r),lA(),Je=s,lt=o,dn.transition=a}else e.current=r;if(Ou&&(Ou=!1,Hi=e,jc=i),a=e.pendingLanes,a===0&&(ia=null),dA(r.stateNode),Lr(e,Lt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=yp,yp=null,e;return jc&1&&e.tag!==0&&Po(),a=e.pendingLanes,a&1?e===Cp?sl++:(sl=0,Cp=e):sl=0,ga(),null}function Po(){if(Hi!==null){var e=nS(jc),t=dn.transition,r=lt;try{if(dn.transition=null,lt=16>e?16:e,Hi===null)var n=!1;else{if(e=Hi,Hi=null,jc=0,Je&6)throw Error(re(331));var i=Je;for(Je|=4,he=e.current;he!==null;){var a=he,o=a.child;if(he.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(he=u;he!==null;){var c=he;switch(c.tag){case 0:case 11:case 15:al(8,c,a)}var d=c.child;if(d!==null)d.return=c,he=d;else for(;he!==null;){c=he;var p=c.sibling,C=c.return;if(mw(c),c===u){he=null;break}if(p!==null){p.return=C,he=p;break}he=C}}}var h=a.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}he=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,he=o;else e:for(;he!==null;){if(a=he,a.flags&2048)switch(a.tag){case 0:case 11:case 15:al(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,he=m;break e}he=a.return}}var g=e.current;for(he=g;he!==null;){o=he;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,he=y;else e:for(o=g;he!==null;){if(s=he,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Pd(9,s)}}catch(E){Nt(s,s.return,E)}if(s===o){he=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,he=w;break e}he=s.return}}if(Je=i,ga(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Nd,e)}catch{}n=!0}return n}finally{lt=r,dn.transition=t}}return!1}function Yv(e,t,r){t=jo(r,t),t=iw(e,t,1),e=na(e,t,1),t=Tr(),e!==null&&(Ql(e,1,t),Lr(e,t))}function Nt(e,t,r){if(e.tag===3)Yv(e,e,r);else for(;t!==null;){if(t.tag===3){Yv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ia===null||!ia.has(n))){e=jo(r,e),e=aw(t,e,1),t=na(t,e,1),e=Tr(),t!==null&&(Ql(t,1,e),Lr(t,e));break}}t=t.return}}function Fk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tr(),e.pingedLanes|=e.suspendedLanes&r,Zt===e&&(ur&r)===r&&(Gt===4||Gt===3&&(ur&130023424)===ur&&500>Lt()-Cm?Ua(e,0):ym|=r),Lr(e,t)}function Tw(e,t){t===0&&(e.mode&1?(t=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):t=1);var r=Tr();e=Si(e,t),e!==null&&(Ql(e,t,r),Lr(e,r))}function Uk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Tw(e,r)}function Vk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),Tw(e,r)}var Aw;Aw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)Rr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rr=!1,kk(e,t,r);Rr=!!(e.flags&131072)}else Rr=!1,wt&&t.flags&1048576&&NS(t,Mc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;nc(e,t),e=t.pendingProps;var i=Vo(t,vr.current);Oo(t,r),i=fm(null,t,n,e,i,r);var a=hm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(n)?(a=!0,Dc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sm(t),i.updater=Md,t.stateNode=i,i._reactInternals=t,sp(t,n,e,r),t=cp(null,t,n,!0,a,r)):(t.tag=0,wt&&a&&em(t),wr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(nc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=$k(n),e=wn(n,e),i){case 0:t=up(null,t,n,e,r);break e;case 1:t=Vv(null,t,n,e,r);break e;case 11:t=Fv(null,t,n,e,r);break e;case 14:t=Uv(null,t,n,wn(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wn(n,i),up(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wn(n,i),Vv(e,t,n,i,r);case 3:e:{if(uw(t),e===null)throw Error(re(387));n=t.pendingProps,a=t.memoizedState,i=a.element,DS(e,t),Fc(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=jo(Error(re(423)),t),t=Kv(e,t,n,r,i);break e}else if(n!==i){i=jo(Error(re(424)),t),t=Kv(e,t,n,r,i);break e}else for(jr=ra(t.stateNode.containerInfo.firstChild),zr=t,wt=!0,En=null,r=PS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ko(),n===i){t=wi(e,t,r);break e}wr(e,t,n,r)}t=t.child}return t;case 5:return FS(t),e===null&&ip(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Zh(n,i)?o=null:a!==null&&Zh(n,a)&&(t.flags|=32),lw(e,t),wr(e,t,o,r),t.child;case 6:return e===null&&ip(t),null;case 13:return cw(e,t,r);case 4:return lm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$o(t,null,n,r):wr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wn(n,i),Fv(e,t,n,i,r);case 7:return wr(e,t,t.pendingProps,r),t.child;case 8:return wr(e,t,t.pendingProps.children,r),t.child;case 12:return wr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,pt(Oc,n._currentValue),n._currentValue=o,a!==null)if(Nn(a.value,o)){if(a.children===i.children&&!Br.current){t=wi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=mi(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ap(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(re(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),ap(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}wr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Oo(t,r),i=pn(i),n=n(i),t.flags|=1,wr(e,t,n,r),t.child;case 14:return n=t.type,i=wn(n,t.pendingProps),i=wn(n.type,i),Uv(e,t,n,i,r);case 15:return ow(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wn(n,i),nc(e,t),t.tag=1,Dr(n)?(e=!0,Dc(t)):e=!1,Oo(t,r),MS(t,n,i),sp(t,n,i,r),cp(null,t,n,!0,e,r);case 19:return dw(e,t,r);case 22:return sw(e,t,r)}throw Error(re(156,t.tag))};function kw(e,t){return ZC(e,t)}function Kk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,r,n){return new Kk(e,t,r,n)}function Em(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return Em(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$0)return 11;if(e===H0)return 14}return 2}function oa(e,t){var r=e.alternate;return r===null?(r=an(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function oc(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")Em(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case go:return Va(r.children,i,a,t);case K0:o=8,i|=8;break;case _h:return e=an(12,r,t,i|2),e.elementType=_h,e.lanes=a,e;case Bh:return e=an(13,r,t,i),e.elementType=Bh,e.lanes=a,e;case Dh:return e=an(19,r,t,i),e.elementType=Dh,e.lanes=a,e;case OC:return Ud(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LC:o=10;break e;case MC:o=9;break e;case $0:o=11;break e;case H0:o=14;break e;case Oi:o=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=an(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Va(e,t,r,n){return e=an(7,e,n,t),e.lanes=r,e}function Ud(e,t,r,n){return e=an(22,e,n,t),e.elementType=OC,e.lanes=r,e.stateNode={isHidden:!1},e}function Yf(e,t,r){return e=an(6,e,null,t),e.lanes=r,e}function Xf(e,t,r){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hk(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bm(e,t,r,n,i,a,o,s,l){return e=new Hk(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=an(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sm(a),e}function jk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Iw(e){if(!e)return ua;e=e._reactInternals;e:{if(Za(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(Dr(r))return kS(e,r,t)}return t}function Nw(e,t,r,n,i,a,o,s,l){return e=bm(r,n,!0,e,i,a,o,s,l),e.context=Iw(null),r=e.current,n=Tr(),i=aa(r),a=mi(n,i),a.callback=t??null,na(r,a,i),e.current.lanes=i,Ql(e,i,n),Lr(e,n),e}function Vd(e,t,r,n){var i=t.current,a=Tr(),o=aa(i);return r=Iw(r),t.context===null?t.context=r:t.pendingContext=r,t=mi(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=na(i,t,o),e!==null&&(In(e,i,o,a),ec(e,i,o)),o}function qc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tm(e,t){Xv(e,t),(e=e.alternate)&&Xv(e,t)}function zk(){return null}var Rw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Am(e){this._internalRoot=e}Kd.prototype.render=Am.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));Vd(e,t,null,null)};Kd.prototype.unmount=Am.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wa(function(){Vd(null,e,null,null)}),t[Ci]=null}};function Kd(e){this._internalRoot=e}Kd.prototype.unstable_scheduleHydration=function(e){if(e){var t=oS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vi.length&&t!==0&&t<Vi[r].priority;r++);Vi.splice(r,0,e),r===0&&lS(e)}};function km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jv(){}function qk(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=qc(o);a.call(u)}}var o=Nw(t,n,e,0,null,!1,!1,"",Jv);return e._reactRootContainer=o,e[Ci]=o.current,bl(e.nodeType===8?e.parentNode:e),Wa(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=qc(l);s.call(u)}}var l=bm(e,0,!1,null,null,!1,!1,"",Jv);return e._reactRootContainer=l,e[Ci]=l.current,bl(e.nodeType===8?e.parentNode:e),Wa(function(){Vd(t,l,r,n)}),l}function Hd(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=qc(o);s.call(l)}}Vd(t,o,e,i)}else o=qk(r,t,e,i,n);return qc(o)}iS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qs(t.pendingLanes);r!==0&&(q0(t,r|1),Lr(t,Lt()),!(Je&6)&&(zo=Lt()+500,ga()))}break;case 13:Wa(function(){var n=Si(e,1);if(n!==null){var i=Tr();In(n,e,1,i)}}),Tm(e,1)}};G0=function(e){if(e.tag===13){var t=Si(e,134217728);if(t!==null){var r=Tr();In(t,e,134217728,r)}Tm(e,134217728)}};aS=function(e){if(e.tag===13){var t=aa(e),r=Si(e,t);if(r!==null){var n=Tr();In(r,e,t,n)}Tm(e,t)}};oS=function(){return lt};sS=function(e,t){var r=lt;try{return lt=e,t()}finally{lt=r}};Hh=function(e,t,r){switch(t){case"input":if(Oh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Dd(n);if(!i)throw Error(re(90));FC(n),Oh(n,i)}}}break;case"textarea":VC(e,r);break;case"select":t=r.value,t!=null&&Bo(e,!!r.multiple,t,!1)}};GC=Sm;WC=Wa;var Gk={usingClientEntryPoint:!1,Events:[Xl,So,Dd,zC,qC,Sm]},Fs={findFiberByHostInstance:La,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wk={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XC(e),e===null?null:e.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||zk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Nd=Pu.inject(Wk),Qn=Pu}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk;Qr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(t))throw Error(re(200));return jk(e,t,null,r)};Qr.createRoot=function(e,t){if(!km(e))throw Error(re(299));var r=!1,n="",i=Rw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=bm(e,1,!1,null,null,r,!1,n,i),e[Ci]=t.current,bl(e.nodeType===8?e.parentNode:e),new Am(t)};Qr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=XC(t),e=e===null?null:e.stateNode,e};Qr.flushSync=function(e){return Wa(e)};Qr.hydrate=function(e,t,r){if(!$d(t))throw Error(re(200));return Hd(null,e,t,!0,r)};Qr.hydrateRoot=function(e,t,r){if(!km(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Rw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Nw(t,null,e,1,r??null,i,!1,a,o),e[Ci]=t.current,bl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Kd(t)};Qr.render=function(e,t,r){if(!$d(t))throw Error(re(200));return Hd(null,e,t,!1,r)};Qr.unmountComponentAtNode=function(e){if(!$d(e))throw Error(re(40));return e._reactRootContainer?(Wa(function(){Hd(null,null,e,!1,function(){e._reactRootContainer=null,e[Ci]=null})}),!0):!1};Qr.unstable_batchedUpdates=Sm;Qr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$d(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return Hd(e,t,r,!1,n)};Qr.version="18.2.0-next-9e3b772b8-20220608";function _w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_w)}catch(e){console.error(e)}}_w(),NC.exports=Qr;var Dl=NC.exports;const ko=Xa(Dl);var Zv=Dl;Nh.createRoot=Zv.createRoot,Nh.hydrateRoot=Zv.hydrateRoot;class hs{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const r={listener:t};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Ll=typeof window>"u"||"Deno"in window;function en(){}function Qk(e,t){return typeof e=="function"?e(t):e}function xp(e){return typeof e=="number"&&e>=0&&e!==1/0}function Bw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ws(e,t,r){return Zl(e)?typeof t=="function"?{...r,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Yk(e,t,r){return Zl(e)?typeof t=="function"?{...r,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function Fi(e,t,r){return Zl(e)?[{...t,queryKey:e},r]:[e||{},t]}function ey(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(Zl(o)){if(n){if(t.queryHash!==Im(o,t.options))return!1}else if(!Gc(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function ty(e,t){const{exact:r,fetching:n,predicate:i,mutationKey:a}=e;if(Zl(a)){if(!t.options.mutationKey)return!1;if(r){if(Pa(t.options.mutationKey)!==Pa(a))return!1}else if(!Gc(t.options.mutationKey,a))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||i&&!i(t))}function Im(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pa)(e)}function Pa(e){return JSON.stringify(e,(t,r)=>Ep(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Gc(e,t){return Dw(e,t)}function Dw(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Dw(e[r],t[r])):!1}function Lw(e,t){if(e===t)return e;const r=ry(e)&&ry(t);if(r||Ep(e)&&Ep(t)){const n=r?e.length:Object.keys(e).length,i=r?t:Object.keys(t),a=i.length,o=r?[]:{};let s=0;for(let l=0;l<a;l++){const u=r?l:i[l];o[u]=Lw(e[u],t[u]),o[u]===e[u]&&s++}return n===a&&s===n?e:o}return t}function Wc(e,t){if(e&&!t||t&&!e)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ry(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ep(e){if(!ny(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!ny(r)||!r.hasOwnProperty("isPrototypeOf"))}function ny(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zl(e){return Array.isArray(e)}function Mw(e){return new Promise(t=>{setTimeout(t,e)})}function iy(e){Mw(0).then(e)}function Xk(){if(typeof AbortController=="function")return new AbortController}function bp(e,t,r){return r.isDataEqual!=null&&r.isDataEqual(e,t)?e:typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Lw(e,t):t}class Jk extends hs{constructor(){super(),this.setup=t=>{if(!Ll&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Qc=new Jk,ay=["online","offline"];class Zk extends hs{constructor(){super(),this.setup=t=>{if(!Ll&&window.addEventListener){const r=()=>t();return ay.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{ay.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Yc=new Zk;function eI(e){return Math.min(1e3*2**e,3e4)}function jd(e){return(e??"online")==="online"?Yc.isOnline():!0}class Ow{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function sc(e){return e instanceof Ow}function Pw(e){let t=!1,r=0,n=!1,i,a,o;const s=new Promise((S,m)=>{a=S,o=m}),l=S=>{n||(C(new Ow(S)),e.abort==null||e.abort())},u=()=>{t=!0},c=()=>{t=!1},d=()=>!Qc.isFocused()||e.networkMode!=="always"&&!Yc.isOnline(),p=S=>{n||(n=!0,e.onSuccess==null||e.onSuccess(S),i==null||i(),a(S))},C=S=>{n||(n=!0,e.onError==null||e.onError(S),i==null||i(),o(S))},h=()=>new Promise(S=>{i=m=>{const g=n||!d();return g&&S(m),g},e.onPause==null||e.onPause()}).then(()=>{i=void 0,n||e.onContinue==null||e.onContinue()}),v=()=>{if(n)return;let S;try{S=e.fn()}catch(m){S=Promise.reject(m)}Promise.resolve(S).then(p).catch(m=>{var g,y;if(n)return;const w=(g=e.retry)!=null?g:3,E=(y=e.retryDelay)!=null?y:eI,b=typeof E=="function"?E(r,m):E,T=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,m);if(t||!T){C(m);return}r++,e.onFail==null||e.onFail(r,m),Mw(b).then(()=>{if(d())return h()}).then(()=>{t?C(m):v()})})};return jd(e.networkMode)?v():h().then(v),{promise:s,cancel:l,continue:()=>(i==null?void 0:i())?s:Promise.resolve(),cancelRetry:u,continueRetry:c}}const Nm=console;function tI(){let e=[],t=0,r=c=>{c()},n=c=>{c()};const i=c=>{let d;t++;try{d=c()}finally{t--,t||s()}return d},a=c=>{t?e.push(c):iy(()=>{r(c)})},o=c=>(...d)=>{a(()=>{c(...d)})},s=()=>{const c=e;e=[],c.length&&iy(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:i,batchCalls:o,schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c}}}const Rt=tI();class Fw{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xp(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(Ll?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class rI extends Fw{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Nm,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||nI(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,r){const n=bp(this.state.data,t,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){this.dispatch({type:"setState",state:t,setStateOptions:r})}cancel(t){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(t),n?n.then(en).catch(en):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Bw(this.state.dataUpdatedAt,t)}onFocus(){var t;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const C=this.observers.find(h=>h.options.queryFn);C&&this.setOptions(C.options)}const o=Xk(),s={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(s);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(s)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(n=this.options.behavior)==null||n.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var d;this.dispatch({type:"fetch",meta:(d=c.fetchOptions)==null?void 0:d.meta})}const p=C=>{if(sc(C)&&C.silent||this.dispatch({type:"error",error:C}),!sc(C)){var h,v,S,m;(h=(v=this.cache.config).onError)==null||h.call(v,C,this),(S=(m=this.cache.config).onSettled)==null||S.call(m,this.state.data,C,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Pw({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:C=>{var h,v,S,m;if(typeof C>"u"){p(new Error(this.queryHash+" data is undefined"));return}this.setData(C),(h=(v=this.cache.config).onSuccess)==null||h.call(v,C,this),(S=(m=this.cache.config).onSettled)==null||S.call(m,C,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(C,h)=>{this.dispatch({type:"failed",failureCount:C,error:h})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const r=n=>{var i,a;switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:jd(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return sc(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Rt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function nI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=typeof t<"u",n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class iI extends hs{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,r,n){var i;const a=r.queryKey,o=(i=r.queryHash)!=null?i:Im(a,r);let s=this.get(o);return s||(s=new rI({cache:this,logger:t.getLogger(),queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const r=this.queriesMap[t.queryHash];r&&(t.destroy(),this.queries=this.queries.filter(n=>n!==t),r===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){Rt.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,r){const[n]=Fi(t,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>ey(n,i))}findAll(t,r){const[n]=Fi(t,r);return Object.keys(n).length>0?this.queries.filter(i=>ey(n,i)):this.queries}notify(t){Rt.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}onFocus(){Rt.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){Rt.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class aI extends Fw{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Nm,this.observers=[],this.state=t.state||Uw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(r=>r!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,r;return(t=(r=this.retryer)==null?void 0:r.continue())!=null?t:this.execute()}async execute(){const t=()=>{var T;return this.retryer=Pw({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(_,M)=>{this.dispatch({type:"failed",failureCount:_,error:M})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(T=this.options.retry)!=null?T:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,a,o,s,l,u,c;if(!r){var d,p,C,h;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(p=this.mutationCache.config).onMutate)==null?void 0:d.call(p,this.state.variables,this));const _=await((C=(h=this.options).onMutate)==null?void 0:C.call(h,this.state.variables));_!==this.state.context&&this.dispatch({type:"loading",context:_,variables:this.state.variables})}const T=await t();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,T,this.state.variables,this.state.context,this)),await((a=(o=this.options).onSuccess)==null?void 0:a.call(o,T,this.state.variables,this.state.context)),await((s=(l=this.mutationCache.config).onSettled)==null?void 0:s.call(l,T,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,T,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:T}),T}catch(T){try{var v,S,m,g,y,w,E,b;throw await((v=(S=this.mutationCache.config).onError)==null?void 0:v.call(S,T,this.state.variables,this.state.context,this)),await((m=(g=this.options).onError)==null?void 0:m.call(g,T,this.state.variables,this.state.context)),await((y=(w=this.mutationCache.config).onSettled)==null?void 0:y.call(w,void 0,T,this.state.variables,this.state.context,this)),await((E=(b=this.options).onSettled)==null?void 0:E.call(b,void 0,T,this.state.variables,this.state.context)),T}finally{this.dispatch({type:"error",error:T})}}}dispatch(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!jd(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...n,...t.state}}};this.state=r(this.state),Rt.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function Uw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class oI extends hs{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,r,n){const i=new aI({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?t.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(r=>r!==t),this.notify({type:"removed",mutation:t})}clear(){Rt.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(r=>ty(t,r))}findAll(t){return this.mutations.filter(r=>ty(t,r))}notify(t){Rt.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return Rt.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(en)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function sI(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,n,i,a,o;const s=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,l=(n=e.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,u=l==null?void 0:l.pageParam,c=(l==null?void 0:l.direction)==="forward",d=(l==null?void 0:l.direction)==="backward",p=((a=e.state.data)==null?void 0:a.pages)||[],C=((o=e.state.data)==null?void 0:o.pageParams)||[];let h=C,v=!1;const S=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>{var T;if((T=e.signal)!=null&&T.aborted)v=!0;else{var _;(_=e.signal)==null||_.addEventListener("abort",()=>{v=!0})}return e.signal}})},m=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),g=(b,T,_,M)=>(h=M?[T,...h]:[...h,T],M?[_,...b]:[...b,_]),y=(b,T,_,M)=>{if(v)return Promise.reject("Cancelled");if(typeof _>"u"&&!T&&b.length)return Promise.resolve(b);const D={queryKey:e.queryKey,pageParam:_,meta:e.options.meta};S(D);const A=m(D);return Promise.resolve(A).then(F=>g(b,_,F,M))};let w;if(!p.length)w=y([]);else if(c){const b=typeof u<"u",T=b?u:oy(e.options,p);w=y(p,b,T)}else if(d){const b=typeof u<"u",T=b?u:lI(e.options,p);w=y(p,b,T,!0)}else{h=[];const b=typeof e.options.getNextPageParam>"u";w=(s&&p[0]?s(p[0],0,p):!0)?y([],b,C[0]):Promise.resolve(g([],C[0],p[0]));for(let _=1;_<p.length;_++)w=w.then(M=>{if(s&&p[_]?s(p[_],_,p):!0){const A=b?C[_]:oy(e.options,M);return y(M,b,A)}return Promise.resolve(g(M,C[_],p[_]))})}return w.then(b=>({pages:b,pageParams:h}))}}}}function oy(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function lI(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class uI{constructor(t={}){this.queryCache=t.queryCache||new iI,this.mutationCache=t.mutationCache||new oI,this.logger=t.logger||Nm,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Qc.subscribe(()=>{Qc.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Yc.subscribe(()=>{Yc.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,r;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(t,r){const[n]=Fi(t,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,r){var n;return(n=this.queryCache.find(t,r))==null?void 0:n.state.data}ensureQueryData(t,r,n){const i=Ws(t,r,n),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(t,r,n){const i=this.queryCache.find(t),a=i==null?void 0:i.state.data,o=Qk(r,a);if(typeof o>"u")return;const s=Ws(t),l=this.defaultQueryOptions(s);return this.queryCache.build(this,l).setData(o,{...n,manual:!0})}setQueriesData(t,r,n){return Rt.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(t,r){var n;return(n=this.queryCache.find(t,r))==null?void 0:n.state}removeQueries(t,r){const[n]=Fi(t,r),i=this.queryCache;Rt.batch(()=>{i.findAll(n).forEach(a=>{i.remove(a)})})}resetQueries(t,r,n){const[i,a]=Fi(t,r,n),o=this.queryCache,s={type:"active",...i};return Rt.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(s,a)))}cancelQueries(t,r,n){const[i,a={}]=Fi(t,r,n);typeof a.revert>"u"&&(a.revert=!0);const o=Rt.batch(()=>this.queryCache.findAll(i).map(s=>s.cancel(a)));return Promise.all(o).then(en).catch(en)}invalidateQueries(t,r,n){const[i,a]=Fi(t,r,n);return Rt.batch(()=>{var o,s;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(s=i.refetchType)!=null?s:i.type)!=null?o:"active"};return this.refetchQueries(l,a)})}refetchQueries(t,r,n){const[i,a]=Fi(t,r,n),o=Rt.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...a,cancelRefetch:(u=a==null?void 0:a.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let s=Promise.all(o).then(en);return a!=null&&a.throwOnError||(s=s.catch(en)),s}fetchQuery(t,r,n){const i=Ws(t,r,n),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(t,r,n){return this.fetchQuery(t,r,n).then(en).catch(en)}fetchInfiniteQuery(t,r,n){const i=Ws(t,r,n);return i.behavior=sI(),this.fetchQuery(i)}prefetchInfiniteQuery(t,r,n){return this.fetchInfiniteQuery(t,r,n).then(en).catch(en)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,r){const n=this.queryDefaults.find(i=>Pa(t)===Pa(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:t,defaultOptions:r})}getQueryDefaults(t){if(!t)return;const r=this.queryDefaults.find(n=>Gc(t,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(t,r){const n=this.mutationDefaults.find(i=>Pa(t)===Pa(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:t,defaultOptions:r})}getMutationDefaults(t){if(!t)return;const r=this.mutationDefaults.find(n=>Gc(t,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const r={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=Im(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class cI extends hs{constructor(t,r){super(),this.client=t,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),sy(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tp(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tp(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),Wc(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const a=this.hasListeners();a&&ly(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(t){const r=this.client.getQueryCache().build(this.client,t),n=this.createResult(r,t);return fI(this,n,t)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(t){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),t[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...r}={}){return this.fetch({...r,meta:{refetchPage:t}})}fetchOptimistic(t){const r=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){var r;return this.executeFetch({...t,cancelRefetch:(r=t.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let r=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(en)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Ll||this.currentResult.isStale||!xp(this.options.staleTime))return;const r=Bw(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(Ll||this.options.enabled===!1||!xp(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Qc.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,r){const n=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,l=t!==n,u=l?t.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:d}=t;let{dataUpdatedAt:p,error:C,errorUpdatedAt:h,fetchStatus:v,status:S}=d,m=!1,g=!1,y;if(r._optimisticResults){const _=this.hasListeners(),M=!_&&sy(t,r),D=_&&ly(t,n,r,i);(M||D)&&(v=jd(t.options.networkMode)?"fetching":"paused",p||(S="loading")),r._optimisticResults==="isRestoring"&&(v="idle")}if(r.keepPreviousData&&!d.dataUpdatedAt&&c!=null&&c.isSuccess&&S!=="error")y=c.data,p=c.dataUpdatedAt,S=c.status,m=!0;else if(r.select&&typeof d.data<"u")if(a&&d.data===(o==null?void 0:o.data)&&r.select===this.selectFn)y=this.selectResult;else try{this.selectFn=r.select,y=r.select(d.data),y=bp(a==null?void 0:a.data,y,r),this.selectResult=y,this.selectError=null}catch(_){this.selectError=_}else y=d.data;if(typeof r.placeholderData<"u"&&typeof y>"u"&&S==="loading"){let _;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData))_=a.data;else if(_=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof _<"u")try{_=r.select(_),this.selectError=null}catch(M){this.selectError=M}typeof _<"u"&&(S="success",y=bp(a==null?void 0:a.data,_,r),g=!0)}this.selectError&&(C=this.selectError,y=this.selectResult,h=Date.now(),S="error");const w=v==="fetching",E=S==="loading",b=S==="error";return{status:S,fetchStatus:v,isLoading:E,isSuccess:S==="success",isError:b,isInitialLoading:E&&w,data:y,dataUpdatedAt:p,error:C,errorUpdatedAt:h,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!E,isLoadingError:b&&d.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:g,isPreviousData:m,isRefetchError:b&&d.dataUpdatedAt!==0,isStale:Rm(t,r),refetch:this.refetch,remove:this.remove}}updateResult(t){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Wc(n,r))return;this.currentResult=n;const i={cache:!0},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!this.trackedProps.size)return!0;const l=new Set(s??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(u=>{const c=u;return this.currentResult[c]!==r[c]&&l.has(c)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const r={};t.type==="success"?r.onSuccess=!t.manual:t.type==="error"&&!sc(t.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(t){Rt.batch(()=>{if(t.onSuccess){var r,n,i,a;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var o,s,l,u;(o=(s=this.options).onError)==null||o.call(s,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function dI(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sy(e,t){return dI(e,t)||e.state.dataUpdatedAt>0&&Tp(e,t,t.refetchOnMount)}function Tp(e,t,r){if(t.enabled!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Rm(e,t)}return!1}function ly(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&Rm(e,r)}function Rm(e,t){return e.isStaleByTime(t.staleTime)}function fI(e,t,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?t.isPlaceholderData:!Wc(e.getCurrentResult(),t)}let hI=class extends hs{constructor(t,r){super(),this.client=t,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const n=this.options;this.options=this.client.defaultMutationOptions(t),Wc(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(r=this.currentMutation)==null||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const r={listeners:!0};t.type==="success"?r.onSuccess=!0:t.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:Uw(),r={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(t){Rt.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var r,n,i,a;(r=(n=this.mutateOptions).onSuccess)==null||r.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var o,s,l,u;(o=(s=this.mutateOptions).onError)==null||o.call(s,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};var Vw={exports:{}},Kw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=x;function pI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mI=typeof Object.is=="function"?Object.is:pI,gI=qo.useState,vI=qo.useEffect,yI=qo.useLayoutEffect,CI=qo.useDebugValue;function SI(e,t){var r=t(),n=gI({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return yI(function(){i.value=r,i.getSnapshot=t,Jf(i)&&a({inst:i})},[e,r,t]),vI(function(){return Jf(i)&&a({inst:i}),e(function(){Jf(i)&&a({inst:i})})},[e]),CI(r),r}function Jf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mI(e,r)}catch{return!0}}function wI(e,t){return t()}var xI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wI:SI;Kw.useSyncExternalStore=qo.useSyncExternalStore!==void 0?qo.useSyncExternalStore:xI;Vw.exports=Kw;var EI=Vw.exports;const $w=EI.useSyncExternalStore,uy=x.createContext(void 0),Hw=x.createContext(!1);function jw(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=uy),window.ReactQueryClientContext):uy)}const mt=({context:e}={})=>{const t=x.useContext(jw(e,x.useContext(Hw)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},bI=({client:e,children:t,context:r,contextSharing:n=!1})=>{x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=jw(r,n);return x.createElement(Hw.Provider,{value:!r&&n},x.createElement(i.Provider,{value:e},t))},zw=x.createContext(!1),TI=()=>x.useContext(zw);zw.Provider;function AI(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const kI=x.createContext(AI()),II=()=>x.useContext(kI);function qw(e,t){return typeof e=="function"?e(...t):!!e}const NI=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},RI=e=>{x.useEffect(()=>{e.clearReset()},[e])},_I=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&qw(r,[e.error,n]),BI=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},DI=(e,t)=>e.isLoading&&e.isFetching&&!t,LI=(e,t,r)=>(e==null?void 0:e.suspense)&&DI(t,r),MI=(e,t,r)=>t.fetchOptimistic(e).then(({data:n})=>{e.onSuccess==null||e.onSuccess(n),e.onSettled==null||e.onSettled(n,null)}).catch(n=>{r.clearReset(),e.onError==null||e.onError(n),e.onSettled==null||e.onSettled(void 0,n)});function OI(e,t){const r=mt({context:e.context}),n=TI(),i=II(),a=r.defaultQueryOptions(e);a._optimisticResults=n?"isRestoring":"optimistic",a.onError&&(a.onError=Rt.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Rt.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Rt.batchCalls(a.onSettled)),BI(a),NI(a,i),RI(i);const[o]=x.useState(()=>new t(r,a)),s=o.getOptimisticResult(a);if($w(x.useCallback(l=>{const u=n?()=>{}:o.subscribe(Rt.batchCalls(l));return o.updateResult(),u},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setOptions(a,{listeners:!1})},[a,o]),LI(a,s,n))throw MI(a,o,i);if(_I({result:s,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:o.getCurrentQuery()}))throw s.error;return a.notifyOnChangeProps?s:o.trackResult(s)}function ps(e,t,r){const n=Ws(e,t,r);return OI(n,cI)}function Mt(e,t,r){const n=Yk(e,t,r),i=mt({context:n.context}),[a]=x.useState(()=>new hI(i,n));x.useEffect(()=>{a.setOptions(n)},[a,n]);const o=$w(x.useCallback(l=>a.subscribe(Rt.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),s=x.useCallback((l,u)=>{a.mutate(l,u).catch(PI)},[a]);if(o.error&&qw(a.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}function PI(){}function Gw(e,t){return function(){return e.apply(t,arguments)}}const{toString:FI}=Object.prototype,{getPrototypeOf:_m}=Object,zd=(e=>t=>{const r=FI.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ti=e=>(e=e.toLowerCase(),t=>zd(t)===e),qd=e=>t=>typeof t===e,{isArray:ms}=Array,Ml=qd("undefined");function UI(e){return e!==null&&!Ml(e)&&e.constructor!==null&&!Ml(e.constructor)&&fn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ww=ti("ArrayBuffer");function VI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ww(e.buffer),t}const KI=qd("string"),fn=qd("function"),Qw=qd("number"),Gd=e=>e!==null&&typeof e=="object",$I=e=>e===!0||e===!1,lc=e=>{if(zd(e)!=="object")return!1;const t=_m(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HI=ti("Date"),jI=ti("File"),zI=ti("Blob"),qI=ti("FileList"),GI=e=>Gd(e)&&fn(e.pipe),WI=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||fn(e.append)&&((t=zd(e))==="formdata"||t==="object"&&fn(e.toString)&&e.toString()==="[object FormData]"))},QI=ti("URLSearchParams"),YI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ms(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(n=0;n<o;n++)s=a[n],t.call(null,e[s],s,e)}}function Yw(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Xw=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Jw=e=>!Ml(e)&&e!==Xw;function Ap(){const{caseless:e}=Jw(this)&&this||{},t={},r=(n,i)=>{const a=e&&Yw(t,i)||i;lc(t[a])&&lc(n)?t[a]=Ap(t[a],n):lc(n)?t[a]=Ap({},n):ms(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&eu(arguments[n],r);return t}const XI=(e,t,r,{allOwnKeys:n}={})=>(eu(t,(i,a)=>{r&&fn(i)?e[a]=Gw(i,r):e[a]=i},{allOwnKeys:n}),e),JI=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ZI=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},eN=(e,t,r,n)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=r!==!1&&_m(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},tN=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},rN=e=>{if(!e)return null;if(ms(e))return e;let t=e.length;if(!Qw(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},nN=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&_m(Uint8Array)),iN=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},aN=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},oN=ti("HTMLFormElement"),sN=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),cy=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),lN=ti("RegExp"),Zw=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};eu(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},uN=e=>{Zw(e,(t,r)=>{if(fn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(fn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},cN=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return ms(e)?n(e):n(String(e).split(t)),r},dN=()=>{},fN=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Zf="abcdefghijklmnopqrstuvwxyz",dy="0123456789",ex={DIGIT:dy,ALPHA:Zf,ALPHA_DIGIT:Zf+Zf.toUpperCase()+dy},hN=(e=16,t=ex.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function pN(e){return!!(e&&fn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const mN=e=>{const t=new Array(10),r=(n,i)=>{if(Gd(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const a=ms(n)?[]:{};return eu(n,(o,s)=>{const l=r(o,i+1);!Ml(l)&&(a[s]=l)}),t[i]=void 0,a}}return n};return r(e,0)},gN=ti("AsyncFunction"),vN=e=>e&&(Gd(e)||fn(e))&&fn(e.then)&&fn(e.catch),Y={isArray:ms,isArrayBuffer:Ww,isBuffer:UI,isFormData:WI,isArrayBufferView:VI,isString:KI,isNumber:Qw,isBoolean:$I,isObject:Gd,isPlainObject:lc,isUndefined:Ml,isDate:HI,isFile:jI,isBlob:zI,isRegExp:lN,isFunction:fn,isStream:GI,isURLSearchParams:QI,isTypedArray:nN,isFileList:qI,forEach:eu,merge:Ap,extend:XI,trim:YI,stripBOM:JI,inherits:ZI,toFlatObject:eN,kindOf:zd,kindOfTest:ti,endsWith:tN,toArray:rN,forEachEntry:iN,matchAll:aN,isHTMLForm:oN,hasOwnProperty:cy,hasOwnProp:cy,reduceDescriptors:Zw,freezeMethods:uN,toObjectSet:cN,toCamelCase:sN,noop:dN,toFiniteNumber:fN,findKey:Yw,global:Xw,isContextDefined:Jw,ALPHABET:ex,generateString:hN,isSpecCompliantForm:pN,toJSONObject:mN,isAsyncFn:gN,isThenable:vN};function Qe(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Y.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const tx=Qe.prototype,rx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rx[e]={value:e}});Object.defineProperties(Qe,rx);Object.defineProperty(tx,"isAxiosError",{value:!0});Qe.from=(e,t,r,n,i,a)=>{const o=Object.create(tx);return Y.toFlatObject(e,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),Qe.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const yN=null;function kp(e){return Y.isPlainObject(e)||Y.isArray(e)}function nx(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function fy(e,t,r){return e?e.concat(t).map(function(i,a){return i=nx(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function CN(e){return Y.isArray(e)&&!e.some(kp)}const SN=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function Wd(e,t,r){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,S){return!Y.isUndefined(S[v])});const n=r.metaTokens,i=r.visitor||c,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(i))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(Y.isDate(h))return h.toISOString();if(!l&&Y.isBlob(h))throw new Qe("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(h)||Y.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function c(h,v,S){let m=h;if(h&&!S&&typeof h=="object"){if(Y.endsWith(v,"{}"))v=n?v:v.slice(0,-2),h=JSON.stringify(h);else if(Y.isArray(h)&&CN(h)||(Y.isFileList(h)||Y.endsWith(v,"[]"))&&(m=Y.toArray(h)))return v=nx(v),m.forEach(function(y,w){!(Y.isUndefined(y)||y===null)&&t.append(o===!0?fy([v],w,a):o===null?v:v+"[]",u(y))}),!1}return kp(h)?!0:(t.append(fy(S,v,a),u(h)),!1)}const d=[],p=Object.assign(SN,{defaultVisitor:c,convertValue:u,isVisitable:kp});function C(h,v){if(!Y.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(h),Y.forEach(h,function(m,g){(!(Y.isUndefined(m)||m===null)&&i.call(t,m,Y.isString(g)?g.trim():g,v,p))===!0&&C(m,v?v.concat(g):[g])}),d.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return C(e),t}function hy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Bm(e,t){this._pairs=[],e&&Wd(e,this,t)}const ix=Bm.prototype;ix.append=function(t,r){this._pairs.push([t,r])};ix.toString=function(t){const r=t?function(n){return t.call(this,n,hy)}:hy;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function wN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ax(e,t,r){if(!t)return e;const n=r&&r.encode||wN,i=r&&r.serialize;let a;if(i?a=i(t,r):a=Y.isURLSearchParams(t)?t.toString():new Bm(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class xN{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(n){n!==null&&t(n)})}}const py=xN,ox={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EN=typeof URLSearchParams<"u"?URLSearchParams:Bm,bN=typeof FormData<"u"?FormData:null,TN=typeof Blob<"u"?Blob:null,AN={isBrowser:!0,classes:{URLSearchParams:EN,FormData:bN,Blob:TN},protocols:["http","https","file","blob","url","data"]},sx=typeof window<"u"&&typeof document<"u",kN=(e=>sx&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),IN=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),NN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sx,hasStandardBrowserEnv:kN,hasStandardBrowserWebWorkerEnv:IN},Symbol.toStringTag,{value:"Module"})),qn={...NN,...AN};function RN(e,t){return Wd(e,new qn.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return qn.isNode&&Y.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function _N(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function BN(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function lx(e){function t(r,n,i,a){let o=r[a++];const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&Y.isArray(i)?i.length:o,l?(Y.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!Y.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&Y.isArray(i[o])&&(i[o]=BN(i[o])),!s)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const r={};return Y.forEachEntry(e,(n,i)=>{t(_N(n),i,r,0)}),r}return null}function DN(e,t,r){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Dm={transitional:ox,adapter:["xhr","http"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Y.isObject(t);if(a&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return i&&i?JSON.stringify(lx(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return RN(t,this.formSerializer).toString();if((s=Y.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Wd(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),DN(t)):t}],transformResponse:[function(t){const r=this.transitional||Dm.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&Y.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?Qe.from(s,Qe.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{Dm.headers[e]={}});const Lm=Dm,LN=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MN=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&LN[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},my=Symbol("internals");function Us(e){return e&&String(e).trim().toLowerCase()}function uc(e){return e===!1||e==null?e:Y.isArray(e)?e.map(uc):String(e)}function ON(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const PN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eh(e,t,r,n,i){if(Y.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!Y.isString(t)){if(Y.isString(n))return t.indexOf(n)!==-1;if(Y.isRegExp(n))return n.test(t)}}function FN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function UN(e,t){const r=Y.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}class Qd{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(s,l,u){const c=Us(l);if(!c)throw new Error("header name must be a non-empty string");const d=Y.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=uc(s))}const o=(s,l)=>Y.forEach(s,(u,c)=>a(u,c,l));return Y.isPlainObject(t)||t instanceof this.constructor?o(t,r):Y.isString(t)&&(t=t.trim())&&!PN(t)?o(MN(t),r):t!=null&&a(r,t,n),this}get(t,r){if(t=Us(t),t){const n=Y.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return ON(i);if(Y.isFunction(r))return r.call(this,i,n);if(Y.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Us(t),t){const n=Y.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||eh(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=Us(o),o){const s=Y.findKey(n,o);s&&(!r||eh(n,n[s],s,r))&&(delete n[s],i=!0)}}return Y.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||eh(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return Y.forEach(this,(i,a)=>{const o=Y.findKey(n,a);if(o){r[o]=uc(i),delete r[a];return}const s=t?FN(a):String(a).trim();s!==a&&delete r[a],r[s]=uc(i),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Y.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&Y.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[my]=this[my]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Us(o);n[s]||(UN(i,o),n[s]=!0)}return Y.isArray(t)?t.forEach(a):a(t),this}}Qd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Qd.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Y.freezeMethods(Qd);const gi=Qd;function th(e,t){const r=this||Lm,n=t||r,i=gi.from(n.headers);let a=n.data;return Y.forEach(e,function(s){a=s.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function ux(e){return!!(e&&e.__CANCEL__)}function tu(e,t,r){Qe.call(this,e??"canceled",Qe.ERR_CANCELED,t,r),this.name="CanceledError"}Y.inherits(tu,Qe,{__CANCEL__:!0});function VN(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Qe("Request failed with status code "+r.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const KN=qn.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const o=[e+"="+encodeURIComponent(t)];Y.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Y.isString(n)&&o.push("path="+n),Y.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $N(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function HN(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function cx(e,t){return e&&!$N(t)?HN(e,t):t}const jN=qn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let o=a;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const s=Y.isString(o)?i(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function zN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qN(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=n[a];o||(o=u),r[i]=l,n[i]=u;let d=a,p=0;for(;d!==i;)p+=r[d++],d=d%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const C=c&&u-c;return C?Math.round(p*1e3/C):void 0}}function gy(e,t){let r=0;const n=qN(50,250);return i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-r,l=n(s),u=a<=o;r=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&u?(o-a)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const GN=typeof XMLHttpRequest<"u",WN=GN&&function(e){return new Promise(function(r,n){let i=e.data;const a=gi.from(e.headers).normalize();let{responseType:o,withXSRFToken:s}=e,l;function u(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}let c;if(Y.isFormData(i)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if((c=a.getContentType())!==!1){const[v,...S]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([v||"multipart/form-data",...S].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const v=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(v+":"+S))}const p=cx(e.baseURL,e.url);d.open(e.method.toUpperCase(),ax(p,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function C(){if(!d)return;const v=gi.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:v,config:e,request:d};VN(function(y){r(y),u()},function(y){n(y),u()},m),d=null}if("onloadend"in d?d.onloadend=C:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(C)},d.onabort=function(){d&&(n(new Qe("Request aborted",Qe.ECONNABORTED,e,d)),d=null)},d.onerror=function(){n(new Qe("Network Error",Qe.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let S=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const m=e.transitional||ox;e.timeoutErrorMessage&&(S=e.timeoutErrorMessage),n(new Qe(S,m.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,e,d)),d=null},qn.hasStandardBrowserEnv&&(s&&Y.isFunction(s)&&(s=s(e)),s||s!==!1&&jN(p))){const v=e.xsrfHeaderName&&e.xsrfCookieName&&KN.read(e.xsrfCookieName);v&&a.set(e.xsrfHeaderName,v)}i===void 0&&a.setContentType(null),"setRequestHeader"in d&&Y.forEach(a.toJSON(),function(S,m){d.setRequestHeader(m,S)}),Y.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&o!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",gy(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",gy(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=v=>{d&&(n(!v||v.type?new tu(null,e,d):v),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const h=zN(p);if(h&&qn.protocols.indexOf(h)===-1){n(new Qe("Unsupported protocol "+h+":",Qe.ERR_BAD_REQUEST,e));return}d.send(i||null)})},Ip={http:yN,xhr:WN};Y.forEach(Ip,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vy=e=>`- ${e}`,QN=e=>Y.isFunction(e)||e===null||e===!1,dx={getAdapter:e=>{e=Y.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){r=e[a];let o;if(n=r,!QN(r)&&(n=Ip[(o=String(r)).toLowerCase()],n===void 0))throw new Qe(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+a]=n}if(!n){const a=Object.entries(i).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(vy).join(`
`):" "+vy(a[0]):"as no adapter specified";throw new Qe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Ip};function rh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tu(null,e)}function yy(e){return rh(e),e.headers=gi.from(e.headers),e.data=th.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dx.getAdapter(e.adapter||Lm.adapter)(e).then(function(n){return rh(e),n.data=th.call(e,e.transformResponse,n),n.headers=gi.from(n.headers),n},function(n){return ux(n)||(rh(e),n&&n.response&&(n.response.data=th.call(e,e.transformResponse,n.response),n.response.headers=gi.from(n.response.headers))),Promise.reject(n)})}const Cy=e=>e instanceof gi?e.toJSON():e;function Go(e,t){t=t||{};const r={};function n(u,c,d){return Y.isPlainObject(u)&&Y.isPlainObject(c)?Y.merge.call({caseless:d},u,c):Y.isPlainObject(c)?Y.merge({},c):Y.isArray(c)?c.slice():c}function i(u,c,d){if(Y.isUndefined(c)){if(!Y.isUndefined(u))return n(void 0,u,d)}else return n(u,c,d)}function a(u,c){if(!Y.isUndefined(c))return n(void 0,c)}function o(u,c){if(Y.isUndefined(c)){if(!Y.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function s(u,c,d){if(d in t)return n(u,c);if(d in e)return n(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c)=>i(Cy(u),Cy(c),!0)};return Y.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||i,p=d(e[c],t[c],c);Y.isUndefined(p)&&d!==s||(r[c]=p)}),r}const fx="1.6.2",Mm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Sy={};Mm.transitional=function(t,r,n){function i(a,o){return"[Axios v"+fx+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(t===!1)throw new Qe(i(o," has been removed"+(r?" in "+r:"")),Qe.ERR_DEPRECATED);return r&&!Sy[o]&&(Sy[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,s):!0}};function YN(e,t,r){if(typeof e!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new Qe("option "+a+" must be "+l,Qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Qe("Unknown option "+a,Qe.ERR_BAD_OPTION)}}const Np={assertOptions:YN,validators:Mm},_i=Np.validators;class Xc{constructor(t){this.defaults=t,this.interceptors={request:new py,response:new py}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Go(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Np.assertOptions(n,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),i!=null&&(Y.isFunction(i)?r.paramsSerializer={serialize:i}:Np.assertOptions(i,{encode:_i.function,serialize:_i.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Y.merge(a.common,a[r.method]);a&&Y.forEach(["delete","get","head","post","put","patch","common"],h=>{delete a[h]}),r.headers=gi.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(l=l&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,d=0,p;if(!l){const h=[yy.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,u),p=h.length,c=Promise.resolve(r);d<p;)c=c.then(h[d++],h[d++]);return c}p=s.length;let C=r;for(d=0;d<p;){const h=s[d++],v=s[d++];try{C=h(C)}catch(S){v.call(this,S);break}}try{c=yy.call(this,C)}catch(h){return Promise.reject(h)}for(d=0,p=u.length;d<p;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Go(this.defaults,t);const r=cx(t.baseURL,t.url);return ax(r,t.params,t.paramsSerializer)}}Y.forEach(["delete","get","head","options"],function(t){Xc.prototype[t]=function(r,n){return this.request(Go(n||{},{method:t,url:r,data:(n||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,s){return this.request(Go(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Xc.prototype[t]=r(),Xc.prototype[t+"Form"]=r(!0)});const cc=Xc;class Om{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,s){n.reason||(n.reason=new tu(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Om(function(i){t=i}),cancel:t}}}const XN=Om;function JN(e){return function(r){return e.apply(null,r)}}function ZN(e){return Y.isObject(e)&&e.isAxiosError===!0}const Rp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rp).forEach(([e,t])=>{Rp[t]=e});const eR=Rp;function hx(e){const t=new cc(e),r=Gw(cc.prototype.request,t);return Y.extend(r,cc.prototype,t,{allOwnKeys:!0}),Y.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return hx(Go(e,i))},r}const jt=hx(Lm);jt.Axios=cc;jt.CanceledError=tu;jt.CancelToken=XN;jt.isCancel=ux;jt.VERSION=fx;jt.toFormData=Wd;jt.AxiosError=Qe;jt.Cancel=jt.CanceledError;jt.all=function(t){return Promise.all(t)};jt.spread=JN;jt.isAxiosError=ZN;jt.mergeConfig=Go;jt.AxiosHeaders=gi;jt.formToJSON=e=>lx(Y.isHTMLForm(e)?new FormData(e):e);jt.getAdapter=dx.getAdapter;jt.HttpStatusCode=eR;jt.default=jt;const Te=jt;var px={exports:{}};(function(e,t){(function(r,n){e.exports=n(x)})(typeof self<"u"?self:ci,r=>(()=>{var n={156:s=>{s.exports=r}},i={};function a(s){var l=i[s];if(l!==void 0)return l.exports;var u=i[s]={exports:{}};return n[s](u,u.exports,a),u.exports}a.d=(s,l)=>{for(var u in l)a.o(l,u)&&!a.o(s,u)&&Object.defineProperty(s,u,{enumerable:!0,get:l[u]})},a.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),a.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o={};return(()=>{a.r(o),a.d(o,{default:()=>S,useStopwatch:()=>h,useTime:()=>v,useTimer:()=>C});var s=a(156);class l{static expiryTimestamp(g){const y=new Date(g).getTime()>0;return y||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",g),y}static onExpire(g){const y=g&&typeof g=="function";return g&&!y&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",g),y}}class u{static getTimeFromSeconds(g){const y=Math.ceil(g),w=Math.floor(y/86400),E=Math.floor(y%86400/3600),b=Math.floor(y%3600/60);return{totalSeconds:y,seconds:Math.floor(y%60),minutes:b,hours:E,days:w}}static getSecondsFromExpiry(g,y){const w=g-new Date().getTime();if(w>0){const E=w/1e3;return y?Math.round(E):E}return 0}static getSecondsFromPrevTime(g,y){const w=new Date().getTime()-g;if(w>0){const E=w/1e3;return y?Math.round(E):E}return 0}static getSecondsFromTimeNow(){const g=new Date;return g.getTime()/1e3-60*g.getTimezoneOffset()}static getFormattedTimeFromSeconds(g,y){const{seconds:w,minutes:E,hours:b}=u.getTimeFromSeconds(g);let T="",_=b;return y==="12-hour"&&(T=b>=12?"pm":"am",_=b%12),{seconds:w,minutes:E,hours:_,ampm:T}}}function c(m,g){const y=(0,s.useRef)();(0,s.useEffect)(()=>{y.current=m}),(0,s.useEffect)(()=>{if(!g)return()=>{};const w=setInterval(()=>{y.current&&y.current()},g);return()=>clearInterval(w)},[g])}const d=1e3;function p(m){if(!l.expiryTimestamp(m))return null;const g=u.getSecondsFromExpiry(m),y=Math.floor(1e3*(g-Math.floor(g)));return y>0?y:d}function C(){let{expiryTimestamp:m,onExpire:g,autoStart:y=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[w,E]=(0,s.useState)(m),[b,T]=(0,s.useState)(u.getSecondsFromExpiry(w)),[_,M]=(0,s.useState)(y),[D,A]=(0,s.useState)(y),[B,F]=(0,s.useState)(p(w)),L=(0,s.useCallback)(()=>{l.onExpire(g)&&g(),M(!1),F(null)},[g]),P=(0,s.useCallback)(()=>{M(!1)},[]),$=(0,s.useCallback)(function(j){let q=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];F(p(j)),A(q),M(q),E(j),T(u.getSecondsFromExpiry(j))},[]),K=(0,s.useCallback)(()=>{const j=new Date;j.setMilliseconds(j.getMilliseconds()+1e3*b),$(j)},[b,$]),H=(0,s.useCallback)(()=>{D?(T(u.getSecondsFromExpiry(w)),M(!0)):K()},[w,D,K]);return c(()=>{B!==d&&F(d);const j=u.getSecondsFromExpiry(w);T(j),j<=0&&L()},_?B:null),{...u.getTimeFromSeconds(b),start:H,pause:P,resume:K,restart:$,isRunning:_}}function h(){let{autoStart:m,offsetTimestamp:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[y,w]=(0,s.useState)(u.getSecondsFromExpiry(g,!0)||0),[E,b]=(0,s.useState)(new Date),[T,_]=(0,s.useState)(y+u.getSecondsFromPrevTime(E||0,!0)),[M,D]=(0,s.useState)(m);c(()=>{_(y+u.getSecondsFromPrevTime(E,!0))},M?1e3:null);const A=(0,s.useCallback)(()=>{const L=new Date;b(L),D(!0),_(y+u.getSecondsFromPrevTime(L,!0))},[y]),B=(0,s.useCallback)(()=>{w(T),D(!1)},[T]),F=(0,s.useCallback)(function(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];const $=u.getSecondsFromExpiry(L,!0)||0,K=new Date;b(K),w($),D(P),_($+u.getSecondsFromPrevTime(K,!0))},[]);return{...u.getTimeFromSeconds(T),start:A,pause:B,reset:F,isRunning:M}}function v(){let{format:m}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[g,y]=(0,s.useState)(u.getSecondsFromTimeNow());return c(()=>{y(u.getSecondsFromTimeNow())},1e3),{...u.getFormattedTimeFromSeconds(g,m)}}function S(m){if((0,s.useEffect)(()=>{console.warn("react-timer-hook: default export useTimer is deprecated, use named exports { useTimer, useStopwatch, useTime } instead")},[]),m.expiryTimestamp){const y=C(m);return{...y,startTimer:y.start,stopTimer:y.pause,resetTimer:()=>{}}}const g=h(m);return{...g,startTimer:g.start,stopTimer:g.pause,resetTimer:g.reset}}})(),o})())})(px);var tR=px.exports,mx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var o=typeof a;if(o==="string"||o==="number")n.push(a);else if(Array.isArray(a)){if(a.length){var s=r.apply(null,a);s&&n.push(s)}}else if(o==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var l in a)t.call(a,l)&&a[l]&&n.push(l)}}}return n.join(" ")}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(mx);var rR=mx.exports;const _e=Xa(rR),nR=["xxl","xl","lg","md","sm","xs"],iR="xs",Yd=x.createContext({prefixes:{},breakpoints:nR,minBreakpoint:iR});function tt(e,t){const{prefixes:r}=x.useContext(Yd);return e||r[t]||t}function gx(){const{breakpoints:e}=x.useContext(Yd);return e}function vx(){const{minBreakpoint:e}=x.useContext(Yd);return e}function yx(){const{dir:e}=x.useContext(Yd);return e==="rtl"}const Cx=x.forwardRef(({bsPrefix:e,fluid:t=!1,as:r="div",className:n,...i},a)=>{const o=tt(e,"container"),s=typeof t=="string"?`-${t}`:"-fluid";return f(r,{ref:a,...i,className:_e(n,t?`${o}${s}`:o)})});Cx.displayName="Container";const aR=Cx,Sx=x.forwardRef(({bsPrefix:e,className:t,as:r="div",...n},i)=>{const a=tt(e,"row"),o=gx(),s=vx(),l=`${a}-cols`,u=[];return o.forEach(c=>{const d=n[c];delete n[c];let p;d!=null&&typeof d=="object"?{cols:p}=d:p=d;const C=c!==s?`-${c}`:"";p!=null&&u.push(`${l}${C}-${p}`)}),f(r,{ref:i,...n,className:_e(t,a,...u)})});Sx.displayName="Row";const Jc=Sx,oR={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},wx=x.forwardRef(({bsPrefix:e,position:t,containerPosition:r,className:n,as:i="div",...a},o)=>(e=tt(e,"toast-container"),f(i,{ref:o,...a,className:_e(e,t&&oR[t],r&&`position-${r}`,n)})));wx.displayName="ToastContainer";const sR=wx;var lR=Object.create,xx=Object.defineProperty,uR=Object.getOwnPropertyDescriptor,cR=Object.getOwnPropertyNames,dR=Object.getPrototypeOf,fR=Object.prototype.hasOwnProperty,hR=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pR=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of cR(t))!fR.call(e,i)&&i!==r&&xx(e,i,{get:()=>t[i],enumerable:!(n=uR(t,i))||n.enumerable});return e},mR=(e,t,r)=>(r=e!=null?lR(dR(e)):{},pR(t||!e||!e.__esModule?xx(r,"default",{value:e,enumerable:!0}):r,e)),gR=hR((e,t)=>{(function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.fastUniqueNumbers={}))})(e,function(r){var n=function(C){return function(h){var v=C(h);return h.add(v),v}},i=function(C){return function(h,v){return C.set(h,v),v}},a=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=o*2,l=function(C,h){return function(v){var S=h.get(v),m=S===void 0?v.size:S<s?S+1:0;if(!v.has(m))return C(v,m);if(v.size<o){for(;v.has(m);)m=Math.floor(Math.random()*s);return C(v,m)}if(v.size>a)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;v.has(m);)m=Math.floor(Math.random()*a);return C(v,m)}},u=new WeakMap,c=i(u),d=l(c,u),p=n(d);r.addUniqueNumber=p,r.generateUniqueNumber=d})});mR(gR());var hi=(typeof window>"u"?"undefined":typeof window)=="object",bn={setTimeout:hi?setTimeout.bind(window):setTimeout,clearTimeout:hi?clearTimeout.bind(window):clearTimeout,setInterval:hi?setInterval.bind(window):setInterval,clearInterval:hi?clearInterval.bind(window):clearInterval};function vR(e){bn.setTimeout=e.setTimeout,bn.clearTimeout=e.clearTimeout,bn.setInterval=e.setInterval,bn.clearInterval=e.clearInterval}var so={},yR=class{constructor(e){Dt(this,"name");Dt(this,"closed",!1);Dt(this,"mc",new MessageChannel);this.name=e,so[e]=so[e]||[],so[e].push(this),this.mc.port1.start(),this.mc.port2.start(),this.onStorage=this.onStorage.bind(this),window.addEventListener("storage",this.onStorage)}onStorage(e){if(e.storageArea!==window.localStorage||e.key.substring(0,this.name.length)!==this.name||e.newValue===null)return;let t=JSON.parse(e.newValue);this.mc.port2.postMessage(t)}postMessage(e){if(this.closed)throw new Error("InvalidStateError");let t=JSON.stringify(e),r=`${this.name}:${String(Date.now())}${String(Math.random())}`;window.localStorage.setItem(r,t),bn.setTimeout(()=>{window.localStorage.removeItem(r)},500),so[this.name].forEach(n=>{n!==this&&n.mc.port2.postMessage(JSON.parse(t))})}close(){if(this.closed)return;this.closed=!0,this.mc.port1.close(),this.mc.port2.close(),window.removeEventListener("storage",this.onStorage);let e=so[this.name].indexOf(this);so[this.name].splice(e,1)}get onmessage(){return this.mc.port1.onmessage}set onmessage(e){this.mc.port1.onmessage=e}get onmessageerror(){return this.mc.port1.onmessageerror}set onmessageerror(e){this.mc.port1.onmessageerror=e}addEventListener(e,t){return this.mc.port1.addEventListener(e,t)}removeEventListener(e,t){return this.mc.port1.removeEventListener(e,t)}dispatchEvent(e){return this.mc.port1.dispatchEvent(e)}},CR=typeof window>"u"?void 0:typeof window.BroadcastChannel=="function"?window.BroadcastChannel:yR;function SR(e=0){return new Promise(t=>bn.setTimeout(t,e))}function Ex(){return Math.random().toString(36).substring(2)}var wR=class{constructor(e,t){Dt(this,"options");Dt(this,"channel");Dt(this,"token",Ex());Dt(this,"isLeader",!1);Dt(this,"isDead",!1);Dt(this,"isApplying",!1);Dt(this,"reApply",!1);Dt(this,"intervals",[]);Dt(this,"listeners",[]);Dt(this,"deferred");this.channel=e,this.options=t,this.apply=this.apply.bind(this),this.awaitLeadership=this.awaitLeadership.bind(this),this.sendAction=this.sendAction.bind(this)}async apply(){if(this.isLeader||this.isDead)return!1;if(this.isApplying)return this.reApply=!0,!1;this.isApplying=!0;let e=!1,t=r=>{let{token:n,action:i}=r.data;n!==this.token&&(i===0&&n>this.token&&(e=!0),i===1&&(e=!0))};this.channel.addEventListener("message",t);try{return this.sendAction(0),await SR(this.options.responseTime),this.channel.removeEventListener("message",t),this.isApplying=!1,e?this.reApply?this.apply():!1:(this.assumeLead(),!0)}catch{return!1}}awaitLeadership(){if(this.isLeader)return Promise.resolve();let e=!1,t=null;return new Promise(r=>{let n=()=>{if(e)return;e=!0;try{bn.clearInterval(t)}catch{}let a=this.intervals.indexOf(t);a>=0&&this.intervals.splice(a,1),this.channel.removeEventListener("message",i),r()};t=bn.setInterval(()=>{this.apply().then(()=>{this.isLeader&&n()})},this.options.fallbackInterval),this.intervals.push(t);let i=a=>{let{action:o}=a.data;o===2&&this.apply().then(()=>{this.isLeader&&n()})};this.channel.addEventListener("message",i)})}sendAction(e){this.channel.postMessage({action:e,token:this.token})}assumeLead(){this.isLeader=!0;let e=t=>{let{action:r}=t.data;r===0&&this.sendAction(1)};return this.channel.addEventListener("message",e),this.listeners.push(e),this.sendAction(1)}waitForLeadership(){return this.deferred?this.deferred:(this.deferred=this.awaitLeadership(),this.deferred)}close(){if(!this.isDead){this.isDead=!0,this.isLeader=!1,this.sendAction(2);try{this.listeners.forEach(e=>this.channel.removeEventListener("message",e)),this.intervals.forEach(e=>bn.clearInterval(e))}catch{}}}},xR=class{constructor(e){Dt(this,"channel");Dt(this,"options");Dt(this,"elector");Dt(this,"token",Ex());Dt(this,"registry",new Map);Dt(this,"allIdle",!1);Dt(this,"isLastActive",!1);let{channelName:t}=e;if(this.options=e,this.channel=new CR(t),this.registry.set(this.token,1),e.leaderElection){let r={fallbackInterval:2e3,responseTime:100};this.elector=new wR(this.channel,r),this.elector.waitForLeadership()}this.channel.addEventListener("message",r=>{let{action:n,token:i,data:a}=r.data;switch(n){case 3:this.registry.set(i,2);break;case 4:this.registry.delete(i);break;case 5:this.idle(i);break;case 6:this.active(i);break;case 7:this.prompt(i);break;case 8:this.start(i);break;case 9:this.reset(i);break;case 10:this.activate(i);break;case 11:this.pause(i);break;case 12:this.resume(i);break;case 13:this.options.onMessage(a);break}}),this.send(3)}get isLeader(){if(!this.elector)throw new Error(' Leader election is not enabled. To Enable it set the "leaderElection" property to true.');return this.elector.isLeader}prompt(e=this.token){this.registry.set(e,0);let t=[...this.registry.values()].every(r=>r===0);e===this.token&&this.send(7),t&&this.options.onPrompt()}idle(e=this.token){this.registry.set(e,2);let t=[...this.registry.values()].every(r=>r===2);e===this.token&&this.send(5),!this.allIdle&&t&&(this.allIdle=!0,this.options.onIdle())}active(e=this.token){this.allIdle=!1,this.registry.set(e,1);let t=[...this.registry.values()].some(r=>r===1);e===this.token&&this.send(6),t&&this.options.onActive(),this.isLastActive=e===this.token}start(e=this.token){this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(8):this.options.start(!0),this.isLastActive=e===this.token}reset(e=this.token){this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(9):this.options.reset(!0),this.isLastActive=e===this.token}activate(e=this.token){this.allIdle=!1,this.registry.set(e,1),e===this.token?this.send(10):this.options.activate(!0),this.isLastActive=e===this.token}pause(e=this.token){e===this.token?this.send(11):this.options.pause(!0)}resume(e=this.token){e===this.token?this.send(12):this.options.resume(!0)}message(e){try{this.channel.postMessage({action:13,token:this.token,data:e})}catch{}}send(e){try{this.channel.postMessage({action:e,token:this.token})}catch{}}close(){this.options.leaderElection&&this.elector.close(),this.send(4),this.channel.close()}},ER=hi?document:null,bR=["mousemove","keydown","wheel","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove","visibilitychange","focus"];function TR(e,t){let r;function n(...i){r&&clearTimeout(r),r=setTimeout(()=>{e(...i),r=null},t)}return n.cancel=function(){clearTimeout(r)},n}function nh(e,t){let r=0;return function(...n){let i=new Date().getTime();if(!(i-r<t))return r=i,e(...n)}}var Ft=()=>Date.now(),lo=2147483647;function AR({timeout:e=1e3*60*20,promptTimeout:t=0,promptBeforeIdle:r=0,element:n=ER,events:i=bR,timers:a=void 0,immediateEvents:o=[],onPresenceChange:s=()=>{},onPrompt:l=()=>{},onIdle:u=()=>{},onActive:c=()=>{},onAction:d=()=>{},onMessage:p=()=>{},debounce:C=0,throttle:h=0,eventsThrottle:v=200,startOnMount:S=!0,startManually:m=!1,stopOnIdle:g=!1,crossTab:y=!1,name:w="idle-timer",syncTimers:E=0,leaderElection:b=!1,disabled:T=!1}={}){let _=x.useRef(Ft()),M=x.useRef(Ft()),D=x.useRef(null),A=x.useRef(null),B=x.useRef(0),F=x.useRef(0),L=x.useRef(0),P=x.useRef(0),$=x.useRef(!1),K=x.useRef(!1),H=x.useRef(!1),j=x.useRef(!0),q=x.useRef(!1),te=x.useRef(null),G=x.useRef(null),ne=x.useRef(e),Q=x.useRef(0);x.useEffect(()=>{if(t&&console.warn(" IdleTimer -- The `promptTimeout` property has been deprecated in favor of `promptBeforeIdle`. It will be removed in the next major release."),r&&t)throw new Error(" Both promptTimeout and promptBeforeIdle can not be set. The promptTimeout property will be deprecated in a future version.");if(e>=lo)throw new Error(` The value for the timeout property must fit in a 32 bit signed integer, ${lo}.`);if(t>=lo)throw new Error(` The value for the promptTimeout property must fit in a 32 bit signed integer, ${lo}.`);if(r>=lo)throw new Error(` The value for the promptBeforeIdle property must fit in a 32 bit signed integer, ${lo}.`);if(r>=e)throw new Error(` The value for the promptBeforeIdle property must be less than the timeout property, ${e}.`);if(r?(ne.current=e-r,Q.current=r):(ne.current=e,Q.current=t),!j.current){if(m||T)return;$.current&&(Oe.current(null,rr),G.current&&G.current.active()),tr()}},[e,t,r,m,T]);let ee=x.useRef(g);x.useEffect(()=>{ee.current=g},[g]);let ve=x.useRef(o),ye=x.useRef(n),Ee=x.useRef([...new Set([...i,...o]).values()]),be=x.useRef(T);x.useEffect(()=>{be.current=T,!j.current&&(T?Ur():m||tr())},[T]);let $e=x.useRef(s);x.useEffect(()=>{$e.current=s},[s]);let oe=x.useRef(l);x.useEffect(()=>{oe.current=l},[l]);let Be=x.useRef(u);x.useEffect(()=>{Be.current=u},[u]);let Oe=x.useRef(c);x.useEffect(()=>{Oe.current=c},[c]);let Ue=x.useRef(d);x.useEffect(()=>{Ue.current=d},[d]);let Ce=x.useRef(p);x.useEffect(()=>{Ce.current=p},[p]);let Et=x.useMemo(()=>{let ue=(fr,io)=>Ue.current(fr,io);return C>0?TR(ue,C):h>0?nh(ue,h):ue},[h,C]),ut=x.useRef();x.useEffect(()=>{y&&E&&(ut.current=nh(()=>{G.current.active()},E))},[y,E]);let De=()=>{te.current!==null&&(bn.clearTimeout(te.current),te.current=null)},Pe=(ue,fr=!0)=>{De(),te.current=bn.setTimeout(Ir,ue||ne.current),fr&&(A.current=Ft())},Se=ue=>{!K.current&&!$.current&&(oe.current(ue,rr),$e.current({type:"active",prompted:!0},rr)),P.current=0,L.current=Ft(),K.current=!0,Pe(Q.current,!1)},ke=()=>{De(),$.current||(Be.current(null,rr),$e.current({type:"idle"},rr)),$.current=!0,D.current=Ft(),ee.current?Ot():K.current&&(L.current=0,K.current=!1)},Bt=ue=>{De(),($.current||K.current)&&(Oe.current(ue,rr),$e.current({type:"active",prompted:!1},rr)),K.current=!1,L.current=0,$.current=!1,B.current+=Ft()-D.current,F.current+=Ft()-D.current,bt(),Pe()},Ir=ue=>{if(!$.current){Et.cancel&&Et.cancel();let fr=Ft()-A.current;if(!(ne.current+Q.current<fr)&&Q.current>0&&!K.current){G.current?G.current.prompt():Se(ue);return}G.current?G.current.idle():ke();return}G.current?G.current.active():Bt(ue)},dr=ue=>{if(!S&&!A.current&&(A.current=Ft(),Oe.current(null,rr)),Et(ue,rr),K.current)return;if(De(),!$.current&&ve.current.includes(ue.type)){Ir(ue);return}let fr=Ft()-A.current;if($.current&&!g||!$.current&&fr>=ne.current){Ir(ue);return}H.current=!1,P.current=0,L.current=0,Pe(),y&&E&&ut.current()},Le=x.useRef(dr);x.useEffect(()=>{let ue=q.current;ue&&Ot(),v>0?Le.current=nh(dr,v):Le.current=dr,ue&&bt()},[v,h,C,Ue,y,E]);let bt=()=>{hi&&ye.current&&(q.current||(Ee.current.forEach(ue=>{ye.current.addEventListener(ue,Le.current,{capture:!0,passive:!0})}),q.current=!0))},Ot=(ue=!1)=>{hi&&ye.current&&(q.current||ue)&&(Ee.current.forEach(fr=>{ye.current.removeEventListener(fr,Le.current,{capture:!0})}),q.current=!1)},tr=x.useCallback(ue=>be.current?!1:(De(),bt(),$.current=!1,K.current=!1,H.current=!1,P.current=0,L.current=0,G.current&&!ue&&G.current.start(),Pe(),!0),[te,$,be,ne,G]),Sa=x.useCallback(ue=>be.current?!1:(De(),bt(),M.current=Ft(),B.current+=Ft()-D.current,F.current+=Ft()-D.current,B.current=0,$.current=!1,K.current=!1,H.current=!1,P.current=0,L.current=0,G.current&&!ue&&G.current.reset(),m||Pe(),!0),[te,$,ne,m,be,G]),ki=x.useCallback(ue=>be.current?!1:(De(),bt(),($.current||K.current)&&Bt(),$.current=!1,K.current=!1,H.current=!1,P.current=0,L.current=0,M.current=Ft(),G.current&&!ue&&G.current.activate(),Pe(),!0),[te,$,K,be,ne,G]),Ur=x.useCallback((ue=!1)=>be.current||H.current?!1:(P.current=xa(),H.current=!0,Ot(),De(),G.current&&!ue&&G.current.pause(),!0),[te,be,G]),Ts=x.useCallback((ue=!1)=>be.current||!H.current?!1:(H.current=!1,K.current||bt(),$.current||Pe(P.current),L.current&&(L.current=Ft()),G.current&&!ue&&G.current.resume(),!0),[te,ne,be,P,G]),Jr=x.useCallback((ue,fr)=>(G.current?(fr&&Ce.current(ue,rr),G.current.message(ue)):fr&&Ce.current(ue,rr),!0),[p]),wa=x.useCallback(()=>$.current,[$]),Ii=x.useCallback(()=>K.current,[K]),As=x.useCallback(()=>G.current?G.current.isLeader:null,[G]),gu=x.useCallback(()=>G.current?G.current.isLastActive:null,[G]),bf=x.useCallback(()=>G.current?G.current.token:null,[G]),xa=x.useCallback(()=>{if(H.current)return P.current;let ue=P.current?P.current:Q.current+ne.current,fr=A.current?Ft()-A.current:0,io=Math.floor(ue-fr);return io<0?0:Math.abs(io)},[ne,Q,K,P,A]),ks=x.useCallback(()=>Math.round(Ft()-M.current),[M]),vu=x.useCallback(()=>Math.round(Ft()-_.current),[_]),Is=x.useCallback(()=>D.current?new Date(D.current):null,[D]),yu=x.useCallback(()=>A.current?new Date(A.current):null,[A]),Ns=x.useCallback(()=>$.current?Math.round(Ft()-D.current+B.current):Math.round(B.current),[D,B]),Cu=x.useCallback(()=>$.current?Math.round(Ft()-D.current+F.current):Math.round(F.current),[D,F]),Tf=x.useCallback(()=>{let ue=Math.round(ks()-Ns());return ue>=0?ue:0},[D,B]),Su=x.useCallback(()=>{let ue=Math.round(vu()-Cu());return ue>=0?ue:0},[D,B]);x.useEffect(()=>{if(C>0&&h>0)throw new Error(" onAction can either be throttled or debounced, not both.");a&&vR(a);let ue=()=>{G.current&&G.current.close(),Et.cancel&&Et.cancel(),De(),Ot(!0)};return hi&&window.addEventListener("beforeunload",ue),()=>{hi&&window.removeEventListener("beforeunload",ue),G.current&&G.current.close(),Et.cancel&&Et.cancel(),De(),Ot(!0)}},[]),x.useEffect(()=>{G.current&&G.current.close(),y?G.current=new xR({channelName:w,leaderElection:b,onPrompt:()=>{Se()},onIdle:()=>{ke()},onActive:()=>{Bt()},onMessage:ue=>{Ce.current(ue,rr)},start:tr,reset:Sa,activate:ki,pause:Ur,resume:Ts}):G.current=null},[y,w,b,oe,Be,Oe,Ce,tr,Sa,Ur,Ts]),x.useEffect(()=>{j.current||(De(),Ot(!0)),!(m||T)&&(S?tr():bt())},[m,S,T,j]),x.useEffect(()=>{if(!j.current){let ue=[...new Set([...i,...o]).values()];if(Ot(),Ee.current=ue,ye.current=n,ve.current=o,m||T)return;S?tr():bt()}},[n,JSON.stringify(i),JSON.stringify(o),j,T,m,S]),x.useEffect(()=>{j.current&&(j.current=!1)},[j]);let rr={message:Jr,start:tr,reset:Sa,activate:ki,pause:Ur,resume:Ts,isIdle:wa,isPrompted:Ii,isLeader:As,isLastActiveTab:gu,getTabId:bf,getRemainingTime:xa,getElapsedTime:ks,getTotalElapsedTime:vu,getLastIdleTime:Is,getLastActiveTime:yu,getIdleTime:Ns,getTotalIdleTime:Cu,getActiveTime:Tf,getTotalActiveTime:Su,setOnPresenceChange:ue=>{s=ue,$e.current=ue},setOnPrompt:ue=>{l=ue,oe.current=ue},setOnIdle:ue=>{u=ue,Be.current=ue},setOnActive:ue=>{c=ue,Oe.current=ue},setOnAction:ue=>{d=ue,Ue.current=ue},setOnMessage:ue=>{p=ue,Ce.current=ue}};return rr}var kR=x.createContext(null);kR.Consumer;const IR="OK",Qs={CONTINUE:100,OK:200,INTERNAL_ERROR:400,ALREADY_PERSONALIZED:401,PASSWORD_MISMATCH:402,PASSWORD_LOCKOUT:403,WRONG_KEY:404,WRONG_KEY_SECOND:405,NOT_A_KEY:406,NOT_A_KEY_SECOND:407,KEY_DISABLED:408,NOT_ALLOWED:409,BLANK_TOKEN:410,BLANK_SECOND_TOKEN:411,ACTIVITY_PROFILE_LOCKED:412,SSL_REQUIRED:413,BLANK_NORMAL_TOKEN:414,BLANK_SECOND_NORMAL_TOKEN:415,BLANK_MASTER_TOKEN:416,BLANK_SECOND_MASTER_TOKEN:417,NOT_ACTIVATED_TOKEN:418,NOT_ACTIVATED_SECOND_TOKEN:419,WRONG_KEY_SET:420,NO_VERIFIER:421,INCOMPLETE_KEYSET:422,INVALID_TICKET:423,SAME_TOKEN:424,NO_RECOVERY_INFO:425,BAD_RECOVERY_REQUEST:426,RECOVERY_FAILED:427,TERMINAL_ERROR:500,TERMINAL_NOT_FOUND:501,TERMINAL_BAD_REQUEST:502,NO_CONNECTION:503,NETWORK_ERROR:504,PROTOCOL_ERROR:505,UNKNOWN_HANDLER:506,TERMINAL_CANCELED:590,TIMEOUT:600,TICKET_TIMEOUT:601,USER_REJECT:603,NO_AUTH_INTERFACES_FOUND:604,TERMINAL_TIMEOUT:605,UNSUPPORTED_PLATFORM:606};class bx{constructor(t){this.connectionPool=[];const r={spfewsAddress:"wss://spfews.wwpass.com",clientKeyOnly:!1,log:()=>{}};this.options={...r,...t},this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}onError(t,r,n){this.reject({status:t,reason:r,ticket:n}),this.close()}close(){for(;this.connectionPool.length;){const t=this.connectionPool.shift();t.readyState===WebSocket.OPEN&&t.close()}}watchTicket(t){if(!("WebSocket"in window)){this.onError(Qs.INTERNAL_ERROR,"WebSocket is not supported.",t);return}const r=new WebSocket(this.options.spfewsAddress);this.connectionPool.push(r);const{log:n}=this.options;let i,a=null,o;r.onopen=()=>{try{n(`Connected: ${this.options.spfewsAddress}`);const s=JSON.stringify({ticket:t});n(`Sent message to server: ${s}`),r.send(s)}catch(s){n(s),this.onError(Qs.INTERNAL_ERROR,"WebSocket error",t)}},r.onclose=()=>{try{const s=this.connectionPool.indexOf(r);s!==-1&&this.connectionPool.splice(s,1),n("Disconnected")}catch(s){n(s),this.onError(Qs.INTERNAL_ERROR,"WebSocket error",t)}},r.onmessage=s=>{try{n(`Message received from server: ${s.data}`);const l=JSON.parse(s.data),u=l.code;"clientKey"in l&&!i&&(i=l.clientKey,l.originalTicket!==void 0&&(a=l.originalTicket,o=l.ttl)),(u===200||i&&this.options.clientKeyOnly)&&(this.resolve({status:u,reason:IR,clientKey:i,ticket:t,ttl:o,originalTicket:a!==null?a:t}),this.close())}catch(l){n(l),this.onError(Qs.INTERNAL_ERROR,"WebSocket error")}}}}const NR=e=>btoa(String.fromCharCode.apply(null,new Uint8Array(e))),_p=e=>{const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n+=1)r[n]=t.charCodeAt(n);return r.buffer},RR=e=>String.fromCharCode.apply(null,new Uint16Array(e)),Tx=e=>{const t=new ArrayBuffer(e.length*2),r=new Uint16Array(t);for(let n=0,i=e.length;n<i;n+=1)r[n]=e.charCodeAt(n);return t},_R=(...e)=>{const t=e.reduce((i,a)=>i+a.byteLength,0);let r=0;const n=new Uint8Array(t);for(;e.length>0;)n.set(new Uint8Array(e[0]),r),r+=e[0].byteLength,e.shift();return n.buffer},BR=e=>{const t=[],r=new DataView(e);for(let n=0;n<r.byteLength;n+=4){const a=r.getUint32(n).toString(16),o="00000000",s=(o+a).slice(-o.length);t.push(s)}return t.join("")},dc=window.crypto||window.msCrypto,ru=dc?dc.webkitSubtle||dc.subtle:null,DR=(e,t,r)=>ru.encrypt(e,t,r),wy=(e,t,r)=>ru.decrypt(e,t,r),xy=(e,t,r,n)=>ru.importKey("raw",e,t,r,n),LR=e=>dc.getRandomValues(e),MR=async e=>BR(await ru.digest({name:"SHA-256"},Tx(e))),OR=!!ru,PR=e=>{const[t]=e.split("@"),r=t.split(":");return r.length<3?!1:r[1].split("").some(a=>a==="c")};class Zc extends Error{constructor(t,...r){super(r,Zc),Error.captureStackTrace(this,Zc),this.code=t}toString(){return`${this.name}(${this.code}): ${this.message}`}}const FR=e=>{const t=window.Date.now();return e.filter(r=>r.deadline>t)},UR=()=>{const e=window.localStorage.getItem("wwpassNonce");if(!e)return[];try{return FR(JSON.parse(e))}catch(t){throw window.localStorage.removeItem("wwpassNonce"),t}},VR=e=>{window.localStorage.setItem("wwpassNonce",JSON.stringify(e))},Ax=async(e,t=null)=>{if(!OR)throw new Zc(Qs.SSL_REQUIRED,"Client-side encryption requires https.");const r=UR(),n=await MR(e),i=r.find(o=>n===o.hash),a=i&&i.key?_p(i.key):void 0;return t&&a&&(i.deadline=window.Date.now()+t*1e3,VR(r)),a},KR=new Uint8Array([176,178,97,142,156,31,45,30,81,210,85,14,202,203,86,240]);class Xd{static getWWPassCrypto(t,r="AES-GCM"){let n=null;const i={name:r,length:256},a=new bx({clientKeyOnly:!0});return a.watchTicket(t),a.promise.then(o=>{if(!o.clientKey)throw Error(`No client key associated with the ticket ${t}`);return n=o.clientKey,Ax(o.originalTicket?o.originalTicket:t,o.ttl)}).then(o=>{if(!o)throw new Error("No client key nonce associated with the ticket in this browser");return xy(o,{name:"AES-CBC"},!1,["encrypt","decrypt","wrapKey","unwrapKey"])}).then(o=>wy({name:"AES-CBC",iv:KR},o,_p(n))).then(o=>xy(o,i,!1,["encrypt","decrypt","wrapKey","unwrapKey"])).then(o=>new Xd(o,i)).catch(o=>{throw o.reason!==void 0?new Error(o.reason):o})}encryptArrayBuffer(t){const r=new Uint8Array(this.ivLen);LR(r);const{algorithm:n}=this;return Object.assign(n,{iv:r}),DR(n,this.clientKey,t).then(i=>_R(r.buffer,i))}encryptString(t){return this.encryptArrayBuffer(Tx(t)).then(NR)}decryptArrayBuffer(t){const{algorithm:r}=this;return Object.assign(r,{iv:t.slice(0,this.ivLen)}),wy(r,this.clientKey,t.slice(this.ivLen))}decryptString(t){return this.decryptArrayBuffer(_p(t)).then(RR)}constructor(t,r){this.ivLen=r.name==="AES-GCM"?12:16,this.algorithm=r,r.name==="AES-GCM"&&Object.assign(this.algorithm,{tagLength:128}),this.clientKey=t}}const $R={pragma:"no-cache","cache-control":"no-cache"},HR=e=>fetch(e,{cache:"no-store",headers:$R}).then(t=>{if(!t.ok)throw Error(`Error updating ticket from "${e}": ${t.statusText}`);return t.json()}).then(t=>{if(!t.newTicket||!t.oldTicket||!t.ttl)throw Error(`Invalid response ot updateTicket: ${t}`);const r={ticket:t.newTicket,ttl:t.ttl};if(!PR(t.newTicket))return r;const n=new bx({clientKeyOnly:!0});return n.watchTicket(t.newTicket),n.promise.then(i=>{if(!i.clientKey)throw Error(`No client key associated with the ticket ${t.newTicket}`);return Ax(i.originalTicket?i.originalTicket:t.newTicket,i.ttl)}).then(()=>r)});var jR=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},kx={},Xr={};let Pm;const zR=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Xr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Xr.getSymbolTotalCodewords=function(t){return zR[t]};Xr.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Xr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Pm=t};Xr.isKanjiModeEnabled=function(){return typeof Pm<"u"};Xr.toSJIS=function(t){return Pm(t)};var Jd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(Jd);function Ix(){this.buffer=[],this.length=0}Ix.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var qR=Ix;function nu(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}nu.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};nu.prototype.get=function(e,t){return this.data[e*this.size+t]};nu.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};nu.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var GR=nu,Nx={};(function(e){const t=Xr.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,s=[a-7];for(let l=1;l<i-1;l++)s[l]=s[l-1]-o;return s.push(6),s.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),o=a.length;for(let s=0;s<o;s++)for(let l=0;l<o;l++)s===0&&l===0||s===0&&l===o-1||s===o-1&&l===0||i.push([a[s],a[l]]);return i}})(Nx);var Rx={};const WR=Xr.getSymbolSize,Ey=7;Rx.getPositions=function(t){const r=WR(t);return[[0,0],[r-Ey,0],[0,r-Ey]]};var _x={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let o=0,s=0,l=0,u=null,c=null;for(let d=0;d<a;d++){s=l=0,u=c=null;for(let p=0;p<a;p++){let C=i.get(d,p);C===u?s++:(s>=5&&(o+=t.N1+(s-5)),u=C,s=1),C=i.get(p,d),C===c?l++:(l>=5&&(o+=t.N1+(l-5)),c=C,l=1)}s>=5&&(o+=t.N1+(s-5)),l>=5&&(o+=t.N1+(l-5))}return o},e.getPenaltyN2=function(i){const a=i.size;let o=0;for(let s=0;s<a-1;s++)for(let l=0;l<a-1;l++){const u=i.get(s,l)+i.get(s,l+1)+i.get(s+1,l)+i.get(s+1,l+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const a=i.size;let o=0,s=0,l=0;for(let u=0;u<a;u++){s=l=0;for(let c=0;c<a;c++)s=s<<1&2047|i.get(u,c),c>=10&&(s===1488||s===93)&&o++,l=l<<1&2047|i.get(c,u),c>=10&&(l===1488||l===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let l=0;l<o;l++)a+=i.data[l];return Math.abs(Math.ceil(a*100/o/5)-10)*t.N4};function r(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const o=a.size;for(let s=0;s<o;s++)for(let l=0;l<o;l++)a.isReserved(l,s)||a.xor(l,s,r(i,l,s))},e.getBestMask=function(i,a){const o=Object.keys(e.Patterns).length;let s=0,l=1/0;for(let u=0;u<o;u++){a(u),e.applyMask(u,i);const c=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),c<l&&(l=c,s=u)}return s}})(_x);var Zd={};const ji=Jd,Fu=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Uu=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Zd.getBlocksCount=function(t,r){switch(r){case ji.L:return Fu[(t-1)*4+0];case ji.M:return Fu[(t-1)*4+1];case ji.Q:return Fu[(t-1)*4+2];case ji.H:return Fu[(t-1)*4+3];default:return}};Zd.getTotalCodewordsCount=function(t,r){switch(r){case ji.L:return Uu[(t-1)*4+0];case ji.M:return Uu[(t-1)*4+1];case ji.Q:return Uu[(t-1)*4+2];case ji.H:return Uu[(t-1)*4+3];default:return}};var Bx={},ef={};const ll=new Uint8Array(512),ed=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)ll[r]=t,ed[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)ll[r]=ll[r-255]})();ef.log=function(t){if(t<1)throw new Error("log("+t+")");return ed[t]};ef.exp=function(t){return ll[t]};ef.mul=function(t,r){return t===0||r===0?0:ll[ed[t]+ed[r]]};(function(e){const t=ef;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let s=0;s<i.length;s++)a[o+s]^=t.mul(n[o],i[s]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const o=a[0];for(let l=0;l<i.length;l++)a[l]^=t.mul(i[l],o);let s=0;for(;s<a.length&&a[s]===0;)s++;a=a.slice(s)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(Bx);const Dx=Bx;function Fm(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Fm.prototype.initialize=function(t){this.degree=t,this.genPoly=Dx.generateECPolynomial(this.degree)};Fm.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=Dx.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var QR=Fm,Lx={},va={},Um={};Um.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var ri={};const Mx="[0-9]+",YR="[A-Z $%*+\\-./:]+";let Ol="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ol=Ol.replace(/u/g,"\\u");const XR="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ol+`)(?:.|[\r
]))+`;ri.KANJI=new RegExp(Ol,"g");ri.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ri.BYTE=new RegExp(XR,"g");ri.NUMERIC=new RegExp(Mx,"g");ri.ALPHANUMERIC=new RegExp(YR,"g");const JR=new RegExp("^"+Ol+"$"),ZR=new RegExp("^"+Mx+"$"),e_=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ri.testKanji=function(t){return JR.test(t)};ri.testNumeric=function(t){return ZR.test(t)};ri.testAlphanumeric=function(t){return e_.test(t)};(function(e){const t=Um,r=ri;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,o){if(e.isValid(a))return a;try{return n(a)}catch{return o}}})(va);(function(e){const t=Xr,r=Zd,n=Jd,i=va,a=Um,o=7973,s=t.getBCHDigit(o);function l(p,C,h){for(let v=1;v<=40;v++)if(C<=e.getCapacity(v,h,p))return v}function u(p,C){return i.getCharCountIndicator(p,C)+4}function c(p,C){let h=0;return p.forEach(function(v){const S=u(v.mode,C);h+=S+v.getBitsLength()}),h}function d(p,C){for(let h=1;h<=40;h++)if(c(p,h)<=e.getCapacity(h,C,i.MIXED))return h}e.from=function(C,h){return a.isValid(C)?parseInt(C,10):h},e.getCapacity=function(C,h,v){if(!a.isValid(C))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const S=t.getSymbolTotalCodewords(C),m=r.getTotalCodewordsCount(C,h),g=(S-m)*8;if(v===i.MIXED)return g;const y=g-u(v,C);switch(v){case i.NUMERIC:return Math.floor(y/10*3);case i.ALPHANUMERIC:return Math.floor(y/11*2);case i.KANJI:return Math.floor(y/13);case i.BYTE:default:return Math.floor(y/8)}},e.getBestVersionForData=function(C,h){let v;const S=n.from(h,n.M);if(Array.isArray(C)){if(C.length>1)return d(C,S);if(C.length===0)return 1;v=C[0]}else v=C;return l(v.mode,v.getLength(),S)},e.getEncodedBits=function(C){if(!a.isValid(C)||C<7)throw new Error("Invalid QR Code version");let h=C<<12;for(;t.getBCHDigit(h)-s>=0;)h^=o<<t.getBCHDigit(h)-s;return C<<12|h}})(Lx);var Ox={};const Bp=Xr,Px=1335,t_=21522,by=Bp.getBCHDigit(Px);Ox.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;Bp.getBCHDigit(i)-by>=0;)i^=Px<<Bp.getBCHDigit(i)-by;return(n<<10|i)^t_};var Fx={};const r_=va;function Wo(e){this.mode=r_.NUMERIC,this.data=e.toString()}Wo.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Wo.prototype.getLength=function(){return this.data.length};Wo.prototype.getBitsLength=function(){return Wo.getBitsLength(this.data.length)};Wo.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,a*3+1))};var n_=Wo;const i_=va,ih=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Qo(e){this.mode=i_.ALPHANUMERIC,this.data=e}Qo.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Qo.prototype.getLength=function(){return this.data.length};Qo.prototype.getBitsLength=function(){return Qo.getBitsLength(this.data.length)};Qo.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=ih.indexOf(this.data[r])*45;n+=ih.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(ih.indexOf(this.data[r]),6)};var a_=Qo,o_=function(t){for(var r=[],n=t.length,i=0;i<n;i++){var a=t.charCodeAt(i);if(a>=55296&&a<=56319&&n>i+1){var o=t.charCodeAt(i+1);o>=56320&&o<=57343&&(a=(a-55296)*1024+o-56320+65536,i+=1)}if(a<128){r.push(a);continue}if(a<2048){r.push(a>>6|192),r.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){r.push(a>>12|224),r.push(a>>6&63|128),r.push(a&63|128);continue}if(a>=65536&&a<=1114111){r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const s_=o_,l_=va;function Yo(e){this.mode=l_.BYTE,typeof e=="string"&&(e=s_(e)),this.data=new Uint8Array(e)}Yo.getBitsLength=function(t){return t*8};Yo.prototype.getLength=function(){return this.data.length};Yo.prototype.getBitsLength=function(){return Yo.getBitsLength(this.data.length)};Yo.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var u_=Yo;const c_=va,d_=Xr;function Xo(e){this.mode=c_.KANJI,this.data=e}Xo.getBitsLength=function(t){return t*13};Xo.prototype.getLength=function(){return this.data.length};Xo.prototype.getBitsLength=function(){return Xo.getBitsLength(this.data.length)};Xo.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=d_.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var f_=Xo,Ux={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var a={},o={};o[n]=0;var s=t.PriorityQueue.make();s.push(n,0);for(var l,u,c,d,p,C,h,v,S;!s.empty();){l=s.pop(),u=l.value,d=l.cost,p=r[u]||{};for(c in p)p.hasOwnProperty(c)&&(C=p[c],h=d+C,v=o[c],S=typeof o[c]>"u",(S||v>h)&&(o[c]=h,s.push(c,h),a[c]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var m=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(m)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Ux);var h_=Ux.exports;(function(e){const t=va,r=n_,n=a_,i=u_,a=f_,o=ri,s=Xr,l=h_;function u(m){return unescape(encodeURIComponent(m)).length}function c(m,g,y){const w=[];let E;for(;(E=m.exec(y))!==null;)w.push({data:E[0],index:E.index,mode:g,length:E[0].length});return w}function d(m){const g=c(o.NUMERIC,t.NUMERIC,m),y=c(o.ALPHANUMERIC,t.ALPHANUMERIC,m);let w,E;return s.isKanjiModeEnabled()?(w=c(o.BYTE,t.BYTE,m),E=c(o.KANJI,t.KANJI,m)):(w=c(o.BYTE_KANJI,t.BYTE,m),E=[]),g.concat(y,w,E).sort(function(T,_){return T.index-_.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function p(m,g){switch(g){case t.NUMERIC:return r.getBitsLength(m);case t.ALPHANUMERIC:return n.getBitsLength(m);case t.KANJI:return a.getBitsLength(m);case t.BYTE:return i.getBitsLength(m)}}function C(m){return m.reduce(function(g,y){const w=g.length-1>=0?g[g.length-1]:null;return w&&w.mode===y.mode?(g[g.length-1].data+=y.data,g):(g.push(y),g)},[])}function h(m){const g=[];for(let y=0;y<m.length;y++){const w=m[y];switch(w.mode){case t.NUMERIC:g.push([w,{data:w.data,mode:t.ALPHANUMERIC,length:w.length},{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.ALPHANUMERIC:g.push([w,{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.KANJI:g.push([w,{data:w.data,mode:t.BYTE,length:u(w.data)}]);break;case t.BYTE:g.push([{data:w.data,mode:t.BYTE,length:u(w.data)}])}}return g}function v(m,g){const y={},w={start:{}};let E=["start"];for(let b=0;b<m.length;b++){const T=m[b],_=[];for(let M=0;M<T.length;M++){const D=T[M],A=""+b+M;_.push(A),y[A]={node:D,lastCount:0},w[A]={};for(let B=0;B<E.length;B++){const F=E[B];y[F]&&y[F].node.mode===D.mode?(w[F][A]=p(y[F].lastCount+D.length,D.mode)-p(y[F].lastCount,D.mode),y[F].lastCount+=D.length):(y[F]&&(y[F].lastCount=D.length),w[F][A]=p(D.length,D.mode)+4+t.getCharCountIndicator(D.mode,g))}}E=_}for(let b=0;b<E.length;b++)w[E[b]].end=0;return{map:w,table:y}}function S(m,g){let y;const w=t.getBestModeForData(m);if(y=t.from(g,w),y!==t.BYTE&&y.bit<w.bit)throw new Error('"'+m+'" cannot be encoded with mode '+t.toString(y)+`.
 Suggested mode is: `+t.toString(w));switch(y===t.KANJI&&!s.isKanjiModeEnabled()&&(y=t.BYTE),y){case t.NUMERIC:return new r(m);case t.ALPHANUMERIC:return new n(m);case t.KANJI:return new a(m);case t.BYTE:return new i(m)}}e.fromArray=function(g){return g.reduce(function(y,w){return typeof w=="string"?y.push(S(w,null)):w.data&&y.push(S(w.data,w.mode)),y},[])},e.fromString=function(g,y){const w=d(g,s.isKanjiModeEnabled()),E=h(w),b=v(E,y),T=l.find_path(b.map,"start","end"),_=[];for(let M=1;M<T.length-1;M++)_.push(b.table[T[M]].node);return e.fromArray(C(_))},e.rawSplit=function(g){return e.fromArray(d(g,s.isKanjiModeEnabled()))}})(Fx);const tf=Xr,ah=Jd,p_=qR,m_=GR,g_=Nx,v_=Rx,Dp=_x,Lp=Zd,y_=QR,td=Lx,C_=Ox,S_=va,oh=Fx;function w_(e,t){const r=e.size,n=v_.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],o=n[i][1];for(let s=-1;s<=7;s++)if(!(a+s<=-1||r<=a+s))for(let l=-1;l<=7;l++)o+l<=-1||r<=o+l||(s>=0&&s<=6&&(l===0||l===6)||l>=0&&l<=6&&(s===0||s===6)||s>=2&&s<=4&&l>=2&&l<=4?e.set(a+s,o+l,!0,!0):e.set(a+s,o+l,!1,!0))}}function x_(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function E_(e,t){const r=g_.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let o=-2;o<=2;o++)for(let s=-2;s<=2;s++)o===-2||o===2||s===-2||s===2||o===0&&s===0?e.set(i+o,a+s,!0,!0):e.set(i+o,a+s,!1,!0)}}function b_(e,t){const r=e.size,n=td.getEncodedBits(t);let i,a,o;for(let s=0;s<18;s++)i=Math.floor(s/3),a=s%3+r-8-3,o=(n>>s&1)===1,e.set(i,a,o,!0),e.set(a,i,o,!0)}function sh(e,t,r){const n=e.size,i=C_.getEncodedBits(t,r);let a,o;for(a=0;a<15;a++)o=(i>>a&1)===1,a<6?e.set(a,8,o,!0):a<8?e.set(a+1,8,o,!0):e.set(n-15+a,8,o,!0),a<8?e.set(8,n-a-1,o,!0):a<9?e.set(8,15-a-1+1,o,!0):e.set(8,15-a-1,o,!0);e.set(n-8,8,1,!0)}function T_(e,t){const r=e.size;let n=-1,i=r-1,a=7,o=0;for(let s=r-1;s>0;s-=2)for(s===6&&s--;;){for(let l=0;l<2;l++)if(!e.isReserved(i,s-l)){let u=!1;o<t.length&&(u=(t[o]>>>a&1)===1),e.set(i,s-l,u),a--,a===-1&&(o++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function A_(e,t,r){const n=new p_;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),S_.getCharCountIndicator(l.mode,e)),l.write(n)});const i=tf.getSymbolTotalCodewords(e),a=Lp.getTotalCodewordsCount(e,t),o=(i-a)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const s=(o-n.getLengthInBits())/8;for(let l=0;l<s;l++)n.put(l%2?17:236,8);return k_(n,e,t)}function k_(e,t,r){const n=tf.getSymbolTotalCodewords(t),i=Lp.getTotalCodewordsCount(t,r),a=n-i,o=Lp.getBlocksCount(t,r),s=n%o,l=o-s,u=Math.floor(n/o),c=Math.floor(a/o),d=c+1,p=u-c,C=new y_(p);let h=0;const v=new Array(o),S=new Array(o);let m=0;const g=new Uint8Array(e.buffer);for(let T=0;T<o;T++){const _=T<l?c:d;v[T]=g.slice(h,h+_),S[T]=C.encode(v[T]),h+=_,m=Math.max(m,_)}const y=new Uint8Array(n);let w=0,E,b;for(E=0;E<m;E++)for(b=0;b<o;b++)E<v[b].length&&(y[w++]=v[b][E]);for(E=0;E<p;E++)for(b=0;b<o;b++)y[w++]=S[b][E];return y}function I_(e,t,r,n){let i;if(Array.isArray(e))i=oh.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const c=oh.rawSplit(e);u=td.getBestVersionForData(c,r)}i=oh.fromString(e,u||40)}else throw new Error("Invalid data");const a=td.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const o=A_(t,r,i),s=tf.getSymbolSize(t),l=new m_(s);return w_(l,t),x_(l),E_(l,t),sh(l,r,0),t>=7&&b_(l,t),T_(l,o),isNaN(n)&&(n=Dp.getBestMask(l,sh.bind(null,l,r))),Dp.applyMask(n,l),sh(l,r,n),{modules:l,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}kx.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=ah.M,i,a;return typeof r<"u"&&(n=ah.from(r.errorCorrectionLevel,ah.M),i=td.from(r.version),a=Dp.from(r.maskPattern),r.toSJISFunc&&tf.setToSJISFunction(r.toSJISFunc)),I_(t,i,n,a)};var Vx={},Vm={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const o=i.modules.size,s=i.modules.data,l=e.getScale(o,a),u=Math.floor((o+a.margin*2)*l),c=a.margin*l,d=[a.color.light,a.color.dark];for(let p=0;p<u;p++)for(let C=0;C<u;C++){let h=(p*u+C)*4,v=a.color.light;if(p>=c&&C>=c&&p<u-c&&C<u-c){const S=Math.floor((p-c)/l),m=Math.floor((C-c)/l);v=d[s[S*o+m]?1:0]}n[h++]=v.r,n[h++]=v.g,n[h++]=v.b,n[h]=v.a}}})(Vm);(function(e){const t=Vm;function r(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,o,s){let l=s,u=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(u=n()),l=t.getOptions(l);const c=t.getImageWidth(a.modules.size,l),d=u.getContext("2d"),p=d.createImageData(c,c);return t.qrToImageData(p.data,a,l),r(d,u,c),d.putImageData(p,0,0),u},e.renderToDataURL=function(a,o,s){let l=s;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const u=e.render(a,o,l),c=l.type||"image/png",d=l.rendererOpts||{};return u.toDataURL(c,d.quality)}})(Vx);var Kx={};const N_=Vm;function Ty(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function lh(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function R_(e,t,r){let n="",i=0,a=!1,o=0;for(let s=0;s<e.length;s++){const l=Math.floor(s%t),u=Math.floor(s/t);!l&&!a&&(a=!0),e[s]?(o++,s>0&&l>0&&e[s-1]||(n+=a?lh("M",l+r,.5+u+r):lh("m",i,0),i=0,a=!1),l+1<t&&e[s+1]||(n+=lh("h",o),o=0)):i++}return n}Kx.render=function(t,r,n){const i=N_.getOptions(r),a=t.modules.size,o=t.modules.data,s=a+i.margin*2,l=i.color.light.a?"<path "+Ty(i.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",u="<path "+Ty(i.color.dark,"stroke")+' d="'+R_(o,a,i.margin)+'"/>',c='viewBox="0 0 '+s+" "+s+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof n=="function"&&n(null,p),p};const __=jR,Mp=kx,$x=Vx,B_=Kx;function Km(e,t,r,n,i){const a=[].slice.call(arguments,1),o=a.length,s=typeof a[o-1]=="function";if(!s&&!__())throw new Error("Callback required as last argument");if(s){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=t,t=n=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=t,t=n=void 0):o===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(l,u){try{const c=Mp.create(r,n);l(e(c,t,n))}catch(c){u(c)}})}try{const l=Mp.create(r,n);i(null,e(l,t,n))}catch(l){i(l)}}Mp.create;Km.bind(null,$x.render);Km.bind(null,$x.renderToDataURL);Km.bind(null,function(e,t,r){return B_.render(e,r)});function D_(e,t){const r=e/2+30;let n=new Date/1e3-t,i;function a(){new Date/1e3-n>r&&(n=new Date/1e3,HR("update_ticket.php").catch(s=>{console.log("updateticket error"),console.log(s),clearInterval(i),window.location="logout.php"}))}i=window.setInterval(a,1e3)}function Op(e){const t={verifier:ge(),msg:e};Te.post(`${Re()}serverlog.php`,t).then(r=>{}).catch(r=>{})}const L_=["01234567890-=","123123321","0000000000","1111111111","5555555555","6666666666","6969696969","7777777777","8888888888","09876543210","123qwe","1qaz2wsx3edc","1q2w3e4r5t","aa123456789","aaron431","admin1","administrator","access","ashley","asdfghjkl;'","azerty","baseball","bailey","batman","abc123","charlie","donald","dragon","flower","football","freedom","google","iloveyou","letmein","loveme","lovely","master","million2","monkey","mustang","mynoob","password1!","passw0rd","picture1","princess","qazwsxedc","qqww1122","qwerty123","qwertyuiop[]\\","shadow","starwars","sunshine","superman","trustno1","welcome","whatever","zaq1zaq1","zxcvbnm,./","!@#$%^&*()_+"];function M_(e){const t=e.replace(/\s+/g," "),r=t.toLowerCase();if(t.length<6)return{strongPassword:!1,reason:"too short"};for(const n of L_)if(n.indexOf(r)!==-1)return{strongPassword:!1,reason:"blacklisted"};return t.length<8?{strongPassword:!1,reason:"too short"}:{strongPassword:!0,reason:""}}const nr=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");function hn(e,t){for(const r of e){if(r.id===t)return r;const n=hn(r.folders,t);if(n)return n}return null}const Pl=e=>{if(e==0)return"0";if(e<1024)return`${e} B`;const t=Math.floor(Math.log(e)/Math.log(1024));let r=e/Math.pow(1024,t);const n=Math.round(r);return r=n<10?r.toFixed(2):n<100?r.toFixed(1):n,`${r} ${"KMGTPEZY"[t-1]}B`},O_=()=>navigator.userAgent.match(/iPhone|iPod|iPad/i)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||navigator.userAgent.match(/Android/i);function iu(e){let t;return typeof e<"u"&&"contentModificationDate"in e?t=new Date(e.contentModificationDate):typeof e<"u"&&"lastModified"in e&&(t=new Date(e.lastModified)),t?t.toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""}function P_(e){return e.charAt(0).toUpperCase()+e.slice(1)}let Hx="./";function Re(){return Hx}function F_(){let e;try{e=new URL(Hx)}catch{e=new URL(window.location.href)}return e.hostname}let Ay="";function ge(){return Ay.length>0?Ay:document.getElementById("csrf").getAttribute("data-csrf")}let Jo={};function jx(){let e=0;for(let t of Jo.safes)e+=t.rawItems.length;return e}function rd(){return isNaN(Jo.maxRecords)?!1:jx()>=Jo.maxRecords}function zx(){let e=0;for(let t of Jo.safes)for(let r of t.rawItems)"file"in r&&(e+=r.file.size);return e}function ky(){return isNaN(Jo.maxStorage)?!1:zx()>=Jo.maxStorage}let qx=0;const Gx=e=>{qx=e},U_=30;function nd(){return new Date/1e3-qx<U_}function Pp(e){e||Gx(0)}function Iy(e){return!e.note&&!e.file&&e.version!==5}function Fp(e){return!!e.file}function Up(e){return e.version===5&&e.cleartext[0]==="card"}function Ny(e){return!!e.note}const Na={MAX_TITLE_LENGTH:50,MAX_NOTE_LENGTH:1e4,MAX_USERNAME_LENGTH:100,MAX_PASSWORD_LENGTH:100,MAX_URL_LENGTH:2048,MAX_TOTP_LENGTH:2048};var Ke={options:{usePureJavaScript:!1}},$m={},V_=$m,Ry={};$m.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=K_(e,t);else{var i=0,a=t.length,o=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var l=0,u=e[i];l<s.length;++l)u+=s[l]<<8,s[l]=u%a,u=u/a|0;for(;u>0;)s.push(u%a),u=u/a|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=o;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join(`\r
`)}return n};$m.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Ry[t];if(!r){r=Ry[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,a=t.charAt(0),o=[0],n=0;n<e.length;n++){var s=r[e.charCodeAt(n)];if(s===void 0)return;for(var l=0,u=s;l<o.length;++l)u+=o[l]*i,o[l]=u&255,u>>=8;for(;u>0;)o.push(u&255),u>>=8}for(var c=0;e[c]===a&&c<e.length-1;++c)o.push(0);return typeof Buffer<"u"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function K_(e,t){var r=0,n=t.length,i=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var o=0,s=e.at(r);o<a.length;++o)s+=a[o]<<8,a[o]=s%n,s=s/n|0;for(;s>0;)a.push(s%n),s=s/n|0}var l="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)l+=i;for(r=a.length-1;r>=0;--r)l+=t[a[r]];return l}var _y=Ke,By=V_,V=_y.util=_y.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){V.nextTick=process.nextTick,typeof setImmediate=="function"?V.setImmediate=setImmediate:V.setImmediate=V.nextTick;return}if(typeof setImmediate=="function"){V.setImmediate=function(){return setImmediate.apply(void 0,arguments)},V.nextTick=function(s){return setImmediate(s)};return}if(V.setImmediate=function(s){setTimeout(s,0)},typeof window<"u"&&typeof window.postMessage=="function"){let s=function(l){if(l.source===window&&l.data===e){l.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(c){c()})}};var o=s,e="forge.setImmediate",t=[];V.setImmediate=function(l){t.push(l),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",s,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var l=t.slice();t.length=0,l.forEach(function(u){u()})}).observe(i,{attributes:!0});var a=V.setImmediate;V.setImmediate=function(l){Date.now()-r>15?(r=Date.now(),a(l)):(t.push(l),t.length===1&&i.setAttribute("a",n=!n))}}V.nextTick=V.setImmediate})();V.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;V.globalScope=function(){return V.isNodejs?ci:typeof self>"u"?window:self}();V.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};V.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};V.isArrayBufferView=function(e){return e&&V.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function au(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}V.ByteBuffer=Hm;function Hm(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(V.isArrayBuffer(e)||V.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof Hm||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}V.ByteStringBuffer=Hm;var $_=4096;V.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>$_&&(this.data.substr(0,1),this._constructedStringLength=0)};V.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};V.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};V.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};V.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};V.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};V.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(V.encodeUtf8(e))};V.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};V.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};V.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};V.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};V.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};V.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};V.ByteStringBuffer.prototype.putInt=function(e,t){au(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};V.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};V.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};V.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};V.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};V.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};V.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};V.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};V.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};V.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};V.ByteStringBuffer.prototype.getInt=function(e){au(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};V.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};V.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};V.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};V.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};V.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};V.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};V.ByteStringBuffer.prototype.copy=function(){var e=V.createBuffer(this.data);return e.read=this.read,e};V.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};V.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};V.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};V.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};V.ByteStringBuffer.prototype.toString=function(){return V.decodeUtf8(this.bytes())};function H_(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=V.isArrayBuffer(e),n=V.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}V.DataBuffer=H_;V.DataBuffer.prototype.length=function(){return this.write-this.read};V.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};V.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};V.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};V.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};V.DataBuffer.prototype.putBytes=function(e,t){if(V.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(V.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof V.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&V.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof V.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var a;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=V.binary.hex.decode(e,a,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=V.binary.base64.decode(e,a,this.write),this;if(t==="utf8"&&(e=V.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=V.binary.raw.decode(a),this;if(t==="utf16")return this.accommodate(e.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=V.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};V.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};V.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};V.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};V.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};V.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};V.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};V.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};V.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};V.DataBuffer.prototype.putInt=function(e,t){au(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};V.DataBuffer.prototype.putSignedInt=function(e,t){return au(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};V.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};V.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};V.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};V.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};V.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};V.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};V.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};V.DataBuffer.prototype.getInt=function(e){au(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};V.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};V.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};V.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};V.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};V.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};V.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};V.DataBuffer.prototype.copy=function(){return new V.DataBuffer(this)};V.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};V.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};V.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};V.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};V.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return V.binary.raw.encode(t);if(e==="hex")return V.binary.hex.encode(t);if(e==="base64")return V.binary.base64.encode(t);if(e==="utf8")return V.text.utf8.decode(t);if(e==="utf16")return V.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};V.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=V.encodeUtf8(e)),new V.ByteBuffer(e)};V.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};V.xorBytes=function(e,t,r){for(var n="",i="",a="",o=0,s=0;r>0;--r,++o)i=e.charCodeAt(o)^t.charCodeAt(o),s>=10&&(n+=a,a="",s=0),a+=String.fromCharCode(i),++s;return n+=a,n};V.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};V.bytesToHex=function(e){return V.createBuffer(e).toHex()};V.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",qi=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Wx="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";V.encode64=function(e,t){for(var r="",n="",i,a,o,s=0;s<e.length;)i=e.charCodeAt(s++),a=e.charCodeAt(s++),o=e.charCodeAt(s++),r+=zi.charAt(i>>2),r+=zi.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=zi.charAt((a&15)<<2|o>>6),r+=isNaN(o)?"=":zi.charAt(o&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};V.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,a,o=0;o<e.length;)r=qi[e.charCodeAt(o++)-43],n=qi[e.charCodeAt(o++)-43],i=qi[e.charCodeAt(o++)-43],a=qi[e.charCodeAt(o++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(t+=String.fromCharCode((i&3)<<6|a)));return t};V.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};V.decodeUtf8=function(e){return decodeURIComponent(escape(e))};V.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:By.encode,decode:By.decode}};V.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};V.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};V.binary.hex.encode=V.bytesToHex;V.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,a=r;for(e.length&1&&(i=1,n[a++]=parseInt(e[0],16));i<e.length;i+=2)n[a++]=parseInt(e.substr(i,2),16);return t?a-r:n};V.binary.base64.encode=function(e,t){for(var r="",n="",i,a,o,s=0;s<e.byteLength;)i=e[s++],a=e[s++],o=e[s++],r+=zi.charAt(i>>2),r+=zi.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=zi.charAt((a&15)<<2|o>>6),r+=isNaN(o)?"=":zi.charAt(o&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};V.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,o,s,l=0,u=r;l<e.length;)i=qi[e.charCodeAt(l++)-43],a=qi[e.charCodeAt(l++)-43],o=qi[e.charCodeAt(l++)-43],s=qi[e.charCodeAt(l++)-43],n[u++]=i<<2|a>>4,o!==64&&(n[u++]=(a&15)<<4|o>>2,s!==64&&(n[u++]=(o&3)<<6|s));return t?u-r:n.subarray(0,u)};V.binary.base58.encode=function(e,t){return V.binary.baseN.encode(e,Wx,t)};V.binary.base58.decode=function(e,t){return V.binary.baseN.decode(e,Wx,t)};V.text={utf8:{},utf16:{}};V.text.utf8.encode=function(e,t,r){e=V.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n};V.text.utf8.decode=function(e){return V.decodeUtf8(String.fromCharCode.apply(null,e))};V.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,o=r,s=0;s<e.length;++s)i[o++]=e.charCodeAt(s),a+=2;return t?a-r:n};V.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};V.deflate=function(e,t,r){if(t=V.decode64(e.deflate(V.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};V.inflate=function(e,t,r){var n=e.inflate(V.encode64(t)).rval;return n===null?null:V.decode64(n)};var jm=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=V.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},zm=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(V.decode64(r))),r},j_=function(e,t,r,n){var i=zm(e,t);i===null&&(i={}),i[r]=n,jm(e,t,i)},z_=function(e,t,r){var n=zm(e,t);return n!==null&&(n=r in n?n[r]:null),n},q_=function(e,t,r){var n=zm(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),jm(e,t,n)}},G_=function(e,t){jm(e,t,null)},rf=function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,a=!1,o=null;for(var s in r){i=r[s];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),a=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),a=!0)}catch(l){o=l}if(a)break}if(!a)throw o;return n};V.setItem=function(e,t,r,n,i){rf(j_,arguments,i)};V.getItem=function(e,t,r,n){return rf(z_,arguments,n)};V.removeItem=function(e,t,r,n){rf(q_,arguments,n)};V.clearItems=function(e,t,r){rf(G_,arguments,r)};V.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};V.format=function(e){for(var t=/%./g,r,n,i=0,a=[],o=0;r=t.exec(e);){n=e.substring(o,t.lastIndex-2),n.length>0&&a.push(n),o=t.lastIndex;var s=r[0][1];switch(s){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(e.substring(o)),a.join("")};V.formatNumber=function(e,t,r,n){var i=e,a=isNaN(t=Math.abs(t))?2:t,o=r===void 0?",":r,s=n===void 0?".":n,l=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",c=u.length>3?u.length%3:0;return l+(c?u.substr(0,c)+s:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-u).toFixed(a).slice(2):"")};V.formatSize=function(e){return e>=1073741824?e=V.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=V.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=V.formatNumber(e/1024,0)+" KiB":e=V.formatNumber(e,0)+" bytes",e};V.bytesFromIP=function(e){return e.indexOf(".")!==-1?V.bytesFromIPv4(e):e.indexOf(":")!==-1?V.bytesFromIPv6(e):null};V.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=V.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};V.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(o){return o.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=V.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=V.hexToBytes(e[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};V.bytesToIP=function(e){return e.length===4?V.bytesToIPv4(e):e.length===16?V.bytesToIPv6(e):null};V.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};V.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var a=V.bytesToHex(e[i]+e[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var o=r[r.length-1],s=t.length;!o||s!==o.end+1?r.push({start:s,end:s}):(o.end=s,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(a)}if(r.length>0){var l=r[n];l.end-l.start>0&&(t.splice(l.start,l.end-l.start+1,""),l.start===0&&t.unshift(""),l.end===7&&t.push(""))}return t.join(":")};V.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in V&&!e.update)return t(null,V.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return V.cores=navigator.hardwareConcurrency,t(null,V.cores);if(typeof Worker>"u")return V.cores=1,t(null,V.cores);if(typeof Blob>"u")return V.cores=2,t(null,V.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(o){var s=Date.now(),l=s+4;self.postMessage({st:s,et:l})})}).toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,s,l){if(s===0){var u=Math.floor(o.reduce(function(c,d){return c+d},0)/o.length);return V.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,V.cores)}i(l,function(c,d){o.push(a(l,d)),n(o,s-1,l)})}function i(o,s){for(var l=[],u=[],c=0;c<o;++c){var d=new Worker(r);d.addEventListener("message",function(p){if(u.push(p.data),u.length===o){for(var C=0;C<o;++C)l[C].terminate();s(null,u)}}),l.push(d)}for(var c=0;c<o;++c)l[c].postMessage(c)}function a(o,s){for(var l=[],u=0;u<o;++u)for(var c=s[u],d=l[u]=[],p=0;p<o;++p)if(u!==p){var C=s[p];(c.st>C.st&&c.st<C.et||C.st>c.st&&C.st<c.et)&&d.push(p)}return l.reduce(function(h,v){return Math.max(h,v.length)},0)}};var er=Ke;er.cipher=er.cipher||{};er.cipher.algorithms=er.cipher.algorithms||{};er.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=er.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new er.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};er.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=er.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new er.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};er.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),er.cipher.algorithms[e]=t};er.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in er.cipher.algorithms?er.cipher.algorithms[e]:null};var qm=er.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};qm.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=er.util.createBuffer(),this.output=e.output||er.util.createBuffer(),this.mode.start(t)};qm.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};qm.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))};var Jt=Ke;Jt.cipher=Jt.cipher||{};var ze=Jt.cipher.modes=Jt.cipher.modes||{};ze.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ze.ecb.prototype.start=function(e){};ze.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};ze.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};ze.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};ze.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};ze.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};ze.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=nf(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};ze.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};ze.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};ze.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};ze.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};ze.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Jt.util.createBuffer(),this._partialBytes=0};ze.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=nf(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ze.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ze.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ze.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Jt.util.createBuffer(),this._partialBytes=0};ze.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=nf(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ze.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};ze.ofb.prototype.decrypt=ze.ofb.prototype.encrypt;ze.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Jt.util.createBuffer(),this._partialBytes=0};ze.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=nf(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};ze.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}af(this._inBlock)};ze.ctr.prototype.decrypt=ze.ctr.prototype.encrypt;ze.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Jt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};ze.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Jt.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Jt.util.createBuffer(e.additionalData):r=Jt.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Jt.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Vp(n*8)))}this._inBlock=this._j0.slice(0),af(this._inBlock),this._partialBytes=0,r=Jt.util.createBuffer(r),this._aDataLength=Vp(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};ze.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),af(this._inBlock)};ze.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),af(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};ze.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Jt.util.createBuffer();var n=this._aDataLength.concat(Vp(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};ze.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var a=e[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};ze.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};ze.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,a=this._m[r][i];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t};ze.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};ze.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,a=new Array(i),o=0;o<i;++o){var s=[0,0,0,0],l=o/n|0,u=(n-1-o%n)*t;s[l]=1<<t-1<<u,a[o]=this.generateSubHashTable(this.multiply(s,e),t)}return a};ze.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var o=1;o<a;++o){var s=i[a],l=i[o];i[a+o]=[s[0]^l[0],s[1]^l[1],s[2]^l[2],s[3]^l[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var u=i[a^n];i[a]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i};function nf(e,t){if(typeof e=="string"&&(e=Jt.util.createBuffer(e)),Jt.util.isArray(e)&&e.length>4){var r=e;e=Jt.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Jt.util.isArray(e)){for(var i=[],a=t/4,n=0;n<a;++n)i.push(e.getInt32());e=i}return e}function af(e){e[e.length-1]=e[e.length-1]+1&4294967295}function Vp(e){return[e/4294967296|0,e&4294967295]}var ht=Ke;ht.aes=ht.aes||{};ht.aes.startEncrypting=function(e,t,r,n){var i=of({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};ht.aes.createEncryptionCipher=function(e,t){return of({key:e,output:null,decrypt:!1,mode:t})};ht.aes.startDecrypting=function(e,t,r,n){var i=of({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};ht.aes.createDecryptionCipher=function(e,t){return of({key:e,output:null,decrypt:!0,mode:t})};ht.aes.Algorithm=function(e,t){Gm||Yx();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return $p(r._w,n,i,!1)},decrypt:function(n,i){return $p(r._w,n,i,!0)}}}),r._init=!1};ht.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=ht.util.createBuffer(t);else if(ht.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=ht.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!ht.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!ht.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=Xx(t,e.decrypt&&!o),this._init=!0}};ht.aes._expandKey=function(e,t){return Gm||Yx(),Xx(e,t)};ht.aes._updateBlock=$p;gs("AES-ECB",ht.cipher.modes.ecb);gs("AES-CBC",ht.cipher.modes.cbc);gs("AES-CFB",ht.cipher.modes.cfb);gs("AES-OFB",ht.cipher.modes.ofb);gs("AES-CTR",ht.cipher.modes.ctr);gs("AES-GCM",ht.cipher.modes.gcm);function gs(e,t){var r=function(){return new ht.aes.Algorithm(e,t)};ht.cipher.registerAlgorithm(e,r)}var Gm=!1,uo=4,Cr,Kp,Qx,Fa,Tn;function Yx(){Gm=!0,Qx=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Cr=new Array(256),Kp=new Array(256),Fa=new Array(4),Tn=new Array(4);for(var t=0;t<4;++t)Fa[t]=new Array(256),Tn[t]=new Array(256);for(var r=0,n=0,i,a,o,s,l,u,c,t=0;t<256;++t){s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^s&255^99,Cr[r]=s,Kp[s]=r,l=e[s],i=e[r],a=e[i],o=e[a],u=l<<24^s<<16^s<<8^(s^l),c=(i^a^o)<<24^(r^o)<<16^(r^a^o)<<8^(r^i^o);for(var d=0;d<4;++d)Fa[d][r]=u,Tn[d][s]=c,u=u<<24|u>>>8,c=c<<24|c>>>8;r===0?r=n=1:(r=i^e[e[e[i^o]]],n^=e[e[n]])}}function Xx(e,t){for(var r=e.slice(0),n,i=1,a=r.length,o=a+6+1,s=uo*o,l=a;l<s;++l)n=r[l-1],l%a===0?(n=Cr[n>>>16&255]<<24^Cr[n>>>8&255]<<16^Cr[n&255]<<8^Cr[n>>>24]^Qx[i]<<24,i++):a>6&&l%a===4&&(n=Cr[n>>>24]<<24^Cr[n>>>16&255]<<16^Cr[n>>>8&255]<<8^Cr[n&255]),r[l]=r[l-a]^n;if(t){var u,c=Tn[0],d=Tn[1],p=Tn[2],C=Tn[3],h=r.slice(0);s=r.length;for(var l=0,v=s-uo;l<s;l+=uo,v-=uo)if(l===0||l===s-uo)h[l]=r[v],h[l+1]=r[v+3],h[l+2]=r[v+2],h[l+3]=r[v+1];else for(var S=0;S<uo;++S)u=r[v+S],h[l+(3&-S)]=c[Cr[u>>>24]]^d[Cr[u>>>16&255]]^p[Cr[u>>>8&255]]^C[Cr[u&255]];r=h}return r}function $p(e,t,r,n){var i=e.length/4-1,a,o,s,l,u;n?(a=Tn[0],o=Tn[1],s=Tn[2],l=Tn[3],u=Kp):(a=Fa[0],o=Fa[1],s=Fa[2],l=Fa[3],u=Cr);var c,d,p,C,h,v,S;c=t[0]^e[0],d=t[n?3:1]^e[1],p=t[2]^e[2],C=t[n?1:3]^e[3];for(var m=3,g=1;g<i;++g)h=a[c>>>24]^o[d>>>16&255]^s[p>>>8&255]^l[C&255]^e[++m],v=a[d>>>24]^o[p>>>16&255]^s[C>>>8&255]^l[c&255]^e[++m],S=a[p>>>24]^o[C>>>16&255]^s[c>>>8&255]^l[d&255]^e[++m],C=a[C>>>24]^o[c>>>16&255]^s[d>>>8&255]^l[p&255]^e[++m],c=h,d=v,p=S;r[0]=u[c>>>24]<<24^u[d>>>16&255]<<16^u[p>>>8&255]<<8^u[C&255]^e[++m],r[n?3:1]=u[d>>>24]<<24^u[p>>>16&255]<<16^u[C>>>8&255]<<8^u[c&255]^e[++m],r[2]=u[p>>>24]<<24^u[C>>>16&255]<<16^u[c>>>8&255]<<8^u[d&255]^e[++m],r[n?1:3]=u[C>>>24]<<24^u[c>>>16&255]<<16^u[d>>>8&255]<<8^u[p&255]^e[++m]}function of(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=ht.cipher.createDecipher(r,e.key):n=ht.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,o){var s=null;o instanceof ht.util.ByteBuffer&&(s=o,o={}),o=o||{},o.output=s,o.iv=a,i.call(n,o)},n}var ul=Ke;ul.pki=ul.pki||{};var Hp=ul.pki.oids=ul.oids=ul.oids||{};function Z(e,t){Hp[e]=t,Hp[t]=e}function ot(e,t){Hp[e]=t}Z("1.2.840.113549.1.1.1","rsaEncryption");Z("1.2.840.113549.1.1.4","md5WithRSAEncryption");Z("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Z("1.2.840.113549.1.1.7","RSAES-OAEP");Z("1.2.840.113549.1.1.8","mgf1");Z("1.2.840.113549.1.1.9","pSpecified");Z("1.2.840.113549.1.1.10","RSASSA-PSS");Z("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Z("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Z("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Z("1.3.101.112","EdDSA25519");Z("1.2.840.10040.4.3","dsa-with-sha1");Z("1.3.14.3.2.7","desCBC");Z("1.3.14.3.2.26","sha1");Z("1.3.14.3.2.29","sha1WithRSASignature");Z("2.16.840.1.101.3.4.2.1","sha256");Z("2.16.840.1.101.3.4.2.2","sha384");Z("2.16.840.1.101.3.4.2.3","sha512");Z("2.16.840.1.101.3.4.2.4","sha224");Z("2.16.840.1.101.3.4.2.5","sha512-224");Z("2.16.840.1.101.3.4.2.6","sha512-256");Z("1.2.840.113549.2.2","md2");Z("1.2.840.113549.2.5","md5");Z("1.2.840.113549.1.7.1","data");Z("1.2.840.113549.1.7.2","signedData");Z("1.2.840.113549.1.7.3","envelopedData");Z("1.2.840.113549.1.7.4","signedAndEnvelopedData");Z("1.2.840.113549.1.7.5","digestedData");Z("1.2.840.113549.1.7.6","encryptedData");Z("1.2.840.113549.1.9.1","emailAddress");Z("1.2.840.113549.1.9.2","unstructuredName");Z("1.2.840.113549.1.9.3","contentType");Z("1.2.840.113549.1.9.4","messageDigest");Z("1.2.840.113549.1.9.5","signingTime");Z("1.2.840.113549.1.9.6","counterSignature");Z("1.2.840.113549.1.9.7","challengePassword");Z("1.2.840.113549.1.9.8","unstructuredAddress");Z("1.2.840.113549.1.9.14","extensionRequest");Z("1.2.840.113549.1.9.20","friendlyName");Z("1.2.840.113549.1.9.21","localKeyId");Z("1.2.840.113549.1.9.22.1","x509Certificate");Z("1.2.840.113549.1.12.10.1.1","keyBag");Z("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Z("1.2.840.113549.1.12.10.1.3","certBag");Z("1.2.840.113549.1.12.10.1.4","crlBag");Z("1.2.840.113549.1.12.10.1.5","secretBag");Z("1.2.840.113549.1.12.10.1.6","safeContentsBag");Z("1.2.840.113549.1.5.13","pkcs5PBES2");Z("1.2.840.113549.1.5.12","pkcs5PBKDF2");Z("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Z("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Z("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Z("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Z("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Z("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Z("1.2.840.113549.2.7","hmacWithSHA1");Z("1.2.840.113549.2.8","hmacWithSHA224");Z("1.2.840.113549.2.9","hmacWithSHA256");Z("1.2.840.113549.2.10","hmacWithSHA384");Z("1.2.840.113549.2.11","hmacWithSHA512");Z("1.2.840.113549.3.7","des-EDE3-CBC");Z("2.16.840.1.101.3.4.1.2","aes128-CBC");Z("2.16.840.1.101.3.4.1.22","aes192-CBC");Z("2.16.840.1.101.3.4.1.42","aes256-CBC");Z("2.5.4.3","commonName");Z("2.5.4.4","surname");Z("2.5.4.5","serialNumber");Z("2.5.4.6","countryName");Z("2.5.4.7","localityName");Z("2.5.4.8","stateOrProvinceName");Z("2.5.4.9","streetAddress");Z("2.5.4.10","organizationName");Z("2.5.4.11","organizationalUnitName");Z("2.5.4.12","title");Z("2.5.4.13","description");Z("2.5.4.15","businessCategory");Z("2.5.4.17","postalCode");Z("2.5.4.42","givenName");Z("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Z("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Z("2.16.840.1.113730.1.1","nsCertType");Z("2.16.840.1.113730.1.13","nsComment");ot("2.5.29.1","authorityKeyIdentifier");ot("2.5.29.2","keyAttributes");ot("2.5.29.3","certificatePolicies");ot("2.5.29.4","keyUsageRestriction");ot("2.5.29.5","policyMapping");ot("2.5.29.6","subtreesConstraint");ot("2.5.29.7","subjectAltName");ot("2.5.29.8","issuerAltName");ot("2.5.29.9","subjectDirectoryAttributes");ot("2.5.29.10","basicConstraints");ot("2.5.29.11","nameConstraints");ot("2.5.29.12","policyConstraints");ot("2.5.29.13","basicConstraints");Z("2.5.29.14","subjectKeyIdentifier");Z("2.5.29.15","keyUsage");ot("2.5.29.16","privateKeyUsagePeriod");Z("2.5.29.17","subjectAltName");Z("2.5.29.18","issuerAltName");Z("2.5.29.19","basicConstraints");ot("2.5.29.20","cRLNumber");ot("2.5.29.21","cRLReason");ot("2.5.29.22","expirationDate");ot("2.5.29.23","instructionCode");ot("2.5.29.24","invalidityDate");ot("2.5.29.25","cRLDistributionPoints");ot("2.5.29.26","issuingDistributionPoint");ot("2.5.29.27","deltaCRLIndicator");ot("2.5.29.28","issuingDistributionPoint");ot("2.5.29.29","certificateIssuer");ot("2.5.29.30","nameConstraints");Z("2.5.29.31","cRLDistributionPoints");Z("2.5.29.32","certificatePolicies");ot("2.5.29.33","policyMappings");ot("2.5.29.34","policyConstraints");Z("2.5.29.35","authorityKeyIdentifier");ot("2.5.29.36","policyConstraints");Z("2.5.29.37","extKeyUsage");ot("2.5.29.46","freshestCRL");ot("2.5.29.54","inhibitAnyPolicy");Z("1.3.6.1.4.1.11129.2.4.2","timestampList");Z("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Z("1.3.6.1.5.5.7.3.1","serverAuth");Z("1.3.6.1.5.5.7.3.2","clientAuth");Z("1.3.6.1.5.5.7.3.3","codeSigning");Z("1.3.6.1.5.5.7.3.4","emailProtection");Z("1.3.6.1.5.5.7.3.8","timeStamping");var yt=Ke,ce=yt.asn1=yt.asn1||{};ce.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};ce.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};ce.create=function(e,t,r,n,i){if(yt.util.isArray(n)){for(var a=[],o=0;o<n.length;++o)n[o]!==void 0&&a.push(n[o]);n=a}var s={tagClass:e,type:t,constructed:r,composed:r||yt.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(s.bitStringContents=i.bitStringContents,s.original=ce.copy(s)),s};ce.copy=function(e,t){var r;if(yt.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(ce.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:ce.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};ce.equals=function(e,t,r){if(yt.util.isArray(e)){if(!yt.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!ce.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&ce.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};ce.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Ys(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var W_=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;Ys(e,t,a),n=e.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};ce.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=yt.util.createBuffer(e));var r=e.length(),n=fc(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function fc(e,t,r,n){var i;Ys(e,t,2);var a=e.getByte();t--;var o=a&192,s=a&31;i=e.length();var l=W_(e,t);if(t-=i-e.length(),l!==void 0&&l>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=l,u}l=t}var c,d,p=(a&32)===32;if(p)if(c=[],l===void 0)for(;;){if(Ys(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),c.push(fc(e,t,r+1,n)),t-=i-e.length()}else for(;l>0;)i=e.length(),c.push(fc(e,l,r+1,n)),t-=i-e.length(),l-=i-e.length();if(c===void 0&&o===ce.Class.UNIVERSAL&&s===ce.Type.BITSTRING&&(d=e.bytes(l)),c===void 0&&n.decodeBitStrings&&o===ce.Class.UNIVERSAL&&s===ce.Type.BITSTRING&&l>1){var C=e.read,h=t,v=0;if(s===ce.Type.BITSTRING&&(Ys(e,t,1),v=e.getByte(),t--),v===0)try{i=e.length();var S={strict:!0,decodeBitStrings:!0},m=fc(e,t,r+1,S),g=i-e.length();t-=g,s==ce.Type.BITSTRING&&g++;var y=m.tagClass;g===l&&(y===ce.Class.UNIVERSAL||y===ce.Class.CONTEXT_SPECIFIC)&&(c=[m])}catch{}c===void 0&&(e.read=C,t=h)}if(c===void 0){if(l===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");l=t}if(s===ce.Type.BMPSTRING)for(c="";l>0;l-=2)Ys(e,t,2),c+=String.fromCharCode(e.getInt16()),t-=2;else c=e.getBytes(l),t-=l}var w=d===void 0?null:{bitStringContents:d};return ce.create(o,s,p,c,w)}ce.toDer=function(e){var t=yt.util.createBuffer(),r=e.tagClass|e.type,n=yt.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=ce.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var a=0;a<e.value.length;++a)e.value[a]!==void 0&&n.putBuffer(ce.toDer(e.value[a]))}else if(e.type===ce.Type.BMPSTRING)for(var a=0;a<e.value.length;++a)n.putInt16(e.value.charCodeAt(a));else e.type===ce.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var o=n.length(),s="";do s+=String.fromCharCode(o&255),o=o>>>8;while(o>0);t.putByte(s.length|128);for(var a=s.length-1;a>=0;--a)t.putByte(s.charCodeAt(a))}return t.putBuffer(n),t};ce.oidToDer=function(e){var t=e.split("."),r=yt.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,a,o,s=2;s<t.length;++s){n=!0,i=[],a=parseInt(t[s],10);do o=a&127,a=a>>>7,n||(o|=128),i.push(o),n=!1;while(a>0);for(var l=i.length-1;l>=0;--l)r.putByte(i[l])}return r};ce.derToOid=function(e){var t;typeof e=="string"&&(e=yt.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};ce.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var l=e.charAt(10),u=10;l!=="+"&&l!=="-"&&(s=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(a,o,s,0),u&&(l=e.charAt(u),l==="+"||l==="-")){var c=parseInt(e.substr(u+1,2),10),d=parseInt(e.substr(u+4,2),10),p=c*60+d;p*=6e4,l==="+"?t.setTime(+t-p):t.setTime(+t+p)}return t};ce.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),l=0,u=0,c=!1;e.charAt(e.length-1)==="Z"&&(c=!0);var d=e.length-5,p=e.charAt(d);if(p==="+"||p==="-"){var C=parseInt(e.substr(d+1,2),10),h=parseInt(e.substr(d+4,2),10);u=C*60+h,u*=6e4,p==="+"&&(u*=-1),c=!0}return e.charAt(14)==="."&&(l=parseFloat(e.substr(14),10)*1e3),c?(t.setUTCFullYear(r,n,i),t.setUTCHours(a,o,s,l),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(a,o,s,l)),t};ce.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};ce.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};ce.integerToDer=function(e){var t=yt.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};ce.derToInteger=function(e){typeof e=="string"&&(e=yt.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};ce.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&yt.util.isArray(t.value))for(var a=0,o=0;i&&o<t.value.length;++o)i=t.value[o].optional||!1,e.value[a]&&(i=ce.validate(e.value[a],t.value[o],r,n),i?++a:t.value[o].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var s=e.bitStringContents.charCodeAt(0);if(s!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var Dy=/[^\\u0000-\\u00ff]/;ce.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",a=0;a<t*r;++a)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case ce.Class.UNIVERSAL:n+="Universal:";break;case ce.Class.APPLICATION:n+="Application:";break;case ce.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case ce.Class.PRIVATE:n+="Private:";break}if(e.tagClass===ce.Class.UNIVERSAL)switch(n+=e.type,e.type){case ce.Type.NONE:n+=" (None)";break;case ce.Type.BOOLEAN:n+=" (Boolean)";break;case ce.Type.INTEGER:n+=" (Integer)";break;case ce.Type.BITSTRING:n+=" (Bit string)";break;case ce.Type.OCTETSTRING:n+=" (Octet string)";break;case ce.Type.NULL:n+=" (Null)";break;case ce.Type.OID:n+=" (Object Identifier)";break;case ce.Type.ODESC:n+=" (Object Descriptor)";break;case ce.Type.EXTERNAL:n+=" (External or Instance of)";break;case ce.Type.REAL:n+=" (Real)";break;case ce.Type.ENUMERATED:n+=" (Enumerated)";break;case ce.Type.EMBEDDED:n+=" (Embedded PDV)";break;case ce.Type.UTF8:n+=" (UTF8)";break;case ce.Type.ROID:n+=" (Relative Object Identifier)";break;case ce.Type.SEQUENCE:n+=" (Sequence)";break;case ce.Type.SET:n+=" (Set)";break;case ce.Type.PRINTABLESTRING:n+=" (Printable String)";break;case ce.Type.IA5String:n+=" (IA5String (ASCII))";break;case ce.Type.UTCTIME:n+=" (UTC time)";break;case ce.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case ce.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var o=0,s="",a=0;a<e.value.length;++a)e.value[a]!==void 0&&(o+=1,s+=ce.prettyPrint(e.value[a],t+1,r),a+1<e.value.length&&(s+=","));n+=i+"Sub values: "+o+s}else{if(n+=i+"Value: ",e.type===ce.Type.OID){var l=ce.derToOid(e.value);n+=l,yt.pki&&yt.pki.oids&&l in yt.pki.oids&&(n+=" ("+yt.pki.oids[l]+") ")}if(e.type===ce.Type.INTEGER)try{n+=ce.derToInteger(e.value)}catch{n+="0x"+yt.util.bytesToHex(e.value)}else if(e.type===ce.Type.BITSTRING){if(e.value.length>1?n+="0x"+yt.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===ce.Type.OCTETSTRING)Dy.test(e.value)||(n+="("+e.value+") "),n+="0x"+yt.util.bytesToHex(e.value);else if(e.type===ce.Type.UTF8)try{n+=yt.util.decodeUtf8(e.value)}catch(c){if(c.message==="URI malformed")n+="0x"+yt.util.bytesToHex(e.value)+" (malformed UTF8)";else throw c}else e.type===ce.Type.PRINTABLESTRING||e.type===ce.Type.IA5String?n+=e.value:Dy.test(e.value)?n+="0x"+yt.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n};var id=Ke;id.md=id.md||{};id.md.algorithms=id.md.algorithms||{};var oi=Ke,Q_=oi.hmac=oi.hmac||{};Q_.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(a,o){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in oi.md.algorithms)t=oi.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else t=a;if(o===null)o=e;else{if(typeof o=="string")o=oi.util.createBuffer(o);else if(oi.util.isArray(o)){var s=o;o=oi.util.createBuffer();for(var l=0;l<s.length;++l)o.putByte(s[l])}var u=o.length();u>t.blockLength&&(t.start(),t.update(o.bytes()),o=t.digest()),r=oi.util.createBuffer(),n=oi.util.createBuffer(),u=o.length();for(var l=0;l<u;++l){var s=o.at(l);r.putByte(54^s),n.putByte(92^s)}if(u<t.blockLength)for(var s=t.blockLength-u,l=0;l<s;++l)r.putByte(54),n.putByte(92);e=o,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(a){t.update(a)},i.getMac=function(){var a=t.digest().bytes();return t.start(),t.update(n),t.update(a),t.digest()},i.digest=i.getMac,i};var Hn=Ke,Jx=Hn.md5=Hn.md5||{};Hn.md.md5=Hn.md.algorithms.md5=Jx;Jx.create=function(){Zx||Y_();var e=null,t=Hn.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=Hn.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Hn.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=o[1],o[1]=o[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(i),Ly(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Hn.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=a&n.blockLength-1;i.putBytes(jp.substr(0,n.blockLength-o));for(var s,l=0,u=n.fullMessageLength.length-1;u>=0;--u)s=n.fullMessageLength[u]*8+l,l=s/4294967296>>>0,i.putInt32Le(s>>>0);var c={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};Ly(c,r,i);var d=Hn.util.createBuffer();return d.putInt32Le(c.h0),d.putInt32Le(c.h1),d.putInt32Le(c.h2),d.putInt32Le(c.h3),d},n};var jp=null,hc=null,Xs=null,Io=null,Zx=!1;function Y_(){jp=String.fromCharCode(128),jp+=Hn.util.fillString(String.fromCharCode(0),64),hc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],Xs=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],Io=new Array(64);for(var e=0;e<64;++e)Io[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);Zx=!0}function Ly(e,t,r){for(var n,i,a,o,s,l,u,c,d=r.length();d>=64;){for(i=e.h0,a=e.h1,o=e.h2,s=e.h3,c=0;c<16;++c)t[c]=r.getInt32Le(),l=s^a&(o^s),n=i+l+Io[c]+t[c],u=Xs[c],i=s,s=o,o=a,a+=n<<u|n>>>32-u;for(;c<32;++c)l=o^s&(a^o),n=i+l+Io[c]+t[hc[c]],u=Xs[c],i=s,s=o,o=a,a+=n<<u|n>>>32-u;for(;c<48;++c)l=a^o^s,n=i+l+Io[c]+t[hc[c]],u=Xs[c],i=s,s=o,o=a,a+=n<<u|n>>>32-u;for(;c<64;++c)l=o^(a|~s),n=i+l+Io[c]+t[hc[c]],u=Xs[c],i=s,s=o,o=a,a+=n<<u|n>>>32-u;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+o|0,e.h3=e.h3+s|0,d-=64}}var ad=Ke,eE=ad.pem=ad.pem||{};eE.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Vu(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Vu(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Vu(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=Vu(e.headers[i]);return e.procType&&(r+=`\r
`),r+=ad.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};eE.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(e),!!a;){var o=a[1];o==="NEW CERTIFICATE REQUEST"&&(o="CERTIFICATE REQUEST");var s={type:o,procType:null,contentDomain:null,dekInfo:null,headers:[],body:ad.util.decode64(a[3])};if(t.push(s),!!a[2]){for(var l=a[2].split(i),u=0;a&&u<l.length;){for(var c=l[u].replace(/\s+$/,""),d=u+1;d<l.length;++d){var p=l[d];if(!/\s/.test(p[0]))break;c+=p,u=d}if(a=c.match(n),a){for(var C={name:a[1],values:[]},h=a[2].split(","),v=0;v<h.length;++v)C.values.push(X_(h[v]));if(s.procType)if(!s.contentDomain&&C.name==="Content-Domain")s.contentDomain=h[0]||"";else if(!s.dekInfo&&C.name==="DEK-Info"){if(C.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:h[0],parameters:h[1]||null}}else s.headers.push(C);else{if(C.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(C.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:h[0],type:h[1]}}}++u}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Vu(e){for(var t=e.name+": ",r=[],n=function(l,u){return" "+u},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var a=0,o=-1,i=0;i<t.length;++i,++a)if(a>65&&o!==-1){var s=t[o];s===","?(++o,t=t.substr(0,o)+`\r
 `+t.substr(o)):t=t.substr(0,o)+`\r
`+s+t.substr(o+1),a=i-o-1,o=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(o=i);return t}function X_(e){return e.replace(/^\s+/,"")}var xt=Ke;xt.des=xt.des||{};xt.des.startEncrypting=function(e,t,r,n){var i=sf({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};xt.des.createEncryptionCipher=function(e,t){return sf({key:e,output:null,decrypt:!1,mode:t})};xt.des.startDecrypting=function(e,t,r,n){var i=sf({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};xt.des.createDecryptionCipher=function(e,t){return sf({key:e,output:null,decrypt:!0,mode:t})};xt.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return My(r._keys,n,i,!1)},decrypt:function(n,i){return My(r._keys,n,i,!0)}}}),r._init=!1};xt.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=xt.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=o4(t),this._init=!0}};ni("DES-ECB",xt.cipher.modes.ecb);ni("DES-CBC",xt.cipher.modes.cbc);ni("DES-CFB",xt.cipher.modes.cfb);ni("DES-OFB",xt.cipher.modes.ofb);ni("DES-CTR",xt.cipher.modes.ctr);ni("3DES-ECB",xt.cipher.modes.ecb);ni("3DES-CBC",xt.cipher.modes.cbc);ni("3DES-CFB",xt.cipher.modes.cfb);ni("3DES-OFB",xt.cipher.modes.ofb);ni("3DES-CTR",xt.cipher.modes.ctr);function ni(e,t){var r=function(){return new xt.des.Algorithm(e,t)};xt.cipher.registerAlgorithm(e,r)}var J_=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Z_=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],e4=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],t4=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],r4=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],n4=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],i4=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],a4=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function o4(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],s=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],C=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],h=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],v=e.length()>8?3:1,S=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],g=0,y,w=0;w<v;w++){var E=e.getInt32(),b=e.getInt32();y=(E>>>4^b)&252645135,b^=y,E^=y<<4,y=(b>>>-16^E)&65535,E^=y,b^=y<<-16,y=(E>>>2^b)&858993459,b^=y,E^=y<<2,y=(b>>>-16^E)&65535,E^=y,b^=y<<-16,y=(E>>>1^b)&1431655765,b^=y,E^=y<<1,y=(b>>>8^E)&16711935,E^=y,b^=y<<8,y=(E>>>1^b)&1431655765,b^=y,E^=y<<1,y=E<<8|b>>>20&240,E=b<<24|b<<8&16711680|b>>>8&65280|b>>>24&240,b=y;for(var T=0;T<m.length;++T){m[T]?(E=E<<2|E>>>26,b=b<<2|b>>>26):(E=E<<1|E>>>27,b=b<<1|b>>>27),E&=-15,b&=-15;var _=t[E>>>28]|r[E>>>24&15]|n[E>>>20&15]|i[E>>>16&15]|a[E>>>12&15]|o[E>>>8&15]|s[E>>>4&15],M=l[b>>>28]|u[b>>>24&15]|c[b>>>20&15]|d[b>>>16&15]|p[b>>>12&15]|C[b>>>8&15]|h[b>>>4&15];y=(M>>>16^_)&65535,S[g++]=_^y,S[g++]=M^y<<16}}return S}function My(e,t,r,n){var i=e.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,s=t[0],l=t[1];o=(s>>>4^l)&252645135,l^=o,s^=o<<4,o=(s>>>16^l)&65535,l^=o,s^=o<<16,o=(l>>>2^s)&858993459,s^=o,l^=o<<2,o=(l>>>8^s)&16711935,s^=o,l^=o<<8,o=(s>>>1^l)&1431655765,l^=o,s^=o<<1,s=s<<1|s>>>31,l=l<<1|l>>>31;for(var u=0;u<i;u+=3){for(var c=a[u+1],d=a[u+2],p=a[u];p!=c;p+=d){var C=l^e[p],h=(l>>>4|l<<28)^e[p+1];o=s,s=l,l=o^(Z_[C>>>24&63]|t4[C>>>16&63]|n4[C>>>8&63]|a4[C&63]|J_[h>>>24&63]|e4[h>>>16&63]|r4[h>>>8&63]|i4[h&63])}o=s,s=l,l=o}s=s>>>1|s<<31,l=l>>>1|l<<31,o=(s>>>1^l)&1431655765,l^=o,s^=o<<1,o=(l>>>8^s)&16711935,s^=o,l^=o<<8,o=(l>>>2^s)&858993459,s^=o,l^=o<<2,o=(s>>>16^l)&65535,l^=o,s^=o<<16,o=(s>>>4^l)&252645135,l^=o,s^=o<<4,r[0]=s,r[1]=l}function sf(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=xt.cipher.createDecipher(r,e.key):n=xt.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(a,o){var s=null;o instanceof xt.util.ByteBuffer&&(s=o,o={}),o=o||{},o.output=s,o.iv=a,i.call(n,o)},n}const s4={},l4=Object.freeze(Object.defineProperty({__proto__:null,default:s4},Symbol.toStringTag,{value:"Module"})),Wm=yC(l4);var Sr=Ke,u4=Sr.pkcs5=Sr.pkcs5||{},ii;Sr.util.isNodejs&&!Sr.options.usePureJavaScript&&(ii=Wm);Sr.pbkdf2=u4.pbkdf2=function(e,t,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),Sr.util.isNodejs&&!Sr.options.usePureJavaScript&&ii.pbkdf2&&(i===null||typeof i!="object")&&(ii.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),a?ii.pbkdf2Sync.length===4?ii.pbkdf2(e,t,r,n,function(y,w){if(y)return a(y);a(null,w.toString("binary"))}):ii.pbkdf2(e,t,r,n,i,function(y,w){if(y)return a(y);a(null,w.toString("binary"))}):ii.pbkdf2Sync.length===4?ii.pbkdf2Sync(e,t,r,n).toString("binary"):ii.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in Sr.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=Sr.md[i].create()}var o=i.digestLength;if(n>4294967295*o){var s=new Error("Derived key is too long.");if(a)return a(s);throw s}var l=Math.ceil(n/o),u=n-(l-1)*o,c=Sr.hmac.create();c.start(i,e);var d="",p,C,h;if(!a){for(var v=1;v<=l;++v){c.start(null,null),c.update(t),c.update(Sr.util.int32ToBytes(v)),p=h=c.digest().getBytes();for(var S=2;S<=r;++S)c.start(null,null),c.update(h),C=c.digest().getBytes(),p=Sr.util.xorBytes(p,C,o),h=C;d+=v<l?p:p.substr(0,u)}return d}var v=1,S;function m(){if(v>l)return a(null,d);c.start(null,null),c.update(t),c.update(Sr.util.int32ToBytes(v)),p=h=c.digest().getBytes(),S=2,g()}function g(){if(S<=r)return c.start(null,null),c.update(h),C=c.digest().getBytes(),p=Sr.util.xorBytes(p,C,o),h=C,++S,Sr.util.setImmediate(g);d+=v<l?p:p.substr(0,u),++v,m()}m()};var jn=Ke,tE=jn.sha256=jn.sha256||{};jn.md.sha256=jn.md.algorithms.sha256=tE;tE.create=function(){rE||c4();var e=null,t=jn.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=jn.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=jn.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=o[1],o[1]=o[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(i),Oy(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=jn.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=a&n.blockLength-1;i.putBytes(zp.substr(0,n.blockLength-o));for(var s,l,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)s=n.fullMessageLength[c+1]*8,l=s/4294967296>>>0,u+=l,i.putInt32(u>>>0),u=s>>>0;i.putInt32(u);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};Oy(d,r,i);var p=jn.util.createBuffer();return p.putInt32(d.h0),p.putInt32(d.h1),p.putInt32(d.h2),p.putInt32(d.h3),p.putInt32(d.h4),p.putInt32(d.h5),p.putInt32(d.h6),p.putInt32(d.h7),p},n};var zp=null,rE=!1,nE=null;function c4(){zp=String.fromCharCode(128),zp+=jn.util.fillString(String.fromCharCode(0),64),nE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],rE=!0}function Oy(e,t,r){for(var n,i,a,o,s,l,u,c,d,p,C,h,v,S,m,g=r.length();g>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[u-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(c=e.h0,d=e.h1,p=e.h2,C=e.h3,h=e.h4,v=e.h5,S=e.h6,m=e.h7,u=0;u<64;++u)o=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),s=S^h&(v^S),a=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),l=c&d|p&(c^d),n=m+o+s+nE[u]+t[u],i=a+l,m=S,S=v,v=h,h=C+n>>>0,C=p,p=d,d=c,c=n+i>>>0;e.h0=e.h0+c|0,e.h1=e.h1+d|0,e.h2=e.h2+p|0,e.h3=e.h3+C|0,e.h4=e.h4+h|0,e.h5=e.h5+v|0,e.h6=e.h6+S|0,e.h7=e.h7+m|0,g-=64}}var Fn=Ke,pc=null;Fn.util.isNodejs&&!Fn.options.usePureJavaScript&&!process.versions["node-webkit"]&&(pc=Wm);var d4=Fn.prng=Fn.prng||{};d4.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(u,c){if(!c)return t.generateSync(u);var d=t.plugin.cipher,p=t.plugin.increment,C=t.plugin.formatKey,h=t.plugin.formatSeed,v=Fn.util.createBuffer();t.key=null,S();function S(m){if(m)return c(m);if(v.length()>=u)return c(null,v.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return Fn.util.nextTick(function(){a(S)});var g=d(t.key,t.seed);t.generated+=g.length,v.putBytes(g),t.key=C(d(t.key,p(t.seed))),t.seed=h(d(t.key,t.seed)),Fn.util.setImmediate(S)}},t.generateSync=function(u){var c=t.plugin.cipher,d=t.plugin.increment,p=t.plugin.formatKey,C=t.plugin.formatSeed;t.key=null;for(var h=Fn.util.createBuffer();h.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&o();var v=c(t.key,t.seed);t.generated+=v.length,h.putBytes(v),t.key=p(c(t.key,d(t.seed))),t.seed=C(c(t.key,t.seed))}return h.getBytes(u)};function a(u){if(t.pools[0].messageLength>=32)return s(),u();var c=32-t.pools[0].messageLength<<5;t.seedFile(c,function(d,p){if(d)return u(d);t.collect(p),s(),u()})}function o(){if(t.pools[0].messageLength>=32)return s();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),s()}function s(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var c=1,d=0;d<32;++d)t.reseeds%c===0&&(u.update(t.pools[d].digest().getBytes()),t.pools[d].start()),c=c<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var p=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(p),t.generated=0}function l(u){var c=null,d=Fn.util.globalScope,p=d.crypto||d.msCrypto;p&&p.getRandomValues&&(c=function(E){return p.getRandomValues(E)});var C=Fn.util.createBuffer();if(c)for(;C.length()<u;){var h=Math.max(1,Math.min(u-C.length(),65536)/4),v=new Uint32Array(Math.floor(h));try{c(v);for(var S=0;S<v.length;++S)C.putInt32(v[S])}catch(E){if(!(typeof QuotaExceededError<"u"&&E instanceof QuotaExceededError))throw E}}if(C.length()<u)for(var m,g,y,w=Math.floor(Math.random()*65536);C.length()<u;){g=16807*(w&65535),m=16807*(w>>16),g+=(m&32767)<<16,g+=m>>15,g=(g&2147483647)+(g>>31),w=g&4294967295;for(var S=0;S<3;++S)y=w>>>(S<<3),y^=Math.floor(Math.random()*256),C.putByte(y&255)}return C.getBytes(u)}return pc?(t.seedFile=function(u,c){pc.randomBytes(u,function(d,p){if(d)return c(d);c(null,p.toString())})},t.seedFileSync=function(u){return pc.randomBytes(u).toString()}):(t.seedFile=function(u,c){try{c(null,l(u))}catch(d){c(d)}},t.seedFileSync=l),t.collect=function(u){for(var c=u.length,d=0;d<c;++d)t.pools[t.pool].update(u.substr(d,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,c){for(var d="",p=0;p<c;p+=8)d+=String.fromCharCode(u>>p&255);t.collect(d)},t.registerWorker=function(u){if(u===self)t.seedFile=function(d,p){function C(h){var v=h.data;v.forge&&v.forge.prng&&(self.removeEventListener("message",C),p(v.forge.prng.err,v.forge.prng.bytes))}self.addEventListener("message",C),self.postMessage({forge:{prng:{needed:d}}})};else{var c=function(d){var p=d.data;p.forge&&p.forge.prng&&t.seedFile(p.forge.prng.needed,function(C,h){u.postMessage({forge:{prng:{err:C,bytes:h}}})})};u.addEventListener("message",c)}},t};var Qt=Ke;(function(){if(Qt.random&&Qt.random.getBytes){Qt.random;return}(function(e){var t={},r=new Array(4),n=Qt.util.createBuffer();t.formatKey=function(d){var p=Qt.util.createBuffer(d);return d=new Array(4),d[0]=p.getInt32(),d[1]=p.getInt32(),d[2]=p.getInt32(),d[3]=p.getInt32(),Qt.aes._expandKey(d,!1)},t.formatSeed=function(d){var p=Qt.util.createBuffer(d);return d=new Array(4),d[0]=p.getInt32(),d[1]=p.getInt32(),d[2]=p.getInt32(),d[3]=p.getInt32(),d},t.cipher=function(d,p){return Qt.aes._updateBlock(d,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(d){return++d[3],d},t.md=Qt.md.sha256;function i(){var d=Qt.prng.create(t);return d.getBytes=function(p,C){return d.generate(p,C)},d.getBytesSync=function(p){return d.generate(p)},d}var a=i(),o=null,s=Qt.util.globalScope,l=s.crypto||s.msCrypto;if(l&&l.getRandomValues&&(o=function(d){return l.getRandomValues(d)}),Qt.options.usePureJavaScript||!Qt.util.isNodejs&&!o){if(a.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var c in navigator)try{typeof navigator[c]=="string"&&(u+=navigator[c])}catch{}a.collect(u),u=null}e&&(e().mousemove(function(d){a.collectInt(d.clientX,16),a.collectInt(d.clientY,16)}),e().keypress(function(d){a.collectInt(d.charCode,8)}))}if(!Qt.random)Qt.random=a;else for(var c in a)Qt.random[c]=a[c];Qt.random.createInstance=i,Qt.random})(typeof jQuery<"u"?jQuery:null)})();var _r=Ke,uh=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Py=[1,2,3,5],f4=function(e,t){return e<<t&65535|(e&65535)>>16-t},h4=function(e,t){return(e&65535)>>t|e<<16-t&65535};_r.rc2=_r.rc2||{};_r.rc2.expandKey=function(e,t){typeof e=="string"&&(e=_r.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,a=Math.ceil(i/8),o=255>>(i&7),s;for(s=n;s<128;s++)r.putByte(uh[r.at(s-1)+r.at(s-n)&255]);for(r.setAt(128-a,uh[r.at(128-a)&o]),s=127-a;s>=0;s--)r.setAt(s,uh[r.at(s+1)^r.at(s+a)]);return r};var iE=function(e,t,r){var n=!1,i=null,a=null,o=null,s,l,u,c,d=[];for(e=_r.rc2.expandKey(e,t),u=0;u<64;u++)d.push(e.getInt16Le());r?(s=function(h){for(u=0;u<4;u++)h[u]+=d[c]+(h[(u+3)%4]&h[(u+2)%4])+(~h[(u+3)%4]&h[(u+1)%4]),h[u]=f4(h[u],Py[u]),c++},l=function(h){for(u=0;u<4;u++)h[u]+=d[h[(u+3)%4]&63]}):(s=function(h){for(u=3;u>=0;u--)h[u]=h4(h[u],Py[u]),h[u]-=d[c]+(h[(u+3)%4]&h[(u+2)%4])+(~h[(u+3)%4]&h[(u+1)%4]),c--},l=function(h){for(u=3;u>=0;u--)h[u]-=d[h[(u+3)%4]&63]});var p=function(h){var v=[];for(u=0;u<4;u++){var S=i.getInt16Le();o!==null&&(r?S^=o.getInt16Le():o.putInt16Le(S)),v.push(S&65535)}c=r?0:63;for(var m=0;m<h.length;m++)for(var g=0;g<h[m][0];g++)h[m][1](v);for(u=0;u<4;u++)o!==null&&(r?o.putInt16Le(v[u]):v[u]^=o.getInt16Le()),a.putInt16Le(v[u])},C=null;return C={start:function(h,v){h&&typeof h=="string"&&(h=_r.util.createBuffer(h)),n=!1,i=_r.util.createBuffer(),a=v||new _r.util.createBuffer,o=h,C.output=a},update:function(h){for(n||i.putBuffer(h);i.length()>=8;)p([[5,s],[1,l],[6,s],[1,l],[5,s]])},finish:function(h){var v=!0;if(r)if(h)v=h(8,i,!r);else{var S=i.length()===8?8:8-i.length();i.fillWithByte(S,S)}if(v&&(n=!0,C.update()),!r&&(v=i.length()===0,v))if(h)v=h(8,a,!r);else{var m=a.length(),g=a.at(m-1);g>m?v=!1:a.truncate(g)}return v}},C};_r.rc2.startEncrypting=function(e,t,r){var n=_r.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};_r.rc2.createEncryptionCipher=function(e,t){return iE(e,t,!0)};_r.rc2.startDecrypting=function(e,t,r){var n=_r.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};_r.rc2.createDecryptionCipher=function(e,t){return iE(e,t,!1)};var qp=Ke;qp.jsbn=qp.jsbn||{};var pi;function J(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}qp.jsbn.BigInteger=J;function et(){return new J(null)}function p4(e,t,r,n,i,a){for(;--a>=0;){var o=t*this.data[e++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=o&67108863}return i}function m4(e,t,r,n,i,a){for(var o=t&32767,s=t>>15;--a>=0;){var l=this.data[e]&32767,u=this.data[e++]>>15,c=s*l+u*o;l=o*l+((c&32767)<<15)+r.data[n]+(i&1073741823),i=(l>>>30)+(c>>>15)+s*u+(i>>>30),r.data[n++]=l&1073741823}return i}function Fy(e,t,r,n,i,a){for(var o=t&16383,s=t>>14;--a>=0;){var l=this.data[e]&16383,u=this.data[e++]>>14,c=s*l+u*o;l=o*l+((c&16383)<<14)+r.data[n]+i,i=(l>>28)+(c>>14)+s*u,r.data[n++]=l&268435455}return i}typeof navigator>"u"?(J.prototype.am=Fy,pi=28):navigator.appName=="Microsoft Internet Explorer"?(J.prototype.am=m4,pi=30):navigator.appName!="Netscape"?(J.prototype.am=p4,pi=26):(J.prototype.am=Fy,pi=28);J.prototype.DB=pi;J.prototype.DM=(1<<pi)-1;J.prototype.DV=1<<pi;var Qm=52;J.prototype.FV=Math.pow(2,Qm);J.prototype.F1=Qm-pi;J.prototype.F2=2*pi-Qm;var g4="0123456789abcdefghijklmnopqrstuvwxyz",lf=new Array,vs,on;vs="0".charCodeAt(0);for(on=0;on<=9;++on)lf[vs++]=on;vs="a".charCodeAt(0);for(on=10;on<36;++on)lf[vs++]=on;vs="A".charCodeAt(0);for(on=10;on<36;++on)lf[vs++]=on;function Uy(e){return g4.charAt(e)}function aE(e,t){var r=lf[e.charCodeAt(t)];return r??-1}function v4(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function y4(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function Gi(e){var t=et();return t.fromInt(e),t}function C4(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,a=0;--n>=0;){var o=r==8?e[n]&255:aE(e,n);if(o<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=o:a+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this.data[this.t++]=o>>this.DB-a):this.data[this.t-1]|=o<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&e[0]&128&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&J.ZERO.subTo(this,this)}function S4(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function w4(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,a="",o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(n=this.data[o]>>s)>0&&(i=!0,a=Uy(n));o>=0;)s<t?(n=(this.data[o]&(1<<s)-1)<<t-s,n|=this.data[--o]>>(s+=this.DB-t)):(n=this.data[o]>>(s-=t)&r,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=Uy(n));return i?a:"0"}function x4(){var e=et();return J.ZERO.subTo(this,e),e}function E4(){return this.s<0?this.negate():this}function b4(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function uf(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function T4(){return this.t<=0?0:this.DB*(this.t-1)+uf(this.data[this.t-1]^this.s&this.DM)}function A4(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function k4(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function I4(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(e/this.DB),o=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s)t.data[s+a+1]=this.data[s]>>n|o,o=(this.data[s]&i)<<r;for(s=a-1;s>=0;--s)t.data[s]=0;t.data[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()}function N4(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,a=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)t.data[o-r-1]|=(this.data[o]&a)<<i,t.data[o-r]=this.data[o]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&a)<<i),t.t=this.t-r,t.clamp()}function R4(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function _4(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&J.ZERO.subTo(t,t)}function B4(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function D4(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=et());var a=et(),o=this.s,s=e.s,l=this.DB-uf(n.data[n.t-1]);l>0?(n.lShiftTo(l,a),i.lShiftTo(l,r)):(n.copyTo(a),i.copyTo(r));var u=a.t,c=a.data[u-1];if(c!=0){var d=c*(1<<this.F1)+(u>1?a.data[u-2]>>this.F2:0),p=this.FV/d,C=(1<<this.F1)/d,h=1<<this.F2,v=r.t,S=v-u,m=t??et();for(a.dlShiftTo(S,m),r.compareTo(m)>=0&&(r.data[r.t++]=1,r.subTo(m,r)),J.ONE.dlShiftTo(u,m),m.subTo(a,a);a.t<u;)a.data[a.t++]=0;for(;--S>=0;){var g=r.data[--v]==c?this.DM:Math.floor(r.data[v]*p+(r.data[v-1]+h)*C);if((r.data[v]+=a.am(0,g,r,S,0,u))<g)for(a.dlShiftTo(S,m),r.subTo(m,r);r.data[v]<--g;)r.subTo(m,r)}t!=null&&(r.drShiftTo(u,t),o!=s&&J.ZERO.subTo(t,t)),r.t=u,r.clamp(),l>0&&r.rShiftTo(l,r),o<0&&J.ZERO.subTo(r,r)}}}function L4(e){var t=et();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(J.ZERO)>0&&e.subTo(t,t),t}function eo(e){this.m=e}function M4(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function O4(e){return e}function P4(e){e.divRemTo(this.m,null,e)}function F4(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function U4(e,t){e.squareTo(t),this.reduce(t)}eo.prototype.convert=M4;eo.prototype.revert=O4;eo.prototype.reduce=P4;eo.prototype.mulTo=F4;eo.prototype.sqrTo=U4;function V4(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function to(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function K4(e){var t=et();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(J.ZERO)>0&&this.m.subTo(t,t),t}function $4(e){var t=et();return e.copyTo(t),this.reduce(t),t}function H4(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function j4(e,t){e.squareTo(t),this.reduce(t)}function z4(e,t,r){e.multiplyTo(t,r),this.reduce(r)}to.prototype.convert=K4;to.prototype.revert=$4;to.prototype.reduce=H4;to.prototype.mulTo=z4;to.prototype.sqrTo=j4;function q4(){return(this.t>0?this.data[0]&1:this.s)==0}function G4(e,t){if(e>4294967295||e<1)return J.ONE;var r=et(),n=et(),i=t.convert(this),a=uf(e)-1;for(i.copyTo(r);--a>=0;)if(t.sqrTo(r,n),(e&1<<a)>0)t.mulTo(n,i,r);else{var o=r;r=n,n=o}return t.revert(r)}function W4(e,t){var r;return e<256||t.isEven()?r=new eo(t):r=new to(t),this.exp(e,r)}J.prototype.copyTo=v4;J.prototype.fromInt=y4;J.prototype.fromString=C4;J.prototype.clamp=S4;J.prototype.dlShiftTo=A4;J.prototype.drShiftTo=k4;J.prototype.lShiftTo=I4;J.prototype.rShiftTo=N4;J.prototype.subTo=R4;J.prototype.multiplyTo=_4;J.prototype.squareTo=B4;J.prototype.divRemTo=D4;J.prototype.invDigit=V4;J.prototype.isEven=q4;J.prototype.exp=G4;J.prototype.toString=w4;J.prototype.negate=x4;J.prototype.abs=E4;J.prototype.compareTo=b4;J.prototype.bitLength=T4;J.prototype.mod=L4;J.prototype.modPowInt=W4;J.ZERO=Gi(0);J.ONE=Gi(1);function Q4(){var e=et();return this.copyTo(e),e}function Y4(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function X4(){return this.t==0?this.s:this.data[0]<<24>>24}function J4(){return this.t==0?this.s:this.data[0]<<16>>16}function Z4(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function eB(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function tB(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Gi(r),i=et(),a=et(),o="";for(this.divRemTo(n,i,a);i.signum()>0;)o=(r+a.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,a);return a.intValue().toString(e)+o}function rB(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,a=0,o=0,s=0;s<e.length;++s){var l=aE(e,s);if(l<0){e.charAt(s)=="-"&&this.signum()==0&&(i=!0);continue}o=t*o+l,++a>=r&&(this.dMultiply(n),this.dAddOffset(o,0),a=0,o=0)}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(o,0)),i&&J.ZERO.subTo(this,this)}function nB(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(J.ONE.shiftLeft(e-1),Ym,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(J.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function iB(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function aB(e){return this.compareTo(e)==0}function oB(e){return this.compareTo(e)<0?this:e}function sB(e){return this.compareTo(e)>0?this:e}function lB(e,t,r){var n,i,a=Math.min(e.t,this.t);for(n=0;n<a;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=a;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function uB(e,t){return e&t}function cB(e){var t=et();return this.bitwiseTo(e,uB,t),t}function Ym(e,t){return e|t}function dB(e){var t=et();return this.bitwiseTo(e,Ym,t),t}function oE(e,t){return e^t}function fB(e){var t=et();return this.bitwiseTo(e,oE,t),t}function sE(e,t){return e&~t}function hB(e){var t=et();return this.bitwiseTo(e,sE,t),t}function pB(){for(var e=et(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function mB(e){var t=et();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function gB(e){var t=et();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function vB(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function yB(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+vB(this.data[e]);return this.s<0?this.t*this.DB:-1}function CB(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function SB(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=CB(this.data[r]^t);return e}function wB(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function xB(e,t){var r=J.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function EB(e){return this.changeBit(e,Ym)}function bB(e){return this.changeBit(e,sE)}function TB(e){return this.changeBit(e,oE)}function AB(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function kB(e){var t=et();return this.addTo(e,t),t}function IB(e){var t=et();return this.subTo(e,t),t}function NB(e){var t=et();return this.multiplyTo(e,t),t}function RB(e){var t=et();return this.divRemTo(e,t,null),t}function _B(e){var t=et();return this.divRemTo(e,null,t),t}function BB(e){var t=et(),r=et();return this.divRemTo(e,t,r),new Array(t,r)}function DB(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function LB(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function ou(){}function lE(e){return e}function MB(e,t,r){e.multiplyTo(t,r)}function OB(e,t){e.squareTo(t)}ou.prototype.convert=lE;ou.prototype.revert=lE;ou.prototype.mulTo=MB;ou.prototype.sqrTo=OB;function PB(e){return this.exp(e,new ou)}function FB(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function UB(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function ys(e){this.r2=et(),this.q3=et(),J.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function VB(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=et();return e.copyTo(t),this.reduce(t),t}function KB(e){return e}function $B(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function HB(e,t){e.squareTo(t),this.reduce(t)}function jB(e,t,r){e.multiplyTo(t,r),this.reduce(r)}ys.prototype.convert=VB;ys.prototype.revert=KB;ys.prototype.reduce=$B;ys.prototype.mulTo=jB;ys.prototype.sqrTo=HB;function zB(e,t){var r=e.bitLength(),n,i=Gi(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new eo(t):t.isEven()?a=new ys(t):a=new to(t);var o=new Array,s=3,l=n-1,u=(1<<n)-1;if(o[1]=a.convert(this),n>1){var c=et();for(a.sqrTo(o[1],c);s<=u;)o[s]=et(),a.mulTo(c,o[s-2],o[s]),s+=2}var d=e.t-1,p,C=!0,h=et(),v;for(r=uf(e.data[d])-1;d>=0;){for(r>=l?p=e.data[d]>>r-l&u:(p=(e.data[d]&(1<<r+1)-1)<<l-r,d>0&&(p|=e.data[d-1]>>this.DB+r-l)),s=n;!(p&1);)p>>=1,--s;if((r-=s)<0&&(r+=this.DB,--d),C)o[p].copyTo(i),C=!1;else{for(;s>1;)a.sqrTo(i,h),a.sqrTo(h,i),s-=2;s>0?a.sqrTo(i,h):(v=i,i=h,h=v),a.mulTo(h,o[p],i)}for(;d>=0&&!(e.data[d]&1<<r);)a.sqrTo(i,h),v=i,i=h,h=v,--r<0&&(r=this.DB-1,--d)}return a.revert(i)}function qB(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;for(i<a&&(a=i),a>0&&(t.rShiftTo(a,t),r.rShiftTo(a,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function GB(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function WB(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return J.ZERO;for(var r=e.clone(),n=this.clone(),i=Gi(1),a=Gi(0),o=Gi(0),s=Gi(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?((!o.isEven()||!s.isEven())&&(o.addTo(this,o),s.subTo(e,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),a.subTo(s,a)):(n.subTo(r,n),t&&o.subTo(i,o),s.subTo(a,s))}if(n.compareTo(J.ONE)!=0)return J.ZERO;if(s.compareTo(e)>=0)return s.subtract(e);if(s.signum()<0)s.addTo(e,s);else return s;return s.signum()<0?s.add(e):s}var Sn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],QB=(1<<26)/Sn[Sn.length-1];function YB(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Sn[Sn.length-1]){for(t=0;t<Sn.length;++t)if(r.data[0]==Sn[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Sn.length;){for(var n=Sn[t],i=t+1;i<Sn.length&&n<QB;)n*=Sn[i++];for(n=r.modInt(n);t<i;)if(n%Sn[t++]==0)return!1}return r.millerRabin(e)}function XB(e){var t=this.subtract(J.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=JB(),a,o=0;o<e;++o){do a=new J(this.bitLength(),i);while(a.compareTo(J.ONE)<=0||a.compareTo(t)>=0);var s=a.modPow(n,this);if(s.compareTo(J.ONE)!=0&&s.compareTo(t)!=0){for(var l=1;l++<r&&s.compareTo(t)!=0;)if(s=s.modPowInt(2,this),s.compareTo(J.ONE)==0)return!1;if(s.compareTo(t)!=0)return!1}}return!0}function JB(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}J.prototype.chunkSize=Z4;J.prototype.toRadix=tB;J.prototype.fromRadix=rB;J.prototype.fromNumber=nB;J.prototype.bitwiseTo=lB;J.prototype.changeBit=xB;J.prototype.addTo=AB;J.prototype.dMultiply=DB;J.prototype.dAddOffset=LB;J.prototype.multiplyLowerTo=FB;J.prototype.multiplyUpperTo=UB;J.prototype.modInt=GB;J.prototype.millerRabin=XB;J.prototype.clone=Q4;J.prototype.intValue=Y4;J.prototype.byteValue=X4;J.prototype.shortValue=J4;J.prototype.signum=eB;J.prototype.toByteArray=iB;J.prototype.equals=aB;J.prototype.min=oB;J.prototype.max=sB;J.prototype.and=cB;J.prototype.or=dB;J.prototype.xor=fB;J.prototype.andNot=hB;J.prototype.not=pB;J.prototype.shiftLeft=mB;J.prototype.shiftRight=gB;J.prototype.getLowestSetBit=yB;J.prototype.bitCount=SB;J.prototype.testBit=wB;J.prototype.setBit=EB;J.prototype.clearBit=bB;J.prototype.flipBit=TB;J.prototype.add=kB;J.prototype.subtract=IB;J.prototype.multiply=NB;J.prototype.divide=RB;J.prototype.remainder=_B;J.prototype.divideAndRemainder=BB;J.prototype.modPow=zB;J.prototype.modInverse=WB;J.prototype.pow=PB;J.prototype.gcd=qB;J.prototype.isProbablePrime=YB;var zn=Ke,uE=zn.sha1=zn.sha1||{};zn.md.sha1=zn.md.algorithms.sha1=uE;uE.create=function(){cE||ZB();var e=null,t=zn.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return t=zn.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=zn.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=o[1],o[1]=o[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(i),Vy(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=zn.util.createBuffer();i.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=a&n.blockLength-1;i.putBytes(Gp.substr(0,n.blockLength-o));for(var s,l,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)s=n.fullMessageLength[c+1]*8,l=s/4294967296>>>0,u+=l,i.putInt32(u>>>0),u=s>>>0;i.putInt32(u);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};Vy(d,r,i);var p=zn.util.createBuffer();return p.putInt32(d.h0),p.putInt32(d.h1),p.putInt32(d.h2),p.putInt32(d.h3),p.putInt32(d.h4),p},n};var Gp=null,cE=!1;function ZB(){Gp=String.fromCharCode(128),Gp+=zn.util.fillString(String.fromCharCode(0),64),cE=!0}function Vy(e,t,r){for(var n,i,a,o,s,l,u,c,d=r.length();d>=64;){for(i=e.h0,a=e.h1,o=e.h2,s=e.h3,l=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,u=s^a&(o^s),n=(i<<5|i>>>27)+u+l+1518500249+n,l=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<20;++c)n=t[c-3]^t[c-8]^t[c-14]^t[c-16],n=n<<1|n>>>31,t[c]=n,u=s^a&(o^s),n=(i<<5|i>>>27)+u+l+1518500249+n,l=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<32;++c)n=t[c-3]^t[c-8]^t[c-14]^t[c-16],n=n<<1|n>>>31,t[c]=n,u=a^o^s,n=(i<<5|i>>>27)+u+l+1859775393+n,l=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<40;++c)n=t[c-6]^t[c-16]^t[c-28]^t[c-32],n=n<<2|n>>>30,t[c]=n,u=a^o^s,n=(i<<5|i>>>27)+u+l+1859775393+n,l=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<60;++c)n=t[c-6]^t[c-16]^t[c-28]^t[c-32],n=n<<2|n>>>30,t[c]=n,u=a&o|s&(a^o),n=(i<<5|i>>>27)+u+l+2400959708+n,l=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<80;++c)n=t[c-6]^t[c-16]^t[c-28]^t[c-32],n=n<<2|n>>>30,t[c]=n,u=a^o^s,n=(i<<5|i>>>27)+u+l+3395469782+n,l=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+o|0,e.h3=e.h3+s|0,e.h4=e.h4+l|0,d-=64}}var Gn=Ke,dE=Gn.pkcs1=Gn.pkcs1||{};dE.encode_rsa_oaep=function(e,t,r){var n,i,a,o;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),a?a.start():a=Gn.md.sha1.create(),o||(o=a);var s=Math.ceil(e.n.bitLength()/8),l=s-2*a.digestLength-2;if(t.length>l){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=l,u}n||(n=""),a.update(n,"raw");for(var c=a.digest(),d="",p=l-t.length,C=0;C<p;C++)d+="\0";var h=c.getBytes()+d+""+t;if(!i)i=Gn.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=i.length,u.digestLength=a.digestLength,u}var v=od(i,s-a.digestLength-1,o),S=Gn.util.xorBytes(h,v,h.length),m=od(S,a.digestLength,o),g=Gn.util.xorBytes(i,m,i.length);return"\0"+g+S};dE.decode_rsa_oaep=function(e,t,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var o=Math.ceil(e.n.bitLength()/8);if(t.length!==o){var S=new Error("RSAES-OAEP encoded message length is invalid.");throw S.length=t.length,S.expectedLength=o,S}if(i===void 0?i=Gn.md.sha1.create():i.start(),a||(a=i),o<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var s=i.digest().getBytes(),l=t.charAt(0),u=t.substring(1,i.digestLength+1),c=t.substring(1+i.digestLength),d=od(c,i.digestLength,a),p=Gn.util.xorBytes(u,d,u.length),C=od(p,o-i.digestLength-1,a),h=Gn.util.xorBytes(c,C,c.length),v=h.substring(0,i.digestLength),S=l!=="\0",m=0;m<i.digestLength;++m)S|=s.charAt(m)!==v.charAt(m);for(var g=1,y=i.digestLength,w=i.digestLength;w<h.length;w++){var E=h.charCodeAt(w),b=E&1^1,T=g?65534:0;S|=E&T,g=g&b,y+=g}if(S||h.charCodeAt(y)!==1)throw new Error("Invalid RSAES-OAEP padding.");return h.substring(y+1)};function od(e,t,r){r||(r=Gn.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),a=0;a<i;++a){var o=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(e+o),n+=r.digest().getBytes()}return n.substring(0,t)}var Bi=Ke;(function(){if(Bi.prime){Bi.prime;return}var e=Bi.prime=Bi.prime||{},t=Bi.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(d,p){return d|p};e.generateProbablePrime=function(d,p,C){typeof p=="function"&&(C=p,p={}),p=p||{};var h=p.algorithm||"PRIMEINC";typeof h=="string"&&(h={name:h}),h.options=h.options||{};var v=p.prng||Bi.random,S={nextBytes:function(m){for(var g=v.getBytesSync(m.length),y=0;y<m.length;++y)m[y]=g.charCodeAt(y)}};if(h.name==="PRIMEINC")return a(d,S,h.options,C);throw new Error("Invalid prime generation algorithm: "+h.name)};function a(d,p,C,h){return"workers"in C?l(d,p,C,h):o(d,p,C,h)}function o(d,p,C,h){var v=u(d,p),S=0,m=c(v.bitLength());"millerRabinTests"in C&&(m=C.millerRabinTests);var g=10;"maxBlockTime"in C&&(g=C.maxBlockTime),s(v,d,p,S,m,g,h)}function s(d,p,C,h,v,S,m){var g=+new Date;do{if(d.bitLength()>p&&(d=u(p,C)),d.isProbablePrime(v))return m(null,d);d.dAddOffset(r[h++%8],0)}while(S<0||+new Date-g<S);Bi.util.setImmediate(function(){s(d,p,C,h,v,S,m)})}function l(d,p,C,h){if(typeof Worker>"u")return o(d,p,C,h);var v=u(d,p),S=C.workers,m=C.workLoad||100,g=m*30/8,y=C.workerScript||"forge/prime.worker.js";if(S===-1)return Bi.util.estimateCores(function(E,b){E&&(b=2),S=b-1,w()});w();function w(){S=Math.max(1,S);for(var E=[],b=0;b<S;++b)E[b]=new Worker(y);for(var b=0;b<S;++b)E[b].addEventListener("message",_);var T=!1;function _(M){if(!T){var D=M.data;if(D.found){for(var A=0;A<E.length;++A)E[A].terminate();return T=!0,h(null,new t(D.prime,16))}v.bitLength()>d&&(v=u(d,p));var B=v.toString(16);M.target.postMessage({hex:B,workLoad:m}),v.dAddOffset(g,0)}}}}function u(d,p){var C=new t(d,p),h=d-1;return C.testBit(h)||C.bitwiseTo(t.ONE.shiftLeft(h),i,C),C.dAddOffset(31-C.mod(n).byteValue(),0),C}function c(d){return d<=100?27:d<=150?18:d<=200?15:d<=250?12:d<=300?9:d<=350?8:d<=400?7:d<=500?6:d<=600?5:d<=800?4:d<=1250?3:2}})();var we=Ke;if(typeof Xe>"u")var Xe=we.jsbn.BigInteger;var Wp=we.util.isNodejs?Wm:null,z=we.asn1,sn=we.util;we.pki=we.pki||{};we.pki.rsa=we.rsa=we.rsa||{};var Me=we.pki,e3=[6,4,2,4,2,4,6,2],t3={name:"PrivateKeyInfo",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:z.Class.UNIVERSAL,type:z.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},r3={name:"RSAPrivateKey",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},n3={name:"RSAPublicKey",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:z.Class.UNIVERSAL,type:z.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},i3=we.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:z.Class.UNIVERSAL,type:z.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},a3={name:"DigestInfo",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:z.Class.UNIVERSAL,type:z.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:z.Class.UNIVERSAL,type:z.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:z.Class.UNIVERSAL,type:z.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:z.Class.UNIVERSAL,type:z.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},o3=function(e){var t;if(e.algorithm in Me.oids)t=Me.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=z.oidToDer(t).getBytes(),i=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[]),a=z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[]);a.value.push(z.create(z.Class.UNIVERSAL,z.Type.OID,!1,n)),a.value.push(z.create(z.Class.UNIVERSAL,z.Type.NULL,!1,""));var o=z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(a),i.value.push(o),z.toDer(i).getBytes()},fE=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Xe.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Xe.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Xe(we.util.bytesToHex(we.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Xe.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),a=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(a)<0;)i=i.add(t.p);var o=i.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);return o=o.multiply(n.modInverse(t.n)).mod(t.n),o};Me.rsa.encrypt=function(e,t,r){var n=r,i,a=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=hE(e,t,r)):(i=we.util.createBuffer(),i.putBytes(e));for(var o=new Xe(i.toHex(),16),s=fE(o,t,n),l=s.toString(16),u=we.util.createBuffer(),c=a-Math.ceil(l.length/2);c>0;)u.putByte(0),--c;return u.putBytes(we.util.hexToBytes(l)),u.getBytes()};Me.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=e.length,a.expected=i,a}var o=new Xe(we.util.createBuffer(e).toHex(),16);if(o.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var s=fE(o,t,r),l=s.toString(16),u=we.util.createBuffer(),c=i-Math.ceil(l.length/2);c>0;)u.putByte(0),--c;return u.putBytes(we.util.hexToBytes(l)),n!==!1?sd(u.getBytes(),t,r):u.getBytes()};Me.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||we.random,i={nextBytes:function(s){for(var l=n.getBytesSync(s.length),u=0;u<s.length;++u)s[u]=l.charCodeAt(u)}},a=r.algorithm||"PRIMEINC",o;if(a==="PRIMEINC")o={algorithm:a,state:0,bits:e,rng:i,eInt:t||65537,e:new Xe(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+a);return o};Me.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Xe(null);r.fromInt(30);for(var n=0,i=function(d,p){return d|p},a=+new Date,o,s=0;e.keys===null&&(t<=0||s<t);){if(e.state===0){var l=e.p===null?e.pBits:e.qBits,u=l-1;e.pqState===0?(e.num=new Xe(l,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Xe.ONE.shiftLeft(u),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>l?e.pqState=0:e.num.isProbablePrime(l3(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(e3[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Xe.ONE).gcd(e.e).compareTo(Xe.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Xe.ONE),e.q1=e.q.subtract(Xe.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Xe.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var c=e.e.modInverse(e.phi);e.keys={privateKey:Me.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:Me.rsa.setPublicKey(e.n,e.e)}}o=+new Date,s+=o-a,a=o}return e.keys!==null};Me.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!we.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(Ky("generateKeyPair"))return Wp.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(s,l,u){if(s)return n(s);n(null,{privateKey:Me.privateKeyFromPem(u),publicKey:Me.publicKeyFromPem(l)})});if($y("generateKey")&&$y("exportKey"))return sn.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:jy(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(s){return sn.globalScope.crypto.subtle.exportKey("pkcs8",s.privateKey)}).then(void 0,function(s){n(s)}).then(function(s){if(s){var l=Me.privateKeyFromAsn1(z.fromDer(we.util.createBuffer(s)));n(null,{privateKey:l,publicKey:Me.setRsaPublicKey(l.n,l.e)})}});if(Hy("generateKey")&&Hy("exportKey")){var i=sn.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:jy(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(s){var l=s.target.result,u=sn.globalScope.msCrypto.subtle.exportKey("pkcs8",l.privateKey);u.oncomplete=function(c){var d=c.target.result,p=Me.privateKeyFromAsn1(z.fromDer(we.util.createBuffer(d)));n(null,{privateKey:p,publicKey:Me.setRsaPublicKey(p.n,p.e)})},u.onerror=function(c){n(c)}},i.onerror=function(s){n(s)};return}}else if(Ky("generateKeyPairSync")){var a=Wp.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Me.privateKeyFromPem(a.privateKey),publicKey:Me.publicKeyFromPem(a.publicKey)}}}var o=Me.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Me.rsa.stepKeyPairGenerationState(o,0),o.keys;s3(o,r,n)};Me.setRsaPublicKey=Me.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(s,l,u){return hE(s,l,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(s,l){return we.pkcs1.encode_rsa_oaep(l,s,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(s){return s}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var o=i.encode(n,r,!0);return Me.rsa.encrypt(o,r,!0)},r.verify=function(n,i,a,o){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),o===void 0&&(o={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(l,u){u=sd(u,r,!0);var c=z.fromDer(u,{parseAllBytes:o._parseAllDigestBytes}),d={},p=[];if(!z.validate(c,a3,d,p)){var C=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw C.errors=p,C}var h=z.derToOid(d.algorithmIdentifier);if(!(h===we.oids.md2||h===we.oids.md5||h===we.oids.sha1||h===we.oids.sha224||h===we.oids.sha256||h===we.oids.sha384||h===we.oids.sha512||h===we.oids["sha512-224"]||h===we.oids["sha512-256"])){var C=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw C.oid=h,C}if((h===we.oids.md2||h===we.oids.md5)&&!("parameters"in d))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return l===d.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(l,u){return u=sd(u,r,!0),l===u}});var s=Me.rsa.decrypt(i,r,!0,!1);return a.verify(n,s,r.n.bitLength())},r};Me.setRsaPrivateKey=Me.rsa.setPrivateKey=function(e,t,r,n,i,a,o,s){var l={n:e,e:t,d:r,p:n,q:i,dP:a,dQ:o,qInv:s};return l.decrypt=function(u,c,d){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var p=Me.rsa.decrypt(u,l,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:sd};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(C,h){return we.pkcs1.decode_rsa_oaep(h,C,d)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(C){return C}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(p,l,!1)},l.sign=function(u,c){var d=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:o3},d=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return u}},d=1);var p=c.encode(u,l.n.bitLength());return Me.rsa.encrypt(p,l,d)},l};Me.wrapRsaPrivateKey=function(e){return z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,z.integerToDer(0).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(Me.oids.rsaEncryption).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.NULL,!1,"")]),z.create(z.Class.UNIVERSAL,z.Type.OCTETSTRING,!1,z.toDer(e).getBytes())])};Me.privateKeyFromAsn1=function(e){var t={},r=[];if(z.validate(e,t3,t,r)&&(e=z.fromDer(we.util.createBuffer(t.privateKey))),t={},r=[],!z.validate(e,r3,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,o,s,l,u,c,d;return i=we.util.createBuffer(t.privateKeyModulus).toHex(),a=we.util.createBuffer(t.privateKeyPublicExponent).toHex(),o=we.util.createBuffer(t.privateKeyPrivateExponent).toHex(),s=we.util.createBuffer(t.privateKeyPrime1).toHex(),l=we.util.createBuffer(t.privateKeyPrime2).toHex(),u=we.util.createBuffer(t.privateKeyExponent1).toHex(),c=we.util.createBuffer(t.privateKeyExponent2).toHex(),d=we.util.createBuffer(t.privateKeyCoefficient).toHex(),Me.setRsaPrivateKey(new Xe(i,16),new Xe(a,16),new Xe(o,16),new Xe(s,16),new Xe(l,16),new Xe(u,16),new Xe(c,16),new Xe(d,16))};Me.privateKeyToAsn1=Me.privateKeyToRSAPrivateKey=function(e){return z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,z.integerToDer(0).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.n)),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.e)),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.d)),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.p)),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.q)),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.dP)),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.dQ)),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.qInv))])};Me.publicKeyFromAsn1=function(e){var t={},r=[];if(z.validate(e,i3,t,r)){var n=z.derToOid(t.publicKeyOid);if(n!==Me.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!z.validate(e,n3,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=we.util.createBuffer(t.publicKeyModulus).toHex(),o=we.util.createBuffer(t.publicKeyExponent).toHex();return Me.setRsaPublicKey(new Xe(a,16),new Xe(o,16))};Me.publicKeyToAsn1=Me.publicKeyToSubjectPublicKeyInfo=function(e){return z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.OID,!1,z.oidToDer(Me.oids.rsaEncryption).getBytes()),z.create(z.Class.UNIVERSAL,z.Type.NULL,!1,"")]),z.create(z.Class.UNIVERSAL,z.Type.BITSTRING,!1,[Me.publicKeyToRSAPublicKey(e)])])};Me.publicKeyToRSAPublicKey=function(e){return z.create(z.Class.UNIVERSAL,z.Type.SEQUENCE,!0,[z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.n)),z.create(z.Class.UNIVERSAL,z.Type.INTEGER,!1,Pn(e.e))])};function hE(e,t,r){var n=we.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var o=i-3-e.length,s;if(r===0||r===1){s=r===0?0:255;for(var l=0;l<o;++l)n.putByte(s)}else for(;o>0;){for(var u=0,c=we.random.getBytes(o),l=0;l<o;++l)s=c.charCodeAt(l),s===0?++u:n.putByte(s);o=u}return n.putByte(0),n.putBytes(e),n}function sd(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),a=we.util.createBuffer(e),o=a.getByte(),s=a.getByte();if(o!==0||r&&s!==0&&s!==1||!r&&s!=2||r&&s===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var l=0;if(s===0){l=i-3-n;for(var u=0;u<l;++u)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(s===1)for(l=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++l}else if(s===2)for(l=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++l}var c=a.getByte();if(c!==0||l!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function s3(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){a(e.pBits,function(s,l){if(s)return r(s);if(e.p=l,e.q!==null)return o(s,e.q);a(e.qBits,o)})}function a(s,l){we.prime.generateProbablePrime(s,n,l)}function o(s,l){if(s)return r(s);if(e.q=l,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Xe.ONE).gcd(e.e).compareTo(Xe.ONE)!==0){e.p=null,i();return}if(e.q.subtract(Xe.ONE).gcd(e.e).compareTo(Xe.ONE)!==0){e.q=null,a(e.qBits,o);return}if(e.p1=e.p.subtract(Xe.ONE),e.q1=e.q.subtract(Xe.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Xe.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,a(e.qBits,o);return}var c=e.e.modInverse(e.phi);e.keys={privateKey:Me.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:Me.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function Pn(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=we.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function l3(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function Ky(e){return we.util.isNodejs&&typeof Wp[e]=="function"}function $y(e){return typeof sn.globalScope<"u"&&typeof sn.globalScope.crypto=="object"&&typeof sn.globalScope.crypto.subtle=="object"&&typeof sn.globalScope.crypto.subtle[e]=="function"}function Hy(e){return typeof sn.globalScope<"u"&&typeof sn.globalScope.msCrypto=="object"&&typeof sn.globalScope.msCrypto.subtle=="object"&&typeof sn.globalScope.msCrypto.subtle[e]=="function"}function jy(e){for(var t=we.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}var fe=Ke;if(typeof u3>"u")var u3=fe.jsbn.BigInteger;var W=fe.asn1,Fe=fe.pki=fe.pki||{};Fe.pbe=fe.pbe=fe.pbe||{};var Ta=Fe.oids,c3={name:"EncryptedPrivateKeyInfo",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:W.Class.UNIVERSAL,type:W.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},d3={name:"PBES2Algorithms",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:W.Class.UNIVERSAL,type:W.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:W.Class.UNIVERSAL,type:W.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},f3={name:"pkcs-12PbeParams",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:W.Class.UNIVERSAL,type:W.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"iterations"}]};Fe.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=fe.random.getBytesSync(r.saltSize),i=r.count,a=W.integerToDer(i),o,s,l;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,c,d;switch(r.algorithm){case"aes128":o=16,u=16,c=Ta["aes128-CBC"],d=fe.aes.createEncryptionCipher;break;case"aes192":o=24,u=16,c=Ta["aes192-CBC"],d=fe.aes.createEncryptionCipher;break;case"aes256":o=32,u=16,c=Ta["aes256-CBC"],d=fe.aes.createEncryptionCipher;break;case"des":o=8,u=8,c=Ta.desCBC,d=fe.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var C="hmacWith"+r.prfAlgorithm.toUpperCase(),h=mE(C),v=fe.pkcs5.pbkdf2(t,n,i,o,h),S=fe.random.getBytesSync(u),m=d(v);m.start(S),m.update(W.toDer(e)),m.finish(),l=m.output.getBytes();var g=h3(n,a,o,C);s=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(Ta.pkcs5PBES2).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(Ta.pkcs5PBKDF2).getBytes()),g]),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(c).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,S)])])])}else if(r.algorithm==="3des"){o=24;var y=new fe.util.ByteBuffer(n),v=Fe.pbe.generatePkcs12Key(t,y,1,i,o),S=Fe.pbe.generatePkcs12Key(t,y,2,i,o),m=fe.des.createEncryptionCipher(v);m.start(S),m.update(W.toDer(e)),m.finish(),l=m.output.getBytes(),s=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(Ta["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,n),W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,a.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var w=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[s,W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,l)]);return w};Fe.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!W.validate(e,c3,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var o=W.derToOid(n.encryptionOid),s=Fe.pbe.getCipher(o,n.encryptionParams,t),l=fe.util.createBuffer(n.encryptedData);return s.update(l),s.finish()&&(r=W.fromDer(s.output)),r};Fe.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:W.toDer(e).getBytes()};return fe.pem.encode(r,{maxline:t})};Fe.encryptedPrivateKeyFromPem=function(e){var t=fe.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return W.fromDer(t.body)};Fe.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=Fe.wrapRsaPrivateKey(Fe.privateKeyToAsn1(e));return n=Fe.encryptPrivateKeyInfo(n,t,r),Fe.encryptedPrivateKeyToPem(n)}var i,a,o,s;switch(r.algorithm){case"aes128":i="AES-128-CBC",o=16,a=fe.random.getBytesSync(16),s=fe.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,a=fe.random.getBytesSync(16),s=fe.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,a=fe.random.getBytesSync(16),s=fe.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,a=fe.random.getBytesSync(8),s=fe.des.createEncryptionCipher;break;case"des":i="DES-CBC",o=8,a=fe.random.getBytesSync(8),s=fe.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var u=fe.pbe.opensslDeriveBytes(t,a.substr(0,8),o),c=s(u);c.start(a),c.update(W.toDer(Fe.privateKeyToAsn1(e))),c.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:fe.util.bytesToHex(a).toUpperCase()},body:c.output.getBytes()};return fe.pem.encode(d)};Fe.decryptRsaPrivateKey=function(e,t){var r=null,n=fe.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,o;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,o=fe.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,o=fe.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,o=fe.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,o=fe.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,o=fe.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,o=function(d){return fe.rc2.createDecryptionCipher(d,40)};break;case"RC2-64-CBC":a=8,o=function(d){return fe.rc2.createDecryptionCipher(d,64)};break;case"RC2-128-CBC":a=16,o=function(d){return fe.rc2.createDecryptionCipher(d,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var s=fe.util.hexToBytes(n.dekInfo.parameters),l=fe.pbe.opensslDeriveBytes(t,s.substr(0,8),a),u=o(l);if(u.start(s),u.update(fe.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Fe.decryptPrivateKeyInfo(W.fromDer(r),t):r=W.fromDer(r),r!==null&&(r=Fe.privateKeyFromAsn1(r)),r};Fe.pbe.generatePkcs12Key=function(e,t,r,n,i,a){var o,s;if(typeof a>"u"||a===null){if(!("sha1"in fe.md))throw new Error('"sha1" hash algorithm unavailable.');a=fe.md.sha1.create()}var l=a.digestLength,u=a.blockLength,c=new fe.util.ByteBuffer,d=new fe.util.ByteBuffer;if(e!=null){for(s=0;s<e.length;s++)d.putInt16(e.charCodeAt(s));d.putInt16(0)}var p=d.length(),C=t.length(),h=new fe.util.ByteBuffer;h.fillWithByte(r,u);var v=u*Math.ceil(C/u),S=new fe.util.ByteBuffer;for(s=0;s<v;s++)S.putByte(t.at(s%C));var m=u*Math.ceil(p/u),g=new fe.util.ByteBuffer;for(s=0;s<m;s++)g.putByte(d.at(s%p));var y=S;y.putBuffer(g);for(var w=Math.ceil(i/l),E=1;E<=w;E++){var b=new fe.util.ByteBuffer;b.putBytes(h.bytes()),b.putBytes(y.bytes());for(var T=0;T<n;T++)a.start(),a.update(b.getBytes()),b=a.digest();var _=new fe.util.ByteBuffer;for(s=0;s<u;s++)_.putByte(b.at(s%l));var M=Math.ceil(C/u)+Math.ceil(p/u),D=new fe.util.ByteBuffer;for(o=0;o<M;o++){var A=new fe.util.ByteBuffer(y.getBytes(u)),B=511;for(s=_.length()-1;s>=0;s--)B=B>>8,B+=_.at(s)+A.at(s),A.setAt(s,B&255);D.putBuffer(A)}y=D,c.putBuffer(b)}return c.truncate(c.length()-i),c};Fe.pbe.getCipher=function(e,t,r){switch(e){case Fe.oids.pkcs5PBES2:return Fe.pbe.getCipherForPBES2(e,t,r);case Fe.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Fe.oids["pbewithSHAAnd40BitRC2-CBC"]:return Fe.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Fe.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!W.validate(t,d3,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(e=W.derToOid(n.kdfOid),e!==Fe.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=e,a.supportedOids=["pkcs5PBKDF2"],a}if(e=W.derToOid(n.encOid),e!==Fe.oids["aes128-CBC"]&&e!==Fe.oids["aes192-CBC"]&&e!==Fe.oids["aes256-CBC"]&&e!==Fe.oids["des-EDE3-CBC"]&&e!==Fe.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var o=n.kdfSalt,s=fe.util.createBuffer(n.kdfIterationCount);s=s.getInt(s.length()<<3);var l,u;switch(Fe.oids[e]){case"aes128-CBC":l=16,u=fe.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,u=fe.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,u=fe.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,u=fe.des.createDecryptionCipher;break;case"desCBC":l=8,u=fe.des.createDecryptionCipher;break}var c=pE(n.prfOid),d=fe.pkcs5.pbkdf2(r,o,s,l,c),p=n.encIv,C=u(d);return C.start(p),C};Fe.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!W.validate(t,f3,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var o=fe.util.createBuffer(n.salt),s=fe.util.createBuffer(n.iterations);s=s.getInt(s.length()<<3);var l,u,c;switch(e){case Fe.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,u=8,c=fe.des.startDecrypting;break;case Fe.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,u=8,c=function(v,S){var m=fe.rc2.createDecryptionCipher(v,40);return m.start(S,null),m};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=e,a}var d=pE(n.prfOid),p=Fe.pbe.generatePkcs12Key(r,o,1,s,l,d);d.start();var C=Fe.pbe.generatePkcs12Key(r,o,2,s,u,d);return c(p,C)};Fe.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in fe.md))throw new Error('"md5" hash algorithm unavailable.');n=fe.md.md5.create()}t===null&&(t="");for(var i=[zy(n,e+t)],a=16,o=1;a<r;++o,a+=16)i.push(zy(n,i[o-1]+e+t));return i.join("").substr(0,r)};function zy(e,t){return e.start().update(t).digest().getBytes()}function pE(e){var t;if(!e)t="hmacWithSHA1";else if(t=Fe.oids[W.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return mE(t)}function mE(e){var t=fe.md;switch(e){case"hmacWithSHA224":t=fe.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function h3(e,t,r,n){var i=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,e),W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,fe.util.hexToBytes(r.toString(16))),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(Fe.oids[n]).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")])),i}var Zo=Ke,de=Zo.asn1,Cs=Zo.pkcs7asn1=Zo.pkcs7asn1||{};Zo.pkcs7=Zo.pkcs7||{};Zo.pkcs7.asn1=Cs;var gE={name:"ContentInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:de.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Cs.contentInfoValidator=gE;var vE={name:"EncryptedContentInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:de.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:de.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Cs.envelopedDataValidator={name:"EnvelopedData",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:de.Class.UNIVERSAL,type:de.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(vE)};Cs.encryptedDataValidator={name:"EncryptedData",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"version"}].concat(vE)};var p3={name:"SignerInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:de.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:de.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:de.Class.UNIVERSAL,type:de.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:de.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Cs.signedDataValidator={name:"SignedData",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:de.Class.UNIVERSAL,type:de.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},gE,{name:"SignedData.Certificates",tagClass:de.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:de.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:de.Class.UNIVERSAL,type:de.Type.SET,capture:"signerInfos",optional:!0,value:[p3]}]};Cs.recipientInfoValidator={name:"RecipientInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:de.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:de.Class.UNIVERSAL,type:de.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var Ka=Ke;Ka.mgf=Ka.mgf||{};var m3=Ka.mgf.mgf1=Ka.mgf1=Ka.mgf1||{};m3.create=function(e){var t={generate:function(r,n){for(var i=new Ka.util.ByteBuffer,a=Math.ceil(n/e.digestLength),o=0;o<a;o++){var s=new Ka.util.ByteBuffer;s.putInt32(o),e.start(),e.update(r+s.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}};return t};var ld=Ke;ld.mgf=ld.mgf||{};ld.mgf.mgf1=ld.mgf1;var Ra=Ke,g3=Ra.pss=Ra.pss||{};g3.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,i=e.salt||null;typeof i=="string"&&(i=Ra.util.createBuffer(i));var a;if("saltLength"in e)a=e.saltLength;else if(i!==null)a=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==a)throw new Error("Given salt length does not match length of given salt.");var o=e.prng||Ra.random,s={};return s.encode=function(l,u){var c,d=u-1,p=Math.ceil(d/8),C=l.digest().getBytes();if(p<n+a+2)throw new Error("Message is too long to encrypt.");var h;i===null?h=o.getBytesSync(a):h=i.bytes();var v=new Ra.util.ByteBuffer;v.fillWithByte(0,8),v.putBytes(C),v.putBytes(h),t.start(),t.update(v.getBytes());var S=t.digest().getBytes(),m=new Ra.util.ByteBuffer;m.fillWithByte(0,p-a-n-2),m.putByte(1),m.putBytes(h);var g=m.getBytes(),y=p-n-1,w=r.generate(S,y),E="";for(c=0;c<y;c++)E+=String.fromCharCode(g.charCodeAt(c)^w.charCodeAt(c));var b=65280>>8*p-d&255;return E=String.fromCharCode(E.charCodeAt(0)&~b)+E.substr(1),E+S+String.fromCharCode(188)},s.verify=function(l,u,c){var d,p=c-1,C=Math.ceil(p/8);if(u=u.substr(-C),C<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(C-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var h=C-n-1,v=u.substr(0,h),S=u.substr(h,n),m=65280>>8*C-p&255;if(v.charCodeAt(0)&m)throw new Error("Bits beyond keysize not zero as expected.");var g=r.generate(S,h),y="";for(d=0;d<h;d++)y+=String.fromCharCode(v.charCodeAt(d)^g.charCodeAt(d));y=String.fromCharCode(y.charCodeAt(0)&~m)+y.substr(1);var w=C-n-a-2;for(d=0;d<w;d++)if(y.charCodeAt(d)!==0)throw new Error("Leftmost octets not zero as expected");if(y.charCodeAt(w)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var E=y.substr(-a),b=new Ra.util.ByteBuffer;b.fillWithByte(0,8),b.putBytes(l),b.putBytes(E),t.start(),t.update(b.getBytes());var T=t.digest().getBytes();return S===T},s};var xe=Ke,k=xe.asn1,ie=xe.pki=xe.pki||{},Ye=ie.oids,_t={};_t.CN=Ye.commonName;_t.commonName="CN";_t.C=Ye.countryName;_t.countryName="C";_t.L=Ye.localityName;_t.localityName="L";_t.ST=Ye.stateOrProvinceName;_t.stateOrProvinceName="ST";_t.O=Ye.organizationName;_t.organizationName="O";_t.OU=Ye.organizationalUnitName;_t.organizationalUnitName="OU";_t.E=Ye.emailAddress;_t.emailAddress="E";var yE=xe.pki.rsa.publicKeyValidator,v3={name:"Certificate",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:k.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:k.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:k.Class.UNIVERSAL,type:k.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:k.Class.UNIVERSAL,type:k.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:k.Class.UNIVERSAL,type:k.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:k.Class.UNIVERSAL,type:k.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},yE,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:k.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:k.Class.UNIVERSAL,type:k.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:k.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:k.Class.UNIVERSAL,type:k.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:k.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:k.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:k.Class.UNIVERSAL,type:k.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},y3={name:"rsapss",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:k.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:k.Class.UNIVERSAL,type:k.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:k.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:k.Class.UNIVERSAL,type:k.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:k.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:k.Class.UNIVERSAL,type:k.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:k.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:k.Class.UNIVERSAL,type:k.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},C3={name:"CertificationRequestInfo",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:k.Class.UNIVERSAL,type:k.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},yE,{name:"CertificationRequestInfo.attributes",tagClass:k.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:k.Class.UNIVERSAL,type:k.Type.SET,constructed:!0}]}]}]},S3={name:"CertificationRequest",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[C3,{name:"CertificationRequest.signatureAlgorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:k.Class.UNIVERSAL,type:k.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:k.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:k.Class.UNIVERSAL,type:k.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};ie.RDNAttributesAsArray=function(e,t){for(var r=[],n,i,a,o=0;o<e.value.length;++o){n=e.value[o];for(var s=0;s<n.value.length;++s)a={},i=n.value[s],a.type=k.derToOid(i.value[0].value),a.value=i.value[1].value,a.valueTagClass=i.value[1].type,a.type in Ye&&(a.name=Ye[a.type],a.name in _t&&(a.shortName=_t[a.name])),t&&(t.update(a.type),t.update(a.value)),r.push(a)}return r};ie.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],i=k.derToOid(n.value[0].value),a=n.value[1].value,o=0;o<a.length;++o){var s={};if(s.type=i,s.value=a[o].value,s.valueTagClass=a[o].type,s.type in Ye&&(s.name=Ye[s.type],s.name in _t&&(s.shortName=_t[s.name])),s.type===Ye.extensionRequest){s.extensions=[];for(var l=0;l<s.value.length;++l)s.extensions.push(ie.certificateExtensionFromAsn1(s.value[l]))}t.push(s)}return t};function ca(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,i=0;r===null&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}var ud=function(e,t,r){var n={};if(e!==Ye["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Ye.sha1},mgf:{algorithmOid:Ye.mgf1,hash:{algorithmOid:Ye.sha1}},saltLength:20});var i={},a=[];if(!k.validate(t,y3,i,a)){var o=new Error("Cannot read RSASSA-PSS parameter block.");throw o.errors=a,o}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=k.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=k.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=k.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},cf=function(e){switch(Ye[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return xe.md.sha1.create();case"md5WithRSAEncryption":return xe.md.md5.create();case"sha256WithRSAEncryption":return xe.md.sha256.create();case"sha384WithRSAEncryption":return xe.md.sha384.create();case"sha512WithRSAEncryption":return xe.md.sha512.create();case"RSASSA-PSS":return xe.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},CE=function(e){var t=e.certificate,r;switch(t.signatureOid){case Ye.sha1WithRSAEncryption:case Ye.sha1WithRSASignature:break;case Ye["RSASSA-PSS"]:var n,i;if(n=Ye[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||xe.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=t.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(i=Ye[t.signatureParameters.mgf.algorithmOid],i===void 0||xe.mgf[i]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=t.signatureParameters.mgf.algorithmOid,a.name=i,a}if(i=xe.mgf[i].create(xe.md[n].create()),n=Ye[t.signatureParameters.hash.algorithmOid],n===void 0||xe.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=t.signatureParameters.hash.algorithmOid,a.name=n,a}r=xe.pss.create(xe.md[n].create(),i,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)};ie.certificateFromPem=function(e,t,r){var n=xe.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=k.fromDer(n.body,r);return ie.certificateFromAsn1(a,t)};ie.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:k.toDer(ie.certificateToAsn1(e)).getBytes()};return xe.pem.encode(r,{maxline:t})};ie.publicKeyFromPem=function(e){var t=xe.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=k.fromDer(t.body);return ie.publicKeyFromAsn1(n)};ie.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:k.toDer(ie.publicKeyToAsn1(e)).getBytes()};return xe.pem.encode(r,{maxline:t})};ie.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:k.toDer(ie.publicKeyToRSAPublicKey(e)).getBytes()};return xe.pem.encode(r,{maxline:t})};ie.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||xe.md.sha1.create(),n=t.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=k.toDer(ie.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=k.toDer(ie.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(i);var a=r.digest();if(t.encoding==="hex"){var o=a.toHex();return t.delimiter?o.match(/.{2}/g).join(t.delimiter):o}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};ie.certificationRequestFromPem=function(e,t,r){var n=xe.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=k.fromDer(n.body,r);return ie.certificationRequestFromAsn1(a,t)};ie.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:k.toDer(ie.certificationRequestToAsn1(e)).getBytes()};return xe.pem.encode(r,{maxline:t})};ie.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return ca(e.issuer,t)},e.issuer.addField=function(t){ln([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return ca(e.subject,t)},e.subject.addField=function(t){ln([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){ln(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){ln(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)SE(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,i=0;r===null&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||xe.md.sha1.create();var n=Ye[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=ie.getTBSCertificate(e);var a=k.toDer(e.tbsCertificate);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,i=e.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=i.attributes,a.actualIssuer=n.attributes,a}var o=t.md;if(o===null){o=cf({signatureOid:t.signatureOid,type:"certificate"});var s=t.tbsCertificate||ie.getTBSCertificate(t),l=k.toDer(s);o.update(l.getBytes())}return o!==null&&(r=CE({certificate:e,md:o,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var a,o,s=0;r&&s<n.attributes.length;++s)a=n.attributes[s],o=i.attributes[s],(a.type!==o.type||a.value!==o.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return ie.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Ye.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var i=e.generateSubjectKeyIdentifier().getBytes();return xe.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},e};ie.certificateFromAsn1=function(e,t){var r={},n=[];if(!k.validate(e,v3,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var a=k.derToOid(r.publicKeyOid);if(a!==ie.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=ie.createCertificate();o.version=r.certVersion?r.certVersion.charCodeAt(0):0;var s=xe.util.createBuffer(r.certSerialNumber);o.serialNumber=s.toHex(),o.signatureOid=xe.asn1.derToOid(r.certSignatureOid),o.signatureParameters=ud(o.signatureOid,r.certSignatureParams,!0),o.siginfo.algorithmOid=xe.asn1.derToOid(r.certinfoSignatureOid),o.siginfo.parameters=ud(o.siginfo.algorithmOid,r.certinfoSignatureParams,!1),o.signature=r.certSignature;var l=[];if(r.certValidity1UTCTime!==void 0&&l.push(k.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&l.push(k.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&l.push(k.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&l.push(k.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(o.validity.notBefore=l[0],o.validity.notAfter=l[1],o.tbsCertificate=r.tbsCertificate,t){o.md=cf({signatureOid:o.signatureOid,type:"certificate"});var u=k.toDer(o.tbsCertificate);o.md.update(u.getBytes())}var c=xe.md.sha1.create(),d=k.toDer(r.certIssuer);c.update(d.getBytes()),o.issuer.getField=function(h){return ca(o.issuer,h)},o.issuer.addField=function(h){ln([h]),o.issuer.attributes.push(h)},o.issuer.attributes=ie.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(o.issuer.uniqueId=r.certIssuerUniqueId),o.issuer.hash=c.digest().toHex();var p=xe.md.sha1.create(),C=k.toDer(r.certSubject);return p.update(C.getBytes()),o.subject.getField=function(h){return ca(o.subject,h)},o.subject.addField=function(h){ln([h]),o.subject.attributes.push(h)},o.subject.attributes=ie.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(o.subject.uniqueId=r.certSubjectUniqueId),o.subject.hash=p.digest().toHex(),r.certExtensions?o.extensions=ie.certificateExtensionsFromAsn1(r.certExtensions):o.extensions=[],o.publicKey=ie.publicKeyFromAsn1(r.subjectPublicKeyInfo),o};ie.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],i=0;i<n.value.length;++i)t.push(ie.certificateExtensionFromAsn1(n.value[i]));return t};ie.certificateExtensionFromAsn1=function(e){var t={};if(t.id=k.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===k.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Ye){if(t.name=Ye[t.id],t.name==="keyUsage"){var r=k.fromDer(t.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(i&128)===128}else if(t.name==="basicConstraints"){var r=k.fromDer(t.value);r.value.length>0&&r.value[0].type===k.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var a=null;r.value.length>0&&r.value[0].type===k.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(t.pathLenConstraint=k.derToInteger(a))}else if(t.name==="extKeyUsage")for(var r=k.fromDer(t.value),o=0;o<r.value.length;++o){var s=k.derToOid(r.value[o].value);s in Ye?t[Ye[s]]=!0:t[s]=!0}else if(t.name==="nsCertType"){var r=k.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var l,r=k.fromDer(t.value),u=0;u<r.value.length;++u){l=r.value[u];var c={type:l.type,value:l.value};switch(t.altNames.push(c),l.type){case 1:case 2:case 6:break;case 7:c.ip=xe.util.bytesToIP(l.value);break;case 8:c.oid=k.derToOid(l.value);break}}}else if(t.name==="subjectKeyIdentifier"){var r=k.fromDer(t.value);t.subjectKeyIdentifier=xe.util.bytesToHex(r.value)}}return t};ie.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!k.validate(e,S3,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var a=k.derToOid(r.publicKeyOid);if(a!==ie.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=ie.createCertificationRequest();if(o.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,o.signatureOid=xe.asn1.derToOid(r.csrSignatureOid),o.signatureParameters=ud(o.signatureOid,r.csrSignatureParams,!0),o.siginfo.algorithmOid=xe.asn1.derToOid(r.csrSignatureOid),o.siginfo.parameters=ud(o.siginfo.algorithmOid,r.csrSignatureParams,!1),o.signature=r.csrSignature,o.certificationRequestInfo=r.certificationRequestInfo,t){o.md=cf({signatureOid:o.signatureOid,type:"certification request"});var s=k.toDer(o.certificationRequestInfo);o.md.update(s.getBytes())}var l=xe.md.sha1.create();return o.subject.getField=function(u){return ca(o.subject,u)},o.subject.addField=function(u){ln([u]),o.subject.attributes.push(u)},o.subject.attributes=ie.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),o.subject.hash=l.digest().toHex(),o.publicKey=ie.publicKeyFromAsn1(r.subjectPublicKeyInfo),o.getAttribute=function(u){return ca(o,u)},o.addAttribute=function(u){ln([u]),o.attributes.push(u)},o.attributes=ie.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),o};ie.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return ca(e.subject,t)},e.subject.addField=function(t){ln([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return ca(e,t)},e.addAttribute=function(t){ln([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){ln(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){ln(t),e.attributes=t},e.sign=function(t,r){e.md=r||xe.md.sha1.create();var n=Ye[e.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=e.md.algorithm,i}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=ie.getCertificationRequestInfo(e);var a=k.toDer(e.certificationRequestInfo);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=cf({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||ie.getCertificationRequestInfo(e),i=k.toDer(n);r.update(i.getBytes())}return r!==null&&(t=CE({certificate:e,md:r,signature:e.signature})),t},e};function es(e){for(var t=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]),r,n,i=e.attributes,a=0;a<i.length;++a){r=i[a];var o=r.value,s=k.Type.PRINTABLESTRING;"valueTagClass"in r&&(s=r.valueTagClass,s===k.Type.UTF8&&(o=xe.util.encodeUtf8(o))),n=k.create(k.Class.UNIVERSAL,k.Type.SET,!0,[k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(r.type).getBytes()),k.create(k.Class.UNIVERSAL,s,!1,o)])]),t.value.push(n)}return t}function ln(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in ie.oids?t.name=ie.oids[t.type]:t.shortName&&t.shortName in _t&&(t.name=ie.oids[_t[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in ie.oids)t.type=ie.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in _t&&(t.shortName=_t[t.name]),t.type===Ye.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=k.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var i=0;i<t.extensions.length;++i)t.value.push(ie.certificateExtensionToAsn1(SE(t.extensions[i])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}function SE(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in ie.oids&&(e.name=ie.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in ie.oids)e.id=ie.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,i=0,a=0;e.digitalSignature&&(i|=128,n=7),e.nonRepudiation&&(i|=64,n=6),e.keyEncipherment&&(i|=32,n=5),e.dataEncipherment&&(i|=16,n=4),e.keyAgreement&&(i|=8,n=3),e.keyCertSign&&(i|=4,n=2),e.cRLSign&&(i|=2,n=1),e.encipherOnly&&(i|=1,n=0),e.decipherOnly&&(a|=128,n=7);var o=String.fromCharCode(n);a!==0?o+=String.fromCharCode(i)+String.fromCharCode(a):i!==0&&(o+=String.fromCharCode(i)),e.value=k.create(k.Class.UNIVERSAL,k.Type.BITSTRING,!1,o)}else if(e.name==="basicConstraints")e.value=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(k.create(k.Class.UNIVERSAL,k.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]);var s=e.value.value;for(var l in e)e[l]===!0&&(l in Ye?s.push(k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(Ye[l]).getBytes())):l.indexOf(".")!==-1&&s.push(k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(l).getBytes())))}else if(e.name==="nsCertType"){var n=0,i=0;e.client&&(i|=128,n=7),e.server&&(i|=64,n=6),e.email&&(i|=32,n=5),e.objsign&&(i|=16,n=4),e.reserved&&(i|=8,n=3),e.sslCA&&(i|=4,n=2),e.emailCA&&(i|=2,n=1),e.objCA&&(i|=1,n=0);var o=String.fromCharCode(n);i!==0&&(o+=String.fromCharCode(i)),e.value=k.create(k.Class.UNIVERSAL,k.Type.BITSTRING,!1,o)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]);for(var u,c=0;c<e.altNames.length;++c){u=e.altNames[c];var o=u.value;if(u.type===7&&u.ip){if(o=xe.util.bytesFromIP(u.ip),o===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?o=k.oidToDer(k.oidToDer(u.oid)):o=k.oidToDer(o));e.value.value.push(k.create(k.Class.CONTEXT_SPECIFIC,u.type,!1,o))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=k.create(k.Class.UNIVERSAL,k.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var d=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=d.toHex(),e.value=k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,d.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]);var s=e.value.value;if(e.keyIdentifier){var p=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;s.push(k.create(k.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var C=[k.create(k.Class.CONTEXT_SPECIFIC,4,!0,[es(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];s.push(k.create(k.Class.CONTEXT_SPECIFIC,1,!0,C))}if(e.serialNumber){var h=xe.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);s.push(k.create(k.Class.CONTEXT_SPECIFIC,2,!1,h))}}else if(e.name==="cRLDistributionPoints"){e.value=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]);for(var s=e.value.value,v=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]),S=k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[]),u,c=0;c<e.altNames.length;++c){u=e.altNames[c];var o=u.value;if(u.type===7&&u.ip){if(o=xe.util.bytesFromIP(u.ip),o===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?o=k.oidToDer(k.oidToDer(u.oid)):o=k.oidToDer(o));S.value.push(k.create(k.Class.CONTEXT_SPECIFIC,u.type,!1,o))}v.value.push(k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[S])),s.push(v)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}function Xm(e,t){switch(e){case Ye["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(t.hash.algorithmOid).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(k.create(k.Class.CONTEXT_SPECIFIC,1,!0,[k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(t.mgf.algorithmOid).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(t.mgf.hash.algorithmOid).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(k.create(k.Class.CONTEXT_SPECIFIC,2,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(t.saltLength).getBytes())])),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,r);default:return k.create(k.Class.UNIVERSAL,k.Type.NULL,!1,"")}}function w3(e){var t=k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var i=r[n],a=i.value,o=k.Type.UTF8;"valueTagClass"in i&&(o=i.valueTagClass),o===k.Type.UTF8&&(a=xe.util.encodeUtf8(a));var s=!1;"valueConstructed"in i&&(s=i.valueConstructed);var l=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(i.type).getBytes()),k.create(k.Class.UNIVERSAL,k.Type.SET,!0,[k.create(k.Class.UNIVERSAL,o,s,a)])]);t.value.push(l)}return t}var x3=new Date("1950-01-01T00:00:00Z"),E3=new Date("2050-01-01T00:00:00Z");function qy(e){return e>=x3&&e<E3?k.create(k.Class.UNIVERSAL,k.Type.UTCTIME,!1,k.dateToUtcTime(e)):k.create(k.Class.UNIVERSAL,k.Type.GENERALIZEDTIME,!1,k.dateToGeneralizedTime(e))}ie.getTBSCertificate=function(e){var t=qy(e.validity.notBefore),r=qy(e.validity.notAfter),n=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.CONTEXT_SPECIFIC,0,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(e.version).getBytes())]),k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,xe.util.hexToBytes(e.serialNumber)),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.siginfo.algorithmOid).getBytes()),Xm(e.siginfo.algorithmOid,e.siginfo.parameters)]),es(e.issuer),k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[t,r]),es(e.subject),ie.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(k.create(k.Class.CONTEXT_SPECIFIC,1,!0,[k.create(k.Class.UNIVERSAL,k.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(k.create(k.Class.CONTEXT_SPECIFIC,2,!0,[k.create(k.Class.UNIVERSAL,k.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(ie.certificateExtensionsToAsn1(e.extensions)),n};ie.getCertificationRequestInfo=function(e){var t=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.INTEGER,!1,k.integerToDer(e.version).getBytes()),es(e.subject),ie.publicKeyToAsn1(e.publicKey),w3(e)]);return t};ie.distinguishedNameToAsn1=function(e){return es(e)};ie.certificateToAsn1=function(e){var t=e.tbsCertificate||ie.getTBSCertificate(e);return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[t,k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.signatureOid).getBytes()),Xm(e.signatureOid,e.signatureParameters)]),k.create(k.Class.UNIVERSAL,k.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};ie.certificateExtensionsToAsn1=function(e){var t=k.create(k.Class.CONTEXT_SPECIFIC,3,!0,[]),r=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(ie.certificateExtensionToAsn1(e[n]));return t};ie.certificateExtensionToAsn1=function(e){var t=k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[]);t.value.push(k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.id).getBytes())),e.critical&&t.value.push(k.create(k.Class.UNIVERSAL,k.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=e.value;return typeof e.value!="string"&&(r=k.toDer(r).getBytes()),t.value.push(k.create(k.Class.UNIVERSAL,k.Type.OCTETSTRING,!1,r)),t};ie.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||ie.getCertificationRequestInfo(e);return k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[t,k.create(k.Class.UNIVERSAL,k.Type.SEQUENCE,!0,[k.create(k.Class.UNIVERSAL,k.Type.OID,!1,k.oidToDer(e.signatureOid).getBytes()),Xm(e.signatureOid,e.signatureParameters)]),k.create(k.Class.UNIVERSAL,k.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])};ie.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(o){var s=r(o.issuer);return s},t.addCertificate=function(o){if(typeof o=="string"&&(o=xe.pki.certificateFromPem(o)),n(o.subject),!t.hasCertificate(o))if(o.subject.hash in t.certs){var s=t.certs[o.subject.hash];xe.util.isArray(s)||(s=[s]),s.push(o),t.certs[o.subject.hash]=s}else t.certs[o.subject.hash]=o},t.hasCertificate=function(o){typeof o=="string"&&(o=xe.pki.certificateFromPem(o));var s=r(o.subject);if(!s)return!1;xe.util.isArray(s)||(s=[s]);for(var l=k.toDer(ie.certificateToAsn1(o)).getBytes(),u=0;u<s.length;++u){var c=k.toDer(ie.certificateToAsn1(s[u])).getBytes();if(l===c)return!0}return!1},t.listAllCertificates=function(){var o=[];for(var s in t.certs)if(t.certs.hasOwnProperty(s)){var l=t.certs[s];if(!xe.util.isArray(l))o.push(l);else for(var u=0;u<l.length;++u)o.push(l[u])}return o},t.removeCertificate=function(o){var s;if(typeof o=="string"&&(o=xe.pki.certificateFromPem(o)),n(o.subject),!t.hasCertificate(o))return null;var l=r(o.subject);if(!xe.util.isArray(l))return s=t.certs[o.subject.hash],delete t.certs[o.subject.hash],s;for(var u=k.toDer(ie.certificateToAsn1(o)).getBytes(),c=0;c<l.length;++c){var d=k.toDer(ie.certificateToAsn1(l[c])).getBytes();u===d&&(s=l[c],l.splice(c,1))}return l.length===0&&delete t.certs[o.subject.hash],s};function r(o){return n(o),t.certs[o.hash]||null}function n(o){if(!o.hash){var s=xe.md.sha1.create();o.attributes=ie.RDNAttributesAsArray(es(o),s),o.hash=s.digest().toHex()}}if(e)for(var i=0;i<e.length;++i){var a=e[i];t.addCertificate(a)}return t};ie.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};ie.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var a=!0,o=null,s=0;do{var l=t.shift(),u=null,c=!1;if(i&&(i<l.validity.notBefore||i>l.validity.notAfter)&&(o={message:"Certificate is not valid yet or has expired.",error:ie.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:i}),o===null){if(u=t[0]||e.getIssuer(l),u===null&&l.isIssuer(l)&&(c=!0,u=l),u){var d=u;xe.util.isArray(d)||(d=[d]);for(var p=!1;!p&&d.length>0;){u=d.shift();try{p=u.verify(l)}catch{}}p||(o={message:"Certificate signature is invalid.",error:ie.certificateError.bad_certificate})}o===null&&(!u||c)&&!e.hasCertificate(l)&&(o={message:"Certificate is not trusted.",error:ie.certificateError.unknown_ca})}if(o===null&&u&&!l.isIssuer(u)&&(o={message:"Certificate issuer is invalid.",error:ie.certificateError.bad_certificate}),o===null)for(var C={keyUsage:!0,basicConstraints:!0},h=0;o===null&&h<l.extensions.length;++h){var v=l.extensions[h];v.critical&&!(v.name in C)&&(o={message:"Certificate has an unsupported critical extension.",error:ie.certificateError.unsupported_certificate})}if(o===null&&(!a||t.length===0&&(!u||c))){var S=l.getExtension("basicConstraints"),m=l.getExtension("keyUsage");if(m!==null&&(!m.keyCertSign||S===null)&&(o={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:ie.certificateError.bad_certificate}),o===null&&S!==null&&!S.cA&&(o={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:ie.certificateError.bad_certificate}),o===null&&m!==null&&"pathLenConstraint"in S){var g=s-1;g>S.pathLenConstraint&&(o={message:"Certificate basicConstraints pathLenConstraint violated.",error:ie.certificateError.bad_certificate})}}var y=o===null?!0:o.error,w=r.verify?r.verify(y,s,n):y;if(w===!0)o=null;else throw y===!0&&(o={message:"The application rejected the certificate.",error:ie.certificateError.bad_certificate}),(w||w===0)&&(typeof w=="object"&&!xe.util.isArray(w)?(w.message&&(o.message=w.message),w.error&&(o.error=w.error)):typeof w=="string"&&(o.error=w)),o;a=!1,++s}while(t.length>0);return!0};var ft=Ke,O=ft.asn1,He=ft.pki,Fl=ft.pkcs12=ft.pkcs12||{},wE={name:"ContentInfo",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:O.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},b3={name:"PFX",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,capture:"version"},wE,{name:"PFX.macData",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:O.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:O.Class.UNIVERSAL,type:O.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:O.Class.UNIVERSAL,type:O.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:O.Class.UNIVERSAL,type:O.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},T3={name:"SafeBag",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:O.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:O.Class.UNIVERSAL,type:O.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},A3={name:"Attribute",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:O.Class.UNIVERSAL,type:O.Type.SET,constructed:!0,capture:"values"}]},k3={name:"CertBag",tagClass:O.Class.UNIVERSAL,type:O.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:O.Class.UNIVERSAL,type:O.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:O.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:O.Class.UNIVERSAL,type:O.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Vs(e,t,r,n){for(var i=[],a=0;a<e.length;a++)for(var o=0;o<e[a].safeBags.length;o++){var s=e[a].safeBags[o];if(!(n!==void 0&&s.type!==n)){if(t===null){i.push(s);continue}s.attributes[t]!==void 0&&s.attributes[t].indexOf(r)>=0&&i.push(s)}}return i}Fl.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},i=[];if(!O.validate(e,b3,n,i)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var o={version:n.version.charCodeAt(0),safeContents:[],getBags:function(S){var m={},g;return"localKeyId"in S?g=S.localKeyId:"localKeyIdHex"in S&&(g=ft.util.hexToBytes(S.localKeyIdHex)),g===void 0&&!("friendlyName"in S)&&"bagType"in S&&(m[S.bagType]=Vs(o.safeContents,null,null,S.bagType)),g!==void 0&&(m.localKeyId=Vs(o.safeContents,"localKeyId",g,S.bagType)),"friendlyName"in S&&(m.friendlyName=Vs(o.safeContents,"friendlyName",S.friendlyName,S.bagType)),m},getBagsByFriendlyName:function(S,m){return Vs(o.safeContents,"friendlyName",S,m)},getBagsByLocalKeyId:function(S,m){return Vs(o.safeContents,"localKeyId",S,m)}};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(O.derToOid(n.contentType)!==He.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=O.derToOid(n.contentType),a}var s=n.content.value[0];if(s.tagClass!==O.Class.UNIVERSAL||s.type!==O.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(s=Jm(s),n.mac){var l=null,u=0,c=O.derToOid(n.macAlgorithm);switch(c){case He.oids.sha1:l=ft.md.sha1.create(),u=20;break;case He.oids.sha256:l=ft.md.sha256.create(),u=32;break;case He.oids.sha384:l=ft.md.sha384.create(),u=48;break;case He.oids.sha512:l=ft.md.sha512.create(),u=64;break;case He.oids.md5:l=ft.md.md5.create(),u=16;break}if(l===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+c);var d=new ft.util.ByteBuffer(n.macSalt),p="macIterations"in n?parseInt(ft.util.bytesToHex(n.macIterations),16):1,C=Fl.generateKey(r,d,3,p,u,l),h=ft.hmac.create();h.start(l,C),h.update(s.value);var v=h.getMac();if(v.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return I3(o,s.value,t,r),o};function Jm(e){if(e.composed||e.constructed){for(var t=ft.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function I3(e,t,r,n){if(t=O.fromDer(t,r),t.tagClass!==O.Class.UNIVERSAL||t.type!==O.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<t.value.length;i++){var a=t.value[i],o={},s=[];if(!O.validate(a,wE,o,s)){var l=new Error("Cannot read ContentInfo.");throw l.errors=s,l}var u={encrypted:!1},c=null,d=o.content.value[0];switch(O.derToOid(o.contentType)){case He.oids.data:if(d.tagClass!==O.Class.UNIVERSAL||d.type!==O.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");c=Jm(d).value;break;case He.oids.encryptedData:c=N3(d,n),u.encrypted=!0;break;default:var l=new Error("Unsupported PKCS#12 contentType.");throw l.contentType=O.derToOid(o.contentType),l}u.safeBags=R3(c,r,n),e.safeContents.push(u)}}function N3(e,t){var r={},n=[];if(!O.validate(e,ft.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var a=O.derToOid(r.contentType);if(a!==He.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=a,i}a=O.derToOid(r.encAlgorithm);var o=He.pbe.getCipher(a,r.encParameter,t),s=Jm(r.encryptedContentAsn1),l=ft.util.createBuffer(s.value);if(o.update(l),!o.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return o.output.getBytes()}function R3(e,t,r){if(!t&&e.length===0)return[];if(e=O.fromDer(e,t),e.tagClass!==O.Class.UNIVERSAL||e.type!==O.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<e.value.length;i++){var a=e.value[i],o={},s=[];if(!O.validate(a,T3,o,s)){var l=new Error("Cannot read SafeBag.");throw l.errors=s,l}var u={type:O.derToOid(o.bagId),attributes:_3(o.bagAttributes)};n.push(u);var c,d,p=o.bagValue.value[0];switch(u.type){case He.oids.pkcs8ShroudedKeyBag:if(p=He.decryptPrivateKeyInfo(p,r),p===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case He.oids.keyBag:try{u.key=He.privateKeyFromAsn1(p)}catch{u.key=null,u.asn1=p}continue;case He.oids.certBag:c=k3,d=function(){if(O.derToOid(o.certId)!==He.oids.x509Certificate){var h=new Error("Unsupported certificate type, only X.509 supported.");throw h.oid=O.derToOid(o.certId),h}var v=O.fromDer(o.cert,t);try{u.cert=He.certificateFromAsn1(v,!0)}catch{u.cert=null,u.asn1=v}};break;default:var l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=u.type,l}if(c!==void 0&&!O.validate(p,c,o,s)){var l=new Error("Cannot read PKCS#12 "+c.name);throw l.errors=s,l}d()}return n}function _3(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},i=[];if(!O.validate(e[r],A3,n,i)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=i,a}var o=O.derToOid(n.oid);if(He.oids[o]!==void 0){t[He.oids[o]]=[];for(var s=0;s<n.values.length;++s)t[He.oids[o]].push(n.values[s].value)}}return t}Fl.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,a;if(i!==null)i=ft.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var o=ft.util.isArray(t)?t[0]:t;typeof o=="string"&&(o=He.certificateFromPem(o));var s=ft.md.sha1.create();s.update(O.toDer(He.certificateToAsn1(o)).getBytes()),i=s.digest().getBytes()}else i=ft.random.getBytes(20);var l=[];i!==null&&l.push(O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.localKeyId).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SET,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&l.push(O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.friendlyName).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SET,!0,[O.create(O.Class.UNIVERSAL,O.Type.BMPSTRING,!1,n.friendlyName)])])),l.length>0&&(a=O.create(O.Class.UNIVERSAL,O.Type.SET,!0,l));var u=[],c=[];t!==null&&(ft.util.isArray(t)?c=t:c=[t]);for(var d=[],p=0;p<c.length;++p){t=c[p],typeof t=="string"&&(t=He.certificateFromPem(t));var C=p===0?a:void 0,h=He.certificateToAsn1(t),v=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.certBag).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.x509Certificate).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,O.toDer(h).getBytes())])])]),C]);d.push(v)}if(d.length>0){var S=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,d),m=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.data).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,O.toDer(S).getBytes())])]);u.push(m)}var g=null;if(e!==null){var y=He.wrapRsaPrivateKey(He.privateKeyToAsn1(e));r===null?g=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.keyBag).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[y]),a]):g=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.pkcs8ShroudedKeyBag).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[He.encryptPrivateKeyInfo(y,r,n)]),a]);var w=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[g]),E=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.data).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,O.toDer(w).getBytes())])]);u.push(E)}var b=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,u),T;if(n.useMac){var s=ft.md.sha1.create(),_=new ft.util.ByteBuffer(ft.random.getBytes(n.saltSize)),M=n.count,e=Fl.generateKey(r,_,3,M,20),D=ft.hmac.create();D.start(s,e),D.update(O.toDer(b).getBytes());var A=D.getMac();T=O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.sha1).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.NULL,!1,"")]),O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,A.getBytes())]),O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,_.getBytes()),O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(M).getBytes())])}return O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.INTEGER,!1,O.integerToDer(3).getBytes()),O.create(O.Class.UNIVERSAL,O.Type.SEQUENCE,!0,[O.create(O.Class.UNIVERSAL,O.Type.OID,!1,O.oidToDer(He.oids.data).getBytes()),O.create(O.Class.CONTEXT_SPECIFIC,0,!0,[O.create(O.Class.UNIVERSAL,O.Type.OCTETSTRING,!1,O.toDer(b).getBytes())])]),T])};Fl.generateKey=ft.pbe.generatePkcs12Key;var da=Ke,Zm=da.asn1,ts=da.pki=da.pki||{};ts.pemToDer=function(e){var t=da.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return da.util.createBuffer(t.body)};ts.privateKeyFromPem=function(e){var t=da.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Zm.fromDer(t.body);return ts.privateKeyFromAsn1(n)};ts.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:Zm.toDer(ts.privateKeyToAsn1(e)).getBytes()};return da.pem.encode(r,{maxline:t})};ts.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:Zm.toDer(e).getBytes()};return da.pem.encode(r,{maxline:t})};var X=Ke,df=function(e,t,r,n){var i=X.util.createBuffer(),a=e.length>>1,o=a+(e.length&1),s=e.substr(0,o),l=e.substr(a,o),u=X.util.createBuffer(),c=X.hmac.create();r=t+r;var d=Math.ceil(n/16),p=Math.ceil(n/20);c.start("MD5",s);var C=X.util.createBuffer();u.putBytes(r);for(var h=0;h<d;++h)c.start(null,null),c.update(u.getBytes()),u.putBuffer(c.digest()),c.start(null,null),c.update(u.bytes()+r),C.putBuffer(c.digest());c.start("SHA1",l);var v=X.util.createBuffer();u.clear(),u.putBytes(r);for(var h=0;h<p;++h)c.start(null,null),c.update(u.getBytes()),u.putBuffer(c.digest()),c.start(null,null),c.update(u.bytes()+r),v.putBuffer(c.digest());return i.putBytes(X.util.xorBytes(C.getBytes(),v.getBytes(),n)),i},B3=function(e,t,r){var n=X.hmac.create();n.start("SHA1",e);var i=X.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},D3=function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=X.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},L3=function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=X.util.createBuffer(i),t.length=i.length,n=!0}catch{}return n},Kr=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return X.util.createBuffer(e.getBytes(r))},tn=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},R={};R.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};R.SupportedVersions=[R.Versions.TLS_1_1,R.Versions.TLS_1_0];R.Version=R.SupportedVersions[0];R.MaxFragment=16384-1024;R.ConnectionEnd={server:0,client:1};R.PRFAlgorithm={tls_prf_sha256:0};R.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};R.CipherType={stream:0,block:1,aead:2};R.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};R.CompressionMethod={none:0,deflate:1};R.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};R.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};R.Alert={};R.Alert.Level={warning:1,fatal:2};R.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};R.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};R.CipherSuites={};R.getCipherSuite=function(e){var t=null;for(var r in R.CipherSuites){var n=R.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};R.handleUnexpected=function(e,t){var r=!e.open&&e.entity===R.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.unexpected_message}})};R.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(R.queue(e,R.createAlert(e,{level:R.Alert.Level.warning,description:R.Alert.Description.no_renegotiation})),R.flush(e)),e.process()};R.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===R.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.illegal_parameter}});else{var a=t.fragment,o=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:X.util.createBuffer(a.getBytes(32)),session_id:Kr(a,1),extensions:[]},i?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=Kr(a,2),n.compression_methods=Kr(a,1)),o=r-(o-a.length()),o>0){for(var s=Kr(a,2);s.length()>0;)n.extensions.push({type:[s.getByte(),s.getByte()],data:Kr(s,2)});if(!i)for(var l=0;l<n.extensions.length;++l){var u=n.extensions[l];if(u.type[0]===0&&u.type[1]===0)for(var c=Kr(u.data,2);c.length()>0;){var d=c.getByte();if(d!==0)break;e.session.extensions.server_name.serverNameList.push(Kr(c,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=R.getCipherSuite(n.cipher_suite);else for(var p=X.util.createBuffer(n.cipher_suites.bytes());p.length()>0&&(e.session.cipherSuite=R.getCipherSuite(p.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.handshake_failure},cipherSuite:X.util.bytesToHex(n.cipher_suite)});i?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=R.CompressionMethod.none}return n};R.createSecurityParameters=function(e,t){var r=e.entity===R.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,a=r?n:R.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:R.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}};R.handleServerHello=function(e,t,r){var n=R.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.protocol_version}});e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=xE,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=O3,e.session.resuming=!1,R.createSecurityParameters(e,n)),e.session.id=i,e.process()}};R.handleClientHello=function(e,t,r){var n=R.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),a=null;if(e.sessionCache&&(a=e.sessionCache.getSession(i),a===null?i="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,i="")),i.length===0&&(i=X.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var o,s=1;s<R.SupportedVersions.length&&(o=R.SupportedVersions[s],!(o.minor<=n.version.minor));++s);e.version={major:o.major,minor:o.minor},e.session.version=e.version}a!==null?(e.expect=eg,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?H3:Qp,e.session.resuming=!1,R.createSecurityParameters(e,n)),e.open=!0,R.queue(e,R.createRecord(e,{type:R.ContentType.handshake,data:R.createServerHello(e)})),e.session.resuming?(R.queue(e,R.createRecord(e,{type:R.ContentType.change_cipher_spec,data:R.createChangeCipherSpec()})),e.state.pending=R.createConnectionState(e),e.state.current.write=e.state.pending.write,R.queue(e,R.createRecord(e,{type:R.ContentType.handshake,data:R.createFinished(e)}))):(R.queue(e,R.createRecord(e,{type:R.ContentType.handshake,data:R.createCertificate(e)})),e.fail||(R.queue(e,R.createRecord(e,{type:R.ContentType.handshake,data:R.createServerKeyExchange(e)})),e.verifyClient!==!1&&R.queue(e,R.createRecord(e,{type:R.ContentType.handshake,data:R.createCertificateRequest(e)})),R.queue(e,R.createRecord(e,{type:R.ContentType.handshake,data:R.createServerHelloDone(e)})))),R.flush(e),e.process()}};R.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_list:Kr(n,3)},a,o,s=[];try{for(;i.certificate_list.length()>0;)a=Kr(i.certificate_list,3),o=X.asn1.fromDer(a),a=X.pki.certificateFromAsn1(o,!0),s.push(a)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.bad_certificate}})}var l=e.entity===R.ConnectionEnd.client;(l||e.verifyClient===!0)&&s.length===0?e.error(e,{message:l?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.illegal_parameter}}):s.length===0?e.expect=l?Gy:Qp:(l?e.session.serverCertificate=s[0]:e.session.clientCertificate=s[0],R.verifyCertificateChain(e,s)&&(e.expect=l?Gy:Qp)),e.process()};R.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.unsupported_certificate}});e.expect=P3,e.process()};R.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:Kr(n,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=X.pki.privateKeyFromPem(a)}catch(l){e.error(e,{message:"Could not get private key.",cause:l,send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.internal_error}})}if(a===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.internal_error}});try{var o=e.session.sp;o.pre_master_secret=a.decrypt(i.enc_pre_master_secret);var s=e.session.clientHelloVersion;if(s.major!==o.pre_master_secret.charCodeAt(0)||s.minor!==o.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{o.pre_master_secret=X.random.getBytes(48)}e.expect=eg,e.session.clientCertificate!==null&&(e.expect=j3),e.process()};R.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:Kr(n,1),certificate_authorities:Kr(n,2)};e.session.certificateRequest=i,e.expect=F3,e.process()};R.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a={signature:Kr(n,2).getBytes()},o=X.util.createBuffer();o.putBuffer(e.session.md5.digest()),o.putBuffer(e.session.sha1.digest()),o=o.getBytes();try{var s=e.session.clientCertificate;if(!s.publicKey.verify(o,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.handshake_failure}})}e.expect=eg,e.process()};R.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.insufficient_security}},i=0,a=e.verify(e,n.alert.description,i,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!X.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),e.error(e,n)}e.session.certificateRequest!==null&&(t=R.createRecord(e,{type:R.ContentType.handshake,data:R.createCertificate(e)}),R.queue(e,t)),t=R.createRecord(e,{type:R.ContentType.handshake,data:R.createClientKeyExchange(e)}),R.queue(e,t),e.expect=K3;var o=function(s,l){s.session.certificateRequest!==null&&s.session.clientCertificate!==null&&R.queue(s,R.createRecord(s,{type:R.ContentType.handshake,data:R.createCertificateVerify(s,l)})),R.queue(s,R.createRecord(s,{type:R.ContentType.change_cipher_spec,data:R.createChangeCipherSpec()})),s.state.pending=R.createConnectionState(s),s.state.current.write=s.state.pending.write,R.queue(s,R.createRecord(s,{type:R.ContentType.handshake,data:R.createFinished(s)})),s.expect=xE,R.flush(s),s.process()};if(e.session.certificateRequest===null||e.session.clientCertificate===null)return o(e,null);R.getClientSignature(e,o)};R.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.illegal_parameter}});var r=e.entity===R.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=R.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?U3:z3,e.process()};R.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a=t.fragment.getBytes();n=X.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var o=e.entity===R.ConnectionEnd.client,s=o?"server finished":"client finished",l=e.session.sp,u=12,c=df;if(n=c(l.master_secret,s,n.getBytes(),u),n.getBytes()!==a)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&o||!e.session.resuming&&!o)&&(R.queue(e,R.createRecord(e,{type:R.ContentType.change_cipher_spec,data:R.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,R.queue(e,R.createRecord(e,{type:R.ContentType.handshake,data:R.createFinished(e)}))),e.expect=o?V3:q3,e.handshaking=!1,++e.handshakes,e.peerCertificate=o?e.session.serverCertificate:e.session.clientCertificate,R.flush(e),e.isConnected=!0,e.connected(e),e.process()};R.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case R.Alert.Description.close_notify:i="Connection closed.";break;case R.Alert.Description.unexpected_message:i="Unexpected message.";break;case R.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case R.Alert.Description.decryption_failed:i="Decryption failed.";break;case R.Alert.Description.record_overflow:i="Record overflow.";break;case R.Alert.Description.decompression_failure:i="Decompression failed.";break;case R.Alert.Description.handshake_failure:i="Handshake failure.";break;case R.Alert.Description.bad_certificate:i="Bad certificate.";break;case R.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case R.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case R.Alert.Description.certificate_expired:i="Certificate expired.";break;case R.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case R.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case R.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case R.Alert.Description.access_denied:i="Access denied.";break;case R.Alert.Description.decode_error:i="Decode error.";break;case R.Alert.Description.decrypt_error:i="Decrypt error.";break;case R.Alert.Description.export_restriction:i="Export restriction.";break;case R.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case R.Alert.Description.insufficient_security:i="Insufficient security.";break;case R.Alert.Description.internal_error:i="Internal error.";break;case R.Alert.Description.user_canceled:i="User canceled.";break;case R.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===R.Alert.Description.close_notify)return e.close();e.error(e,{message:i,send:!1,origin:e.entity===R.ConnectionEnd.client?"server":"client",alert:n}),e.process()};R.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=X.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(i+4);r.read+=4,n in cd[e.entity][e.expect]?(e.entity===R.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:X.md.md5.create(),sha1:X.md.sha1.create()}),n!==R.HandshakeType.hello_request&&n!==R.HandshakeType.certificate_verify&&n!==R.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),cd[e.entity][e.expect][n](e,t,i)):R.handleUnexpected(e,t)};R.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};R.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),a=r.getBytes(i);if(n===R.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>a.length)return e.process();R.queue(e,R.createRecord(e,{type:R.ContentType.heartbeat,data:R.createHeartbeat(R.HeartbeatMessageType.heartbeat_response,a)})),R.flush(e)}else if(n===R.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,X.util.createBuffer(a))}e.process()};var M3=0,O3=1,Gy=2,P3=3,F3=4,xE=5,U3=6,V3=7,K3=8,$3=0,H3=1,Qp=2,j3=3,eg=4,z3=5,q3=6,I=R.handleUnexpected,EE=R.handleChangeCipherSpec,ar=R.handleAlert,xr=R.handleHandshake,bE=R.handleApplicationData,or=R.handleHeartbeat,tg=[];tg[R.ConnectionEnd.client]=[[I,ar,xr,I,or],[I,ar,xr,I,or],[I,ar,xr,I,or],[I,ar,xr,I,or],[I,ar,xr,I,or],[EE,ar,I,I,or],[I,ar,xr,I,or],[I,ar,xr,bE,or],[I,ar,xr,I,or]];tg[R.ConnectionEnd.server]=[[I,ar,xr,I,or],[I,ar,xr,I,or],[I,ar,xr,I,or],[I,ar,xr,I,or],[EE,ar,I,I,or],[I,ar,xr,I,or],[I,ar,xr,bE,or],[I,ar,xr,I,or]];var Di=R.handleHelloRequest,G3=R.handleServerHello,TE=R.handleCertificate,Wy=R.handleServerKeyExchange,ch=R.handleCertificateRequest,Ku=R.handleServerHelloDone,AE=R.handleFinished,cd=[];cd[R.ConnectionEnd.client]=[[I,I,G3,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Di,I,I,I,I,I,I,I,I,I,I,TE,Wy,ch,Ku,I,I,I,I,I,I],[Di,I,I,I,I,I,I,I,I,I,I,I,Wy,ch,Ku,I,I,I,I,I,I],[Di,I,I,I,I,I,I,I,I,I,I,I,I,ch,Ku,I,I,I,I,I,I],[Di,I,I,I,I,I,I,I,I,I,I,I,I,I,Ku,I,I,I,I,I,I],[Di,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Di,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,AE],[Di,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[Di,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]];var W3=R.handleClientHello,Q3=R.handleClientKeyExchange,Y3=R.handleCertificateVerify;cd[R.ConnectionEnd.server]=[[I,W3,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,TE,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,Q3,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,Y3,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,AE],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]];R.generateKeys=function(e,t){var r=df,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===R.Versions.TLS_1_0.major&&e.version.minor===R.Versions.TLS_1_0.minor;a&&(i+=2*t.fixed_iv_length);var o=r(t.master_secret,"key expansion",n,i),s={client_write_MAC_key:o.getBytes(t.mac_key_length),server_write_MAC_key:o.getBytes(t.mac_key_length),client_write_key:o.getBytes(t.enc_key_length),server_write_key:o.getBytes(t.enc_key_length)};return a&&(s.client_write_IV=o.getBytes(t.fixed_iv_length),s.server_write_IV=o.getBytes(t.fixed_iv_length)),s};R.createConnectionState=function(e){var t=e.entity===R.ConnectionEnd.client,r=function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(o){return!0},compressionState:null,compressFunction:function(o){return!0},updateSequenceNumber:function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]}};return a},n={read:r(),write:r()};if(n.read.update=function(a,o){return n.read.cipherFunction(o,n.read)?n.read.compressFunction(a,o,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,o){return n.write.compressFunction(a,o,n.write)?n.write.cipherFunction(o,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.internal_error}}),!a.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=R.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case R.CompressionMethod.none:break;case R.CompressionMethod.deflate:n.read.compressFunction=L3,n.write.compressFunction=D3;break;default:throw new Error("Unsupported compression algorithm.")}}return n};R.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=X.util.createBuffer();return r.putInt32(t),r.putBytes(X.random.getBytes(28)),r};R.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};R.createAlert=function(e,t){var r=X.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),R.createRecord(e,{type:R.ContentType.alert,data:r})};R.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=X.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),a=X.util.createBuffer();a.putByte(R.CompressionMethod.none);var o=a.length(),s=X.util.createBuffer();if(e.virtualHost){var l=X.util.createBuffer();l.putByte(0),l.putByte(0);var u=X.util.createBuffer();u.putByte(0),tn(u,2,X.util.createBuffer(e.virtualHost));var c=X.util.createBuffer();tn(c,2,u),tn(l,2,c),s.putBuffer(l)}var d=s.length();d>0&&(d+=2);var p=e.session.id,C=p.length+1+2+4+28+2+i+1+o+d,h=X.util.createBuffer();return h.putByte(R.HandshakeType.client_hello),h.putInt24(C),h.putByte(e.version.major),h.putByte(e.version.minor),h.putBytes(e.session.sp.client_random),tn(h,1,X.util.createBuffer(p)),tn(h,2,t),tn(h,1,a),d>0&&tn(h,2,s),h};R.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=X.util.createBuffer();return n.putByte(R.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),tn(n,1,X.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};R.createCertificate=function(e){var t=e.entity===R.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var i=X.util.createBuffer();if(r!==null)try{X.util.isArray(r)||(r=[r]);for(var a=null,o=0;o<r.length;++o){var s=X.pem.decode(r[o])[0];if(s.type!=="CERTIFICATE"&&s.type!=="X509 CERTIFICATE"&&s.type!=="TRUSTED CERTIFICATE"){var l=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw l.headerType=s.type,l}if(s.procType&&s.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=X.util.createBuffer(s.body);a===null&&(a=X.asn1.fromDer(u.bytes(),!1));var c=X.util.createBuffer();tn(c,3,u),i.putBuffer(c)}r=X.pki.certificateFromAsn1(a),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(C){return e.error(e,{message:"Could not send certificate list.",cause:C,send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.bad_certificate}})}var d=3+i.length(),p=X.util.createBuffer();return p.putByte(R.HandshakeType.certificate),p.putInt24(d),tn(p,3,i),p};R.createClientKeyExchange=function(e){var t=X.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(X.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var i=t.length+2,a=X.util.createBuffer();return a.putByte(R.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(t.length),a.putBytes(t),a};R.createServerKeyExchange=function(e){var t=X.util.createBuffer();return t};R.getClientSignature=function(e,t){var r=X.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,i,a){var o=null;if(n.getPrivateKey)try{o=n.getPrivateKey(n,n.session.clientCertificate),o=X.pki.privateKeyFromPem(o)}catch(s){n.error(n,{message:"Could not get private key.",cause:s,send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.internal_error}})}o===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.internal_error}}):i=o.sign(i,null),a(n,i)},e.getSignature(e,r,t)};R.createCertificateVerify=function(e,t){var r=t.length+2,n=X.util.createBuffer();return n.putByte(R.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};R.createCertificateRequest=function(e){var t=X.util.createBuffer();t.putByte(1);var r=X.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],a=X.pki.distinguishedNameToAsn1(i.subject),o=X.asn1.toDer(a);r.putInt16(o.length()),r.putBuffer(o)}var s=1+t.length()+2+r.length(),l=X.util.createBuffer();return l.putByte(R.HandshakeType.certificate_request),l.putInt24(s),tn(l,1,t),tn(l,2,r),l};R.createServerHelloDone=function(e){var t=X.util.createBuffer();return t.putByte(R.HandshakeType.server_hello_done),t.putInt24(0),t};R.createChangeCipherSpec=function(){var e=X.util.createBuffer();return e.putByte(1),e};R.createFinished=function(e){var t=X.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===R.ConnectionEnd.client,n=e.session.sp,i=12,a=df,o=r?"client finished":"server finished";t=a(n.master_secret,o,t.getBytes(),i);var s=X.util.createBuffer();return s.putByte(R.HandshakeType.finished),s.putInt24(t.length()),s.putBuffer(t),s};R.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=X.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),a=Math.max(16,i-r-3);return n.putBytes(X.random.getBytes(a)),n};R.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===R.ContentType.handshake||t.type===R.ContentType.alert||t.type===R.ContentType.change_cipher_spec))){if(t.type===R.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=R.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>R.MaxFragment;)n.push(R.createRecord(e,{type:t.type,data:X.util.createBuffer(i.slice(0,R.MaxFragment))})),i=i.slice(R.MaxFragment);i.length>0&&n.push(R.createRecord(e,{type:t.type,data:X.util.createBuffer(i)}))}for(var a=0;a<n.length&&!e.fail;++a){var o=n[a],s=e.state.current.write;s.update(e,o)&&e.records.push(o)}}};R.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var dh=function(e){switch(e){case!0:return!0;case X.pki.certificateError.bad_certificate:return R.Alert.Description.bad_certificate;case X.pki.certificateError.unsupported_certificate:return R.Alert.Description.unsupported_certificate;case X.pki.certificateError.certificate_revoked:return R.Alert.Description.certificate_revoked;case X.pki.certificateError.certificate_expired:return R.Alert.Description.certificate_expired;case X.pki.certificateError.certificate_unknown:return R.Alert.Description.certificate_unknown;case X.pki.certificateError.unknown_ca:return R.Alert.Description.unknown_ca;default:return R.Alert.Description.bad_certificate}},X3=function(e){switch(e){case!0:return!0;case R.Alert.Description.bad_certificate:return X.pki.certificateError.bad_certificate;case R.Alert.Description.unsupported_certificate:return X.pki.certificateError.unsupported_certificate;case R.Alert.Description.certificate_revoked:return X.pki.certificateError.certificate_revoked;case R.Alert.Description.certificate_expired:return X.pki.certificateError.certificate_expired;case R.Alert.Description.certificate_unknown:return X.pki.certificateError.certificate_unknown;case R.Alert.Description.unknown_ca:return X.pki.certificateError.unknown_ca;default:return X.pki.certificateError.bad_certificate}};R.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(a,o,s){var l=dh(a),u=e.verify(e,a,o,s);if(u!==!0){if(typeof u=="object"&&!X.util.isArray(u)){var c=new Error("The application rejected the certificate.");throw c.send=!0,c.alert={level:R.Alert.Level.fatal,description:R.Alert.Description.bad_certificate},u.message&&(c.message=u.message),u.alert&&(c.alert.description=u.alert),c}u!==a&&(u=X3(u))}return u},X.pki.verifyCertificateChain(e.caStore,t,r)}catch(a){var i=a;(typeof i!="object"||X.util.isArray(i))&&(i={send:!0,alert:{level:R.Alert.Level.fatal,description:dh(a)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:R.Alert.Level.fatal,description:dh(i.error)}),e.error(e,i)}return!e.fail};R.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(i){var a=null,o=null;if(i?o=X.util.bytesToHex(i):r.order.length>0&&(o=r.order[0]),o!==null&&o in r.cache){a=r.cache[o],delete r.cache[o];for(var s in r.order)if(r.order[s]===o){r.order.splice(s,1);break}}return a},r.setSession=function(i,a){if(r.order.length===r.capacity){var o=r.order.shift();delete r.cache[o]}var o=X.util.bytesToHex(i);r.order.push(o),r.cache[o]=a}}return r};R.createConnection=function(e){var t=null;e.caStore?X.util.isArray(e.caStore)?t=X.pki.createCaStore(e.caStore):t=e.caStore:t=X.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in R.CipherSuites)r.push(R.CipherSuites[n])}var i=e.server?R.ConnectionEnd.server:R.ConnectionEnd.client,a=e.sessionCache?R.createSessionCache(e.sessionCache):null,o={version:{major:R.Version.major,minor:R.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(c,d,p,C){return d},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:X.util.createBuffer(),tlsData:X.util.createBuffer(),data:X.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(c,d){d.origin=d.origin||(c.entity===R.ConnectionEnd.client?"client":"server"),d.send&&(R.queue(c,R.createAlert(c,d.alert)),R.flush(c));var p=d.fatal!==!1;p&&(c.fail=!0),e.error(c,d),p&&c.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};o.reset=function(c){o.version={major:R.Version.major,minor:R.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=o.entity===R.ConnectionEnd.client?M3:$3,o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(c||typeof c>"u"),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=R.createConnectionState(o)},o.reset();var s=function(c,d){var p=d.type-R.ContentType.change_cipher_spec,C=tg[c.entity][c.expect];p in C?C[p](c,d):R.handleUnexpected(c,d)},l=function(c){var d=0,p=c.input,C=p.length();if(C<5)d=5-C;else{c.record={type:p.getByte(),version:{major:p.getByte(),minor:p.getByte()},length:p.getInt16(),fragment:X.util.createBuffer(),ready:!1};var h=c.record.version.major===c.version.major;h&&c.session&&c.session.version&&(h=c.record.version.minor===c.version.minor),h||c.error(c,{message:"Incompatible TLS version.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.protocol_version}})}return d},u=function(c){var d=0,p=c.input,C=p.length();if(C<c.record.length)d=c.record.length-C;else{c.record.fragment.putBytes(p.getBytes(c.record.length)),p.compact();var h=c.state.current.read;h.update(c,c.record)&&(c.fragmented!==null&&(c.fragmented.type===c.record.type?(c.fragmented.fragment.putBuffer(c.record.fragment),c.record=c.fragmented):c.error(c,{message:"Invalid fragmented record.",send:!0,alert:{level:R.Alert.Level.fatal,description:R.Alert.Description.unexpected_message}})),c.record.ready=!0)}return d};return o.handshake=function(c){if(o.entity!==R.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&o.handshakes===0&&(o.fail=!1),o.handshaking=!0,c=c||"";var d=null;c.length>0&&(o.sessionCache&&(d=o.sessionCache.getSession(c)),d===null&&(c="")),c.length===0&&o.sessionCache&&(d=o.sessionCache.getSession(),d!==null&&(c=d.id)),o.session={id:c,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:X.md.md5.create(),sha1:X.md.sha1.create()},d&&(o.version=d.version,o.session.sp=d.sp),o.session.sp.client_random=R.createRandom().getBytes(),o.open=!0,R.queue(o,R.createRecord(o,{type:R.ContentType.handshake,data:R.createClientHello(o)})),R.flush(o)}},o.process=function(c){var d=0;return c&&o.input.putBytes(c),o.fail||(o.record!==null&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),o.record===null&&(d=l(o)),!o.fail&&o.record!==null&&!o.record.ready&&(d=u(o)),!o.fail&&o.record!==null&&o.record.ready&&s(o,o.record)),d},o.prepare=function(c){return R.queue(o,R.createRecord(o,{type:R.ContentType.application_data,data:X.util.createBuffer(c)})),R.flush(o)},o.prepareHeartbeatRequest=function(c,d){return c instanceof X.util.ByteBuffer&&(c=c.bytes()),typeof d>"u"&&(d=c.length),o.expectedHeartbeatPayload=c,R.queue(o,R.createRecord(o,{type:R.ContentType.heartbeat,data:R.createHeartbeat(R.HeartbeatMessageType.heartbeat_request,c,d)})),R.flush(o)},o.close=function(c){if(!o.fail&&o.sessionCache&&o.session){var d={id:o.session.id,version:o.session.version,sp:o.session.sp};d.sp.keys=null,o.sessionCache.setSession(d.id,d)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,R.queue(o,R.createAlert(o,{level:R.Alert.Level.warning,description:R.Alert.Description.close_notify})),R.flush(o)),o.closed(o)),o.reset(c)},o};X.tls=X.tls||{};for(var fh in R)typeof R[fh]!="function"&&(X.tls[fh]=R[fh]);X.tls.prf_tls1=df;X.tls.hmac_sha1=B3;X.tls.createSessionCache=R.createSessionCache;X.tls.createConnection=R.createConnection;var sa=Ke,un=sa.tls;un.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=un.BulkCipherAlgorithm.aes,e.cipher_type=un.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=un.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:kE};un.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=un.BulkCipherAlgorithm.aes,e.cipher_type=un.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=un.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:kE};function kE(e,t,r){var n=t.entity===sa.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:sa.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:sa.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=tD,e.write.cipherFunction=J3,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=un.hmac_sha1}function J3(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var i;e.version.minor===un.Versions.TLS_1_0.minor?i=t.cipherState.init?null:t.cipherState.iv:i=sa.random.getBytesSync(16),t.cipherState.init=!0;var a=t.cipherState.cipher;return a.start({iv:i}),e.version.minor>=un.Versions.TLS_1_1.minor&&a.output.putBytes(i),a.update(e.fragment),a.finish(Z3)&&(e.fragment=a.output,e.length=e.fragment.length(),r=!0),r}function Z3(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function eD(e,t,r){var n=!0;if(r){for(var i=t.length(),a=t.last(),o=i-1-a;o<i-1;++o)n=n&&t.at(o)==a;n&&t.truncate(a+1)}return n}function tD(e,t){var r=!1,n;e.version.minor===un.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var i=t.cipherState.cipher;i.start({iv:n}),i.update(e.fragment),r=i.finish(eD);var a=t.macLength,o=sa.random.getBytesSync(a),s=i.output.length();s>=a?(e.fragment=i.output.getBytes(s-a),o=i.output.getBytes(a)):e.fragment=i.output.getBytes(),e.fragment=sa.util.createBuffer(e.fragment),e.length=e.fragment.length();var l=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=rD(t.macKey,o,l)&&r,r}function rD(e,t,r){var n=sa.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}var Ct=Ke,su=Ct.sha512=Ct.sha512||{};Ct.md.sha512=Ct.md.algorithms.sha512=su;var IE=Ct.sha384=Ct.sha512.sha384=Ct.sha512.sha384||{};IE.create=function(){return su.create("SHA-384")};Ct.md.sha384=Ct.md.algorithms.sha384=IE;Ct.sha512.sha256=Ct.sha512.sha256||{create:function(){return su.create("SHA-512/256")}};Ct.md["sha512/256"]=Ct.md.algorithms["sha512/256"]=Ct.sha512.sha256;Ct.sha512.sha224=Ct.sha512.sha224||{create:function(){return su.create("SHA-512/224")}};Ct.md["sha512/224"]=Ct.md.algorithms["sha512/224"]=Ct.sha512.sha224;su.create=function(e){if(NE||nD(),typeof e>"u"&&(e="SHA-512"),!(e in _a))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=_a[e],r=null,n=Ct.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var o=64;switch(e){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var s={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength128=[];for(var l=s.messageLengthSize/4,u=0;u<l;++u)s.fullMessageLength.push(0);n=Ct.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return s},s.start(),s.update=function(l,u){u==="utf8"&&(l=Ct.util.encodeUtf8(l));var c=l.length;s.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var d=s.fullMessageLength.length-1;d>=0;--d)s.fullMessageLength[d]+=c[1],c[1]=c[0]+(s.fullMessageLength[d]/4294967296>>>0),s.fullMessageLength[d]=s.fullMessageLength[d]>>>0,c[0]=c[1]/4294967296>>>0;return n.putBytes(l),Qy(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),s},s.digest=function(){var l=Ct.util.createBuffer();l.putBytes(n.bytes());var u=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,c=u&s.blockLength-1;l.putBytes(Yp.substr(0,s.blockLength-c));for(var d,p,C=s.fullMessageLength[0]*8,h=0;h<s.fullMessageLength.length-1;++h)d=s.fullMessageLength[h+1]*8,p=d/4294967296>>>0,C+=p,l.putInt32(C>>>0),C=d>>>0;l.putInt32(C);for(var v=new Array(r.length),h=0;h<r.length;++h)v[h]=r[h].slice(0);Qy(v,i,l);var S=Ct.util.createBuffer(),m;e==="SHA-512"?m=v.length:e==="SHA-384"?m=v.length-2:m=v.length-4;for(var h=0;h<m;++h)S.putInt32(v[h][0]),(h!==m-1||e!=="SHA-512/224")&&S.putInt32(v[h][1]);return S},s};var Yp=null,NE=!1,Xp=null,_a=null;function nD(){Yp=String.fromCharCode(128),Yp+=Ct.util.fillString(String.fromCharCode(0),128),Xp=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],_a={},_a["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],_a["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],_a["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],_a["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],NE=!0}function Qy(e,t,r){for(var n,i,a,o,s,l,u,c,d,p,C,h,v,S,m,g,y,w,E,b,T,_,M,D,A,B,F,L,P,$,K,H,j,q,te,G=r.length();G>=128;){for(P=0;P<16;++P)t[P][0]=r.getInt32()>>>0,t[P][1]=r.getInt32()>>>0;for(;P<80;++P)H=t[P-2],$=H[0],K=H[1],n=(($>>>19|K<<13)^(K>>>29|$<<3)^$>>>6)>>>0,i=(($<<13|K>>>19)^(K<<3|$>>>29)^($<<26|K>>>6))>>>0,q=t[P-15],$=q[0],K=q[1],a=(($>>>1|K<<31)^($>>>8|K<<24)^$>>>7)>>>0,o=(($<<31|K>>>1)^($<<24|K>>>8)^($<<25|K>>>7))>>>0,j=t[P-7],te=t[P-16],K=i+j[1]+o+te[1],t[P][0]=n+j[0]+a+te[0]+(K/4294967296>>>0)>>>0,t[P][1]=K>>>0;for(v=e[0][0],S=e[0][1],m=e[1][0],g=e[1][1],y=e[2][0],w=e[2][1],E=e[3][0],b=e[3][1],T=e[4][0],_=e[4][1],M=e[5][0],D=e[5][1],A=e[6][0],B=e[6][1],F=e[7][0],L=e[7][1],P=0;P<80;++P)u=((T>>>14|_<<18)^(T>>>18|_<<14)^(_>>>9|T<<23))>>>0,c=((T<<18|_>>>14)^(T<<14|_>>>18)^(_<<23|T>>>9))>>>0,d=(A^T&(M^A))>>>0,p=(B^_&(D^B))>>>0,s=((v>>>28|S<<4)^(S>>>2|v<<30)^(S>>>7|v<<25))>>>0,l=((v<<4|S>>>28)^(S<<30|v>>>2)^(S<<25|v>>>7))>>>0,C=(v&m|y&(v^m))>>>0,h=(S&g|w&(S^g))>>>0,K=L+c+p+Xp[P][1]+t[P][1],n=F+u+d+Xp[P][0]+t[P][0]+(K/4294967296>>>0)>>>0,i=K>>>0,K=l+h,a=s+C+(K/4294967296>>>0)>>>0,o=K>>>0,F=A,L=B,A=M,B=D,M=T,D=_,K=b+i,T=E+n+(K/4294967296>>>0)>>>0,_=K>>>0,E=y,b=w,y=m,w=g,m=v,g=S,K=i+o,v=n+a+(K/4294967296>>>0)>>>0,S=K>>>0;K=e[0][1]+S,e[0][0]=e[0][0]+v+(K/4294967296>>>0)>>>0,e[0][1]=K>>>0,K=e[1][1]+g,e[1][0]=e[1][0]+m+(K/4294967296>>>0)>>>0,e[1][1]=K>>>0,K=e[2][1]+w,e[2][0]=e[2][0]+y+(K/4294967296>>>0)>>>0,e[2][1]=K>>>0,K=e[3][1]+b,e[3][0]=e[3][0]+E+(K/4294967296>>>0)>>>0,e[3][1]=K>>>0,K=e[4][1]+_,e[4][0]=e[4][0]+T+(K/4294967296>>>0)>>>0,e[4][1]=K>>>0,K=e[5][1]+D,e[5][0]=e[5][0]+M+(K/4294967296>>>0)>>>0,e[5][1]=K>>>0,K=e[6][1]+B,e[6][0]=e[6][0]+A+(K/4294967296>>>0)>>>0,e[6][1]=K>>>0,K=e[7][1]+L,e[7][0]=e[7][0]+F+(K/4294967296>>>0)>>>0,e[7][1]=K>>>0,G-=128}}var rg={},iD=Ke,Yt=iD.asn1;rg.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};rg.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]};var lr=Ke,RE=rg,aD=RE.publicKeyValidator,oD=RE.privateKeyValidator;if(typeof sD>"u")var sD=lr.jsbn.BigInteger;var Jp=lr.util.ByteBuffer,Pr=typeof Buffer>"u"?Uint8Array:Buffer;lr.pki=lr.pki||{};lr.pki.ed25519=lr.ed25519=lr.ed25519||{};var je=lr.ed25519;je.constants={};je.constants.PUBLIC_KEY_BYTE_LENGTH=32;je.constants.PRIVATE_KEY_BYTE_LENGTH=64;je.constants.SEED_BYTE_LENGTH=32;je.constants.SIGN_BYTE_LENGTH=64;je.constants.HASH_BYTE_LENGTH=64;je.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=lr.random.getBytesSync(je.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==je.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+je.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=vi({message:t,encoding:"binary"});for(var r=new Pr(je.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Pr(je.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return dD(r,n),{publicKey:r,privateKey:n}};je.privateKeyFromAsn1=function(e){var t={},r=[],n=lr.asn1.validate(e,oD,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=lr.asn1.derToOid(t.privateKeyOid),o=lr.oids.EdDSA25519;if(a!==o)throw new Error('Invalid OID "'+a+'"; OID must be "'+o+'".');var s=t.privateKey,l=vi({message:lr.asn1.fromDer(s).value,encoding:"binary"});return{privateKeyBytes:l}};je.publicKeyFromAsn1=function(e){var t={},r=[],n=lr.asn1.validate(e,aD,t,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=lr.asn1.derToOid(t.publicKeyOid),o=lr.oids.EdDSA25519;if(a!==o)throw new Error('Invalid OID "'+a+'"; OID must be "'+o+'".');var s=t.ed25519PublicKey;if(s.length!==je.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return vi({message:s,encoding:"binary"})};je.publicKeyFromPrivateKey=function(e){e=e||{};var t=vi({message:e.privateKey,encoding:"binary"});if(t.length!==je.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+je.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Pr(je.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};je.sign=function(e){e=e||{};var t=vi(e),r=vi({message:e.privateKey,encoding:"binary"});if(r.length===je.constants.SEED_BYTE_LENGTH){var n=je.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==je.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+je.constants.SEED_BYTE_LENGTH+" or "+je.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Pr(je.constants.SIGN_BYTE_LENGTH+t.length);fD(i,t,t.length,r);for(var a=new Pr(je.constants.SIGN_BYTE_LENGTH),o=0;o<a.length;++o)a[o]=i[o];return a};je.verify=function(e){e=e||{};var t=vi(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=vi({message:e.signature,encoding:"binary"});if(r.length!==je.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+je.constants.SIGN_BYTE_LENGTH);var n=vi({message:e.publicKey,encoding:"binary"});if(n.length!==je.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+je.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Pr(je.constants.SIGN_BYTE_LENGTH+t.length),a=new Pr(je.constants.SIGN_BYTE_LENGTH+t.length),o;for(o=0;o<je.constants.SIGN_BYTE_LENGTH;++o)i[o]=r[o];for(o=0;o<t.length;++o)i[o+je.constants.SIGN_BYTE_LENGTH]=t[o];return hD(a,i,i.length,n)>=0};function vi(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Pr)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Jp(t,r)}else if(!(t instanceof Jp))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Pr(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}var Zp=Ie(),dd=Ie([1]),lD=Ie([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),uD=Ie([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Yy=Ie([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Xy=Ie([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),hh=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),cD=Ie([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function cl(e,t){var r=lr.md.sha512.create(),n=new Jp(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var a=new Pr(je.constants.HASH_BYTE_LENGTH),o=0;o<64;++o)a[o]=i.charCodeAt(o);return a}function dD(e,t){var r=[Ie(),Ie(),Ie(),Ie()],n,i=cl(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,ig(r,i),ng(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}function fD(e,t,r,n){var i,a,o=new Float64Array(64),s=[Ie(),Ie(),Ie(),Ie()],l=cl(n,32);l[0]&=248,l[31]&=127,l[31]|=64;var u=r+64;for(i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=l[32+i];var c=cl(e.subarray(32),r+32);for(e0(c),ig(s,c),ng(e,s),i=32;i<64;++i)e[i]=n[i];var d=cl(e,r+64);for(e0(d),i=32;i<64;++i)o[i]=0;for(i=0;i<32;++i)o[i]=c[i];for(i=0;i<32;++i)for(a=0;a<32;a++)o[i+a]+=d[i]*l[a];return _E(e.subarray(32),o),u}function hD(e,t,r,n){var i,a,o=new Pr(32),s=[Ie(),Ie(),Ie(),Ie()],l=[Ie(),Ie(),Ie(),Ie()];if(a=-1,r<64||pD(l,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var u=cl(e,r);if(e0(u),LE(s,l,u),ig(l,t.subarray(32)),t0(s,l),ng(o,s),r-=64,BE(t,0,o,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return a=r,a}function _E(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*hh[i-(n-32)],r=t[i]+128>>8,t[i]-=r*256;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*hh[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*hh[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}function e0(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;_E(e,t)}function t0(e,t){var r=Ie(),n=Ie(),i=Ie(),a=Ie(),o=Ie(),s=Ie(),l=Ie(),u=Ie(),c=Ie();No(r,e[1],e[0]),No(c,t[1],t[0]),ct(r,r,c),po(n,e[0],e[1]),po(c,t[0],t[1]),ct(n,n,c),ct(i,e[3],t[3]),ct(i,i,uD),ct(a,e[2],t[2]),po(a,a,a),No(o,n,r),No(s,a,i),po(l,a,i),po(u,n,r),ct(e[0],o,s),ct(e[1],u,l),ct(e[2],l,s),ct(e[3],o,u)}function Jy(e,t,r){for(var n=0;n<4;++n)ME(e[n],t[n],r)}function ng(e,t){var r=Ie(),n=Ie(),i=Ie();yD(i,t[2]),ct(r,t[0],i),ct(n,t[1],i),fd(e,n),e[31]^=DE(r)<<7}function fd(e,t){var r,n,i,a=Ie(),o=Ie();for(r=0;r<16;++r)o[r]=t[r];for(ph(o),ph(o),ph(o),n=0;n<2;++n){for(a[0]=o[0]-65517,r=1;r<15;++r)a[r]=o[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,ME(o,a,1-i)}for(r=0;r<16;r++)e[2*r]=o[r]&255,e[2*r+1]=o[r]>>8}function pD(e,t){var r=Ie(),n=Ie(),i=Ie(),a=Ie(),o=Ie(),s=Ie(),l=Ie();return Wi(e[2],dd),mD(e[1],t),Ba(i,e[1]),ct(a,i,lD),No(i,i,e[2]),po(a,e[2],a),Ba(o,a),Ba(s,o),ct(l,s,o),ct(r,l,i),ct(r,r,a),gD(r,r),ct(r,r,i),ct(r,r,a),ct(r,r,a),ct(e[0],r,a),Ba(n,e[0]),ct(n,n,a),Zy(n,i)&&ct(e[0],e[0],cD),Ba(n,e[0]),ct(n,n,a),Zy(n,i)?-1:(DE(e[0])===t[31]>>7&&No(e[0],Zp,e[0]),ct(e[3],e[0],e[1]),0)}function mD(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function gD(e,t){var r=Ie(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)Ba(r,r),n!==1&&ct(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function Zy(e,t){var r=new Pr(32),n=new Pr(32);return fd(r,e),fd(n,t),BE(r,0,n,0)}function BE(e,t,r,n){return vD(e,t,r,n,32)}function vD(e,t,r,n,i){var a,o=0;for(a=0;a<i;++a)o|=e[t+a]^r[n+a];return(1&o-1>>>8)-1}function DE(e){var t=new Pr(32);return fd(t,e),t[0]&1}function LE(e,t,r){var n,i;for(Wi(e[0],Zp),Wi(e[1],dd),Wi(e[2],dd),Wi(e[3],Zp),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,Jy(e,t,n),t0(t,e),t0(e,e),Jy(e,t,n)}function ig(e,t){var r=[Ie(),Ie(),Ie(),Ie()];Wi(r[0],Yy),Wi(r[1],Xy),Wi(r[2],dd),ct(r[3],Yy,Xy),LE(e,r,t)}function Wi(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}function yD(e,t){var r=Ie(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)Ba(r,r),n!==2&&n!==4&&ct(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}function ph(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}function ME(e,t,r){for(var n,i=~(r-1),a=0;a<16;++a)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function Ie(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function po(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function No(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function Ba(e,t){ct(e,t,t)}function ct(e,t,r){var n,i,a=0,o=0,s=0,l=0,u=0,c=0,d=0,p=0,C=0,h=0,v=0,S=0,m=0,g=0,y=0,w=0,E=0,b=0,T=0,_=0,M=0,D=0,A=0,B=0,F=0,L=0,P=0,$=0,K=0,H=0,j=0,q=r[0],te=r[1],G=r[2],ne=r[3],Q=r[4],ee=r[5],ve=r[6],ye=r[7],Ee=r[8],be=r[9],$e=r[10],oe=r[11],Be=r[12],Oe=r[13],Ue=r[14],Ce=r[15];n=t[0],a+=n*q,o+=n*te,s+=n*G,l+=n*ne,u+=n*Q,c+=n*ee,d+=n*ve,p+=n*ye,C+=n*Ee,h+=n*be,v+=n*$e,S+=n*oe,m+=n*Be,g+=n*Oe,y+=n*Ue,w+=n*Ce,n=t[1],o+=n*q,s+=n*te,l+=n*G,u+=n*ne,c+=n*Q,d+=n*ee,p+=n*ve,C+=n*ye,h+=n*Ee,v+=n*be,S+=n*$e,m+=n*oe,g+=n*Be,y+=n*Oe,w+=n*Ue,E+=n*Ce,n=t[2],s+=n*q,l+=n*te,u+=n*G,c+=n*ne,d+=n*Q,p+=n*ee,C+=n*ve,h+=n*ye,v+=n*Ee,S+=n*be,m+=n*$e,g+=n*oe,y+=n*Be,w+=n*Oe,E+=n*Ue,b+=n*Ce,n=t[3],l+=n*q,u+=n*te,c+=n*G,d+=n*ne,p+=n*Q,C+=n*ee,h+=n*ve,v+=n*ye,S+=n*Ee,m+=n*be,g+=n*$e,y+=n*oe,w+=n*Be,E+=n*Oe,b+=n*Ue,T+=n*Ce,n=t[4],u+=n*q,c+=n*te,d+=n*G,p+=n*ne,C+=n*Q,h+=n*ee,v+=n*ve,S+=n*ye,m+=n*Ee,g+=n*be,y+=n*$e,w+=n*oe,E+=n*Be,b+=n*Oe,T+=n*Ue,_+=n*Ce,n=t[5],c+=n*q,d+=n*te,p+=n*G,C+=n*ne,h+=n*Q,v+=n*ee,S+=n*ve,m+=n*ye,g+=n*Ee,y+=n*be,w+=n*$e,E+=n*oe,b+=n*Be,T+=n*Oe,_+=n*Ue,M+=n*Ce,n=t[6],d+=n*q,p+=n*te,C+=n*G,h+=n*ne,v+=n*Q,S+=n*ee,m+=n*ve,g+=n*ye,y+=n*Ee,w+=n*be,E+=n*$e,b+=n*oe,T+=n*Be,_+=n*Oe,M+=n*Ue,D+=n*Ce,n=t[7],p+=n*q,C+=n*te,h+=n*G,v+=n*ne,S+=n*Q,m+=n*ee,g+=n*ve,y+=n*ye,w+=n*Ee,E+=n*be,b+=n*$e,T+=n*oe,_+=n*Be,M+=n*Oe,D+=n*Ue,A+=n*Ce,n=t[8],C+=n*q,h+=n*te,v+=n*G,S+=n*ne,m+=n*Q,g+=n*ee,y+=n*ve,w+=n*ye,E+=n*Ee,b+=n*be,T+=n*$e,_+=n*oe,M+=n*Be,D+=n*Oe,A+=n*Ue,B+=n*Ce,n=t[9],h+=n*q,v+=n*te,S+=n*G,m+=n*ne,g+=n*Q,y+=n*ee,w+=n*ve,E+=n*ye,b+=n*Ee,T+=n*be,_+=n*$e,M+=n*oe,D+=n*Be,A+=n*Oe,B+=n*Ue,F+=n*Ce,n=t[10],v+=n*q,S+=n*te,m+=n*G,g+=n*ne,y+=n*Q,w+=n*ee,E+=n*ve,b+=n*ye,T+=n*Ee,_+=n*be,M+=n*$e,D+=n*oe,A+=n*Be,B+=n*Oe,F+=n*Ue,L+=n*Ce,n=t[11],S+=n*q,m+=n*te,g+=n*G,y+=n*ne,w+=n*Q,E+=n*ee,b+=n*ve,T+=n*ye,_+=n*Ee,M+=n*be,D+=n*$e,A+=n*oe,B+=n*Be,F+=n*Oe,L+=n*Ue,P+=n*Ce,n=t[12],m+=n*q,g+=n*te,y+=n*G,w+=n*ne,E+=n*Q,b+=n*ee,T+=n*ve,_+=n*ye,M+=n*Ee,D+=n*be,A+=n*$e,B+=n*oe,F+=n*Be,L+=n*Oe,P+=n*Ue,$+=n*Ce,n=t[13],g+=n*q,y+=n*te,w+=n*G,E+=n*ne,b+=n*Q,T+=n*ee,_+=n*ve,M+=n*ye,D+=n*Ee,A+=n*be,B+=n*$e,F+=n*oe,L+=n*Be,P+=n*Oe,$+=n*Ue,K+=n*Ce,n=t[14],y+=n*q,w+=n*te,E+=n*G,b+=n*ne,T+=n*Q,_+=n*ee,M+=n*ve,D+=n*ye,A+=n*Ee,B+=n*be,F+=n*$e,L+=n*oe,P+=n*Be,$+=n*Oe,K+=n*Ue,H+=n*Ce,n=t[15],w+=n*q,E+=n*te,b+=n*G,T+=n*ne,_+=n*Q,M+=n*ee,D+=n*ve,A+=n*ye,B+=n*Ee,F+=n*be,L+=n*$e,P+=n*oe,$+=n*Be,K+=n*Oe,H+=n*Ue,j+=n*Ce,a+=38*E,o+=38*b,s+=38*T,l+=38*_,u+=38*M,c+=38*D,d+=38*A,p+=38*B,C+=38*F,h+=38*L,v+=38*P,S+=38*$,m+=38*K,g+=38*H,y+=38*j,i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,a+=i-1+37*(i-1),i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=C+i+65535,i=Math.floor(n/65536),C=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=l,e[4]=u,e[5]=c,e[6]=d,e[7]=p,e[8]=C,e[9]=h,e[10]=v,e[11]=S,e[12]=m,e[13]=g,e[14]=y,e[15]=w}var Hr=Ke;Hr.kem=Hr.kem||{};var e1=Hr.jsbn.BigInteger;Hr.kem.rsa={};Hr.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||Hr.random,n={};return n.encrypt=function(i,a){var o=Math.ceil(i.n.bitLength()/8),s;do s=new e1(Hr.util.bytesToHex(r.getBytesSync(o)),16).mod(i.n);while(s.compareTo(e1.ONE)<=0);s=Hr.util.hexToBytes(s.toString(16));var l=o-s.length;l>0&&(s=Hr.util.fillString(String.fromCharCode(0),l)+s);var u=i.encrypt(s,"NONE"),c=e.generate(s,a);return{encapsulation:u,key:c}},n.decrypt=function(i,a,o){var s=i.decrypt(a,"NONE");return e.generate(s,o)},n};Hr.kem.kdf1=function(e,t){OE(this,e,0,t||e.digestLength)};Hr.kem.kdf2=function(e,t){OE(this,e,1,t||e.digestLength)};function OE(e,t,r,n){e.generate=function(i,a){for(var o=new Hr.util.ByteBuffer,s=Math.ceil(a/n)+r,l=new Hr.util.ByteBuffer,u=r;u<s;++u){l.putInt32(u),t.start(),t.update(i+l.getBytes());var c=t.digest();o.putBytes(c.getBytes(n))}return o.truncate(o.length()-a),o.getBytes()}}var Ge=Ke;Ge.log=Ge.log||{};Ge.log.levels=["none","error","warning","info","debug","verbose","max"];var hd={},r0=[],dl=null;Ge.log.LEVEL_LOCKED=2;Ge.log.NO_LEVEL_CHECK=4;Ge.log.INTERPOLATE=8;for(var Qi=0;Qi<Ge.log.levels.length;++Qi){var t1=Ge.log.levels[Qi];hd[t1]={index:Qi,name:t1.toUpperCase()}}Ge.log.logMessage=function(e){for(var t=hd[e.level].index,r=0;r<r0.length;++r){var n=r0[r];if(n.flags&Ge.log.NO_LEVEL_CHECK)n.f(e);else{var i=hd[n.level].index;t<=i&&n.f(n,e)}}};Ge.log.prepareStandard=function(e){"standard"in e||(e.standard=hd[e.level].name+" ["+e.category+"] "+e.message)};Ge.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Ge.util.format.apply(this,t)}};Ge.log.prepareStandardFull=function(e){"standardFull"in e||(Ge.log.prepareStandard(e),e.standardFull=e.standard)};for(var r1=["error","warning","info","debug","verbose"],Qi=0;Qi<r1.length;++Qi)(function(t){Ge.log[t]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:t,category:r,message:n,arguments:i};Ge.log.logMessage(a)}})(r1[Qi]);Ge.log.makeLogger=function(e){var t={flags:0,f:e};return Ge.log.setLevel(t,"none"),t};Ge.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Ge.log.LEVEL_LOCKED))for(var n=0;n<Ge.log.levels.length;++n){var i=Ge.log.levels[n];if(t==i){e.level=t,r=!0;break}}return r};Ge.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Ge.log.LEVEL_LOCKED:e.flags&=~Ge.log.LEVEL_LOCKED};Ge.log.addLogger=function(e){r0.push(e)};if(typeof console<"u"&&"log"in console){var Ks;if(console.error&&console.warn&&console.info&&console.debug){var CD={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},ag=function(e,t){Ge.log.prepareStandard(t);var r=CD[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)};Ks=Ge.log.makeLogger(ag)}else{var ag=function(t,r){Ge.log.prepareStandardFull(r),console.log(r.standardFull)};Ks=Ge.log.makeLogger(ag)}Ge.log.setLevel(Ks,"debug"),Ge.log.addLogger(Ks),dl=Ks}else console={log:function(){}};if(dl!==null&&typeof window<"u"&&window.location){var $u=new URL(window.location.href).searchParams;if($u.has("console.level")&&Ge.log.setLevel(dl,$u.get("console.level").slice(-1)[0]),$u.has("console.lock")){var SD=$u.get("console.lock").slice(-1)[0];SD=="true"&&Ge.log.lock(dl)}}Ge.log.consoleLogger=dl;var le=Ke,U=le.asn1,Er=le.pkcs7=le.pkcs7||{};Er.messageFromPem=function(e){var t=le.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=U.fromDer(t.body);return Er.messageFromAsn1(n)};Er.messageToPem=function(e,t){var r={type:"PKCS7",body:U.toDer(e.toAsn1()).getBytes()};return le.pem.encode(r,{maxline:t})};Er.messageFromAsn1=function(e){var t={},r=[];if(!U.validate(e,Er.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=U.derToOid(t.contentType),a;switch(i){case le.pki.oids.envelopedData:a=Er.createEnvelopedData();break;case le.pki.oids.encryptedData:a=Er.createEncryptedData();break;case le.pki.oids.signedData:a=Er.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a};Er.createSignedData=function(){var e=null;return e={type:le.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(og(e,n,Er.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var i=e.rawCapture.certificates.value,a=0;a<i.length;++a)e.certificates.push(le.pki.certificateFromAsn1(i[a]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],i=0;i<e.certificates.length;++i)n.push(le.pki.certificateToAsn1(e.certificates[i]));var a=[],o=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(e.version).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&o.value[0].value.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&o.value[0].value.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,a)),o.value[0].value.push(U.create(U.Class.UNIVERSAL,U.Type.SET,!0,e.signerInfos)),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.type).getBytes()),o])},addSigner:function(n){var i=n.issuer,a=n.serialNumber;if(n.certificate){var o=n.certificate;typeof o=="string"&&(o=le.pki.certificateFromPem(o)),i=o.issuer.attributes,a=o.serialNumber}var s=n.key;if(!s)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof s=="string"&&(s=le.pki.privateKeyFromPem(s));var l=n.digestAlgorithm||le.pki.oids.sha1;switch(l){case le.pki.oids.sha1:case le.pki.oids.sha256:case le.pki.oids.sha384:case le.pki.oids.sha512:case le.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+l)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var c=!1,d=!1,p=0;p<u.length;++p){var C=u[p];if(!c&&C.type===le.pki.oids.contentType){if(c=!0,d)break;continue}if(!d&&C.type===le.pki.oids.messageDigest){if(d=!0,c)break;continue}}if(!c||!d)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:s,version:1,issuer:i,serialNumber:a,digestAlgorithm:l,signatureAlgorithm:le.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(le.pki.oids.data).getBytes())]),"content"in e)){var i;e.content instanceof le.util.ByteBuffer?i=e.content.bytes():typeof e.content=="string"&&(i=le.util.encodeUtf8(e.content)),n.detached?e.detachedContent=U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,i):e.contentInfo.value.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,i)]))}if(e.signers.length!==0){var a=t();r(a)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=le.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},i=0;i<e.signers.length;++i){var a=e.signers[i],o=a.digestAlgorithm;o in n||(n[o]=le.md[le.pki.oids[o]].create()),a.authenticatedAttributes.length===0?a.md=n[o]:a.md=le.md[le.pki.oids[o]].create()}e.digestAlgorithmIdentifiers=[];for(var o in n)e.digestAlgorithmIdentifiers.push(U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(o).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")]));return n}function r(n){var i;if(e.detachedContent?i=e.detachedContent:(i=e.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=U.derToOid(e.contentInfo.value[0].value),o=U.toDer(i);o.getByte(),U.getBerValueLength(o),o=o.getBytes();for(var s in n)n[s].start().update(o);for(var l=new Date,u=0;u<e.signers.length;++u){var c=e.signers[u];if(c.authenticatedAttributes.length===0){if(a!==le.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{c.authenticatedAttributesAsn1=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[]),p=0;p<c.authenticatedAttributes.length;++p){var C=c.authenticatedAttributes[p];C.type===le.pki.oids.messageDigest?C.value=n[c.digestAlgorithm].digest():C.type===le.pki.oids.signingTime&&(C.value||(C.value=l)),d.value.push(n0(C)),c.authenticatedAttributesAsn1.value.push(n0(C))}o=U.toDer(d).getBytes(),c.md.start().update(o)}c.signature=c.key.sign(c.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=AD(e.signers)}};Er.createEncryptedData=function(){var e=null;return e={type:le.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:le.pki.oids["aes256-CBC"]},fromAsn1:function(t){og(e,t,Er.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),PE(e)}},e};Er.createEnvelopedData=function(){var e=null;return e={type:le.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:le.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=og(e,t,Er.asn1.envelopedDataValidator);e.recipients=ED(r.recipientInfos.value)},toAsn1:function(){return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.type).getBytes()),U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(e.version).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SET,!0,bD(e.recipients)),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,kD(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],a=i.issuer;if(i.serialNumber===t.serialNumber&&a.length===r.length){for(var o=!0,s=0;s<r.length;++s)if(a[s].type!==r[s].type||a[s].value!==r[s].value){o=!1;break}if(o)return i}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case le.pki.oids.rsaEncryption:case le.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=le.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}PE(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:le.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,i,a;switch(r){case le.pki.oids["aes128-CBC"]:n=16,i=16,a=le.aes.createEncryptionCipher;break;case le.pki.oids["aes192-CBC"]:n=24,i=16,a=le.aes.createEncryptionCipher;break;case le.pki.oids["aes256-CBC"]:n=32,i=16,a=le.aes.createEncryptionCipher;break;case le.pki.oids["des-EDE3-CBC"]:n=24,i=8,a=le.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=le.util.createBuffer(le.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=le.util.createBuffer(le.random.getBytes(i));var o=a(t);if(o.start(e.encryptedContent.parameter.copy()),o.update(e.content),!o.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=o.output}for(var s=0;s<e.recipients.length;++s){var l=e.recipients[s];if(l.encryptedContent.content===void 0)switch(l.encryptedContent.algorithm){case le.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}}},e};function wD(e){var t={},r=[];if(!U.validate(e,Er.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:le.pki.RDNAttributesAsArray(t.issuer),serialNumber:le.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:U.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}function xD(e){return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(e.version).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[le.pki.distinguishedNameToAsn1({attributes:e.issuer}),U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,le.util.hexToBytes(e.serialNumber))]),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.encryptedContent.algorithm).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")]),U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function ED(e){for(var t=[],r=0;r<e.length;++r)t.push(wD(e[r]));return t}function bD(e){for(var t=[],r=0;r<e.length;++r)t.push(xD(e[r]));return t}function TD(e){var t=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(e.version).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[le.pki.distinguishedNameToAsn1({attributes:e.issuer}),U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,le.util.hexToBytes(e.serialNumber))]),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.digestAlgorithm).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.signatureAlgorithm).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])),t.value.push(U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=U.create(U.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var i=e.unauthenticatedAttributes[n];r.values.push(n0(i))}t.value.push(r)}return t}function AD(e){for(var t=[],r=0;r<e.length;++r)t.push(TD(e[r]));return t}function n0(e){var t;if(e.type===le.pki.oids.contentType)t=U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.value).getBytes());else if(e.type===le.pki.oids.messageDigest)t=U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===le.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=e.value;if(typeof i=="string"){var a=Date.parse(i);isNaN(a)?i.length===13?i=U.utcTimeToDate(i):i=U.generalizedTimeToDate(i):i=new Date(a)}i>=r&&i<n?t=U.create(U.Class.UNIVERSAL,U.Type.UTCTIME,!1,U.dateToUtcTime(i)):t=U.create(U.Class.UNIVERSAL,U.Type.GENERALIZEDTIME,!1,U.dateToGeneralizedTime(i))}return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.type).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[t])])}function kD(e){return[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(le.pki.oids.data).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(e.algorithm).getBytes()),e.parameter?U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,e.content.getBytes())])]}function og(e,t,r){var n={},i=[];if(!U.validate(t,r,n,i)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var o=U.derToOid(n.contentType);if(o!==le.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var s="";if(le.util.isArray(n.encryptedContent))for(var l=0;l<n.encryptedContent.length;++l){if(n.encryptedContent[l].type!==U.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=n.encryptedContent[l].value}else s=n.encryptedContent;e.encryptedContent={algorithm:U.derToOid(n.encAlgorithm),parameter:le.util.createBuffer(n.encParameter.value),content:le.util.createBuffer(s)}}if(n.content){var s="";if(le.util.isArray(n.content))for(var l=0;l<n.content.length;++l){if(n.content[l].type!==U.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=n.content[l].value}else s=n.content;e.content=le.util.createBuffer(s)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}function PE(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case le.pki.oids["aes128-CBC"]:case le.pki.oids["aes192-CBC"]:case le.pki.oids["aes256-CBC"]:t=le.aes.createDecryptionCipher(e.encryptedContent.key);break;case le.pki.oids.desCBC:case le.pki.oids["des-EDE3-CBC"]:t=le.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}var Ut=Ke,ff=Ut.ssh=Ut.ssh||{};ff.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",i=t===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+i+`\r
`,a+="Comment: "+r+`\r
`;var o=Ut.util.createBuffer();Ro(o,n),Un(o,e.e),Un(o,e.n);var s=Ut.util.encode64(o.bytes(),64),l=Math.floor(s.length/66)+1;a+="Public-Lines: "+l+`\r
`,a+=s;var u=Ut.util.createBuffer();Un(u,e.d),Un(u,e.p),Un(u,e.q),Un(u,e.qInv);var c;if(!t)c=Ut.util.encode64(u.bytes(),64);else{var d=u.length()+16-1;d-=d%16;var p=Hu(u.bytes());p.truncate(p.length()-d+u.length()),u.putBuffer(p);var C=Ut.util.createBuffer();C.putBuffer(Hu("\0\0\0\0",t)),C.putBuffer(Hu("\0\0\0",t));var h=Ut.aes.createEncryptionCipher(C.truncate(8),"CBC");h.start(Ut.util.createBuffer().fillWithByte(0,16)),h.update(u.copy()),h.finish();var v=h.output;v.truncate(16),c=Ut.util.encode64(v.bytes(),64)}l=Math.floor(c.length/66)+1,a+=`\r
Private-Lines: `+l+`\r
`,a+=c;var S=Hu("putty-private-key-file-mac-key",t),m=Ut.util.createBuffer();Ro(m,n),Ro(m,i),Ro(m,r),m.putInt32(o.length()),m.putBuffer(o),m.putInt32(u.length()),m.putBuffer(u);var g=Ut.hmac.create();return g.start("sha1",S),g.update(m.bytes()),a+=`\r
Private-MAC: `+g.digest().toHex()+`\r
`,a};ff.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=Ut.util.createBuffer();return Ro(n,r),Un(n,e.e),Un(n,e.n),r+" "+Ut.util.encode64(n.bytes())+" "+t};ff.privateKeyToOpenSSH=function(e,t){return t?Ut.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):Ut.pki.privateKeyToPem(e)};ff.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Ut.md.md5.create(),n="ssh-rsa",i=Ut.util.createBuffer();Ro(i,n),Un(i,e.e),Un(i,e.n),r.start(),r.update(i.getBytes());var a=r.digest();if(t.encoding==="hex"){var o=a.toHex();return t.delimiter?o.match(/.{2}/g).join(t.delimiter):o}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};function Un(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=Ut.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function Ro(e,t){e.putInt32(t.length),e.putString(t)}function Hu(){for(var e=Ut.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}var ID=Ke;const Ne=Xa(ID);let sg=null,pd=null,lu=null;const ND=e=>String.fromCharCode.apply(null,new Uint16Array(e)),RD=e=>String.fromCharCode.apply(null,new Uint8Array(e)),hf=e=>{const t=new Uint8Array(e.length);for(let r=0,n=e.length;r<n;r+=1)t[r]=e.charCodeAt(r);return t.buffer},_D=e=>{const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n+=1)r[n]=t.charCodeAt(n);return r.buffer},pf=()=>{const e=window.crypto||window.msCrypto;return e?e.webkitSubtle||e.subtle:null},BD=e=>{const t=e.indexOf(`
`),r=e.slice(t+1,-2),n=r.lastIndexOf(`
`),i=r.slice(0,n),a=atob(i),o=hf(a);return pf().importKey("pkcs8",o,{name:"RSA-OAEP",hash:{name:"SHA-1"}},!1,["decrypt"]).then(s=>(sg=s,s))},DD=e=>{const t=new ArrayBuffer(e.length*2),r=new Uint16Array(t);for(let n=0,i=e.length;n<i;n+=1)r[n]=e.charCodeAt(n);return t},LD=e=>btoa(String.fromCharCode.apply(null,new Uint8Array(e))),MD=(e,t)=>(sg=e,Xd.getWWPassCrypto(t,"AES-CBC").then(r=>{const n=new Uint8Array([176,178,97,142,156,31,45,30,81,210,85,14,202,203,86,240]);return pf().encrypt({name:"AES-CBC",iv:n},r.clientKey,DD(e)).then(LD)}));function OD(e){return lu=e.publicKeyPem,Xd.getWWPassCrypto(e.ticket,"AES-CBC").then(t=>{const r=new Uint8Array([176,178,97,142,156,31,45,30,81,210,85,14,202,203,86,240]);return pf().decrypt({name:"AES-CBC",iv:r},t.clientKey,_D(e.ePrivateKey)).then(n=>{const i=ND(n);return BD(i).catch(()=>(Op("forge privateKey"),pd=Ne.pki.privateKeyFromPem(i),pd))})})}const PD=async e=>{const t=Ne.util.hexToBytes(e);return pd.decrypt(t,"RSA-OAEP")},lg=e=>{if(pd)return PD(e);const t=hf(Ne.util.hexToBytes(e));return pf().decrypt({name:"RSA-OAEP",hash:{name:"SHA-1"}},sg,t).then(r=>RD(new Uint8Array(r))).catch(r=>console.log(r))},Ss=(e,t)=>{const n=Ne.pki.publicKeyFromPem(e).encrypt(t,"RSA-OAEP");return Ne.util.bytesToHex(n)};function ws(e,t){const r=Ne.random.getBytesSync(12),n=Ne.cipher.createCipher("AES-GCM",t);return n.start({iv:r}),n.update(Ne.util.createBuffer(e,"utf8")),n.finish(),{iv:btoa(r),data:btoa(n.output.data),tag:btoa(n.mode.tag.data)}}function FD(e){const t=Ne.random.getBytesSync(32),r=ws(e,t),n=Ss(lu,t);return{eName:r,aes_key:n,version:3}}function UD(e,t){return ws(e,t)}function VD(e){const t=Ne.random.getBytesSync(32),r=ws(e,t),n=Ss(lu,t);return{eName:r,aes_key:n,version:3}}function md(e){const t=Ne.random.getBytesSync(32),r=Ss(lu,t),n={};n.key=r,n.eName=ws(e.name,t),n.version=3,n.items=[];for(let i=0;i<e.items.length;i++)n.items.push(Rn(e.items[i].cleartext,t,e.items[i].options));if(n.folders=[],"folders"in e)for(let i=0;i<e.folders.length;i++)n.folders.push(mf(e.folders[i],t));return n}function i0(e,t){if("version"in e){const r=Ne.cipher.createDecipher("AES-GCM",t);return r.start({iv:atob(e.eName.iv),tag:atob(e.eName.tag)}),r.update(Ne.util.createBuffer(atob(e.eName.data))),r.finish(),r.output.toString("utf8").split("\0")[0]}else return e.name}function mf(e,t){const r={items:[],folders:[]};e.hasOwnProperty("name")&&(r.name=a0(e.name,t)),e.hasOwnProperty("_id")&&(r._id=e._id);for(const n of e.items){let i={};if(n.note?i.note=n.note:n.version===5&&(i.version=n.version),"file"in n){let a=UE(n,e.safe.bstringKey,t);const o=JSON.parse(Rn(n.cleartext,t,{}));o.file=Object.assign({},{...n.file}),o.file.key=btoa(a),r.items.push(JSON.stringify(o))}else r.items.push(Rn(n.cleartext,t,i))}for(let n=0;n<e.folders.length;n++)r.folders.push(mf(e.folders[n],t));return r}function ug(e,t){const r=Ne.cipher.createDecipher("AES-GCM",t);return r.start({iv:atob(e.iv),tag:atob(e.tag)}),r.update(Ne.util.createBuffer(atob(e.data))),r.finish(),r.output.toString("utf8").split("\0")}function KD(e,t){if(e.version===3||e.version===4||e.version===5)return ug(e,t);const r=Ne.cipher.createDecipher("AES-ECB",t);if(r.start({iv:Ne.random.getBytesSync(16)}),e.version===1){const n=Ne.util.hexToBytes(e.creds);r.update(Ne.util.createBuffer(n)),r.finish();const i=r.output.toString("utf8").split("\0");return[e.title,i[0],i[1],e.url,e.notes]}if(e.version===2){const n=Ne.util.hexToBytes(e.data);return r.update(Ne.util.createBuffer(n)),r.finish(),r.output.toString("utf8").split("\0")}return alert(`Error 450: cannot decode data version ${e.version}`),null}function $D(e,t){const r=Ne.cipher.createDecipher("AES-GCM",t);return r.start({iv:atob(e.iv),tag:atob(e.tag)}),r.update(Ne.util.createBuffer(atob(e.data))),r.finish(),r.output.toString("utf8").split("\0")}function a0(e,t){const r=Ne.random.getBytesSync(16),n=Ne.cipher.createCipher("AES-GCM",t);return n.start({iv:r}),n.update(Ne.util.createBuffer(e,"utf8")),n.finish(),JSON.stringify({iv:btoa(r),data:btoa(n.output.data),tag:btoa(n.mode.tag.data),version:3})}function HD(e,t,r){const n=e.join("\0"),i=Ne.cipher.createCipher("AES-GCM",t),a=Ne.random.getBytesSync(16);i.start({iv:a}),i.update(Ne.util.createBuffer(n,"utf8")),i.finish();const o={iv:btoa(a),data:btoa(i.output.data),tag:btoa(i.mode.tag.data),version:3};if(r.version?o.version=r.version:e.length===6&&(o.version=4),typeof r<"u")for(let s in r)o[s]=r[s];return JSON.stringify(o)}function Rn(e,t,r){return HD(e,t,r)}function FE(e,t){const r=new Uint8Array(e),n=Ne.random.getBytesSync(32),i=Ne.cipher.createCipher("AES-GCM",n),a=Ne.random.getBytesSync(12);i.start({iv:a}),i.update(Ne.util.createBuffer(r)),i.finish();const o=Ne.cipher.createCipher("AES-ECB",t),s=Ne.random.getBytesSync(16);return o.start({iv:s}),o.update(Ne.util.createBuffer(n)),o.finish(),{fileInfo:JSON.stringify({version:3,key:btoa(o.output.data),iv:btoa(a),tag:btoa(i.mode.tag.data)}),cFileContent:i.output.data}}const jD=(e,t)=>{const r=ug(e.filename,t)[0],n=Ne.cipher.createDecipher("AES-ECB",t);n.start({iv:atob(e.file.iv)}),n.update(Ne.util.createBuffer(atob(e.file.key))),n.finish();const i=n.output.data,a=Ne.cipher.createDecipher("AES-GCM",i);a.start({iv:atob(e.file.iv),tag:atob(e.file.tag)}),a.update(Ne.util.createBuffer(atob(e.file.data))),a.finish();const{length:o}=a.output.data,s=new ArrayBuffer(o),l=new Uint8Array(s);let u=-1;for(;++u<o;)l[u]=a.output.data.charCodeAt(u);return{filename:r,buf:s}};function UE(e,t,r){const n=Ne.cipher.createDecipher("AES-ECB",t);n.start({iv:atob(e.file.iv)}),n.update(Ne.util.createBuffer(atob(e.file.key))),n.finish();const i=n.output.data,a=Ne.cipher.createCipher("AES-ECB",r),o=Ne.random.getBytesSync(16);return a.start({iv:o}),a.update(Ne.util.createBuffer(i)),a.finish(),a.output.data}function zD(e,t,r){let n=UE(e,t,r);const i=ug(e,t),a=JSON.parse(Rn(i,r,{}));return a.file=Object.assign({},{...e.file}),a.file.key=btoa(n),JSON.stringify(a)}function qD(e,t){const r=e,n=Ne.cipher.createCipher("AES-GCM",t),i=Ne.random.getBytesSync(16);return n.start({iv:i}),n.update(Ne.util.createBuffer(r)),n.finish(),{iv:btoa(i),data:btoa(n.output.data),tag:btoa(n.mode.tag.data)}}function GD(e,t){const r=Ne.cipher.createDecipher("AES-GCM",t);return r.start({iv:atob(e.iv),tag:atob(e.tag)}),r.update(Ne.util.createBuffer(atob(e.data))),r.finish(),r.output.data}function WD(e){lu=e}const Li={goPremium:!1,takeSurvey:!0,plan:"FREE",safes:[{name:"Mock Safe",id:1,key:1,items:[],folders:[{SafeID:1,id:"f1",_id:"f1",name:"Mock Folder",cleartext:["Mock Folder"],parent:0,folders:[],lastModified:"2021-08-27T02:01:20+00:00",items:[{SafeID:1,folder:"f1",_id:"f1i1",cleartext:["Gmail","alice","kjhgqw","https://gmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:1,folder:"f1",_id:"f1i2",cleartext:["Note","alice","","",`Work mail\r
 kj skajhdah skdal fklasjh ljkah lkjdsh kljdh afljksdh fkljas hfjkdsh afjkah ldh`],note:1,lastModified:"2021-08-27T02:01:20+00:00"}]}]},{name:"Private",id:"sp52",key:1,items:[{SafeID:2,folder:0,_id:"2i1",cleartext:["Gmail","alice","kjhgqw","https://gmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:2,folder:0,_id:"2i2",cleartext:["long username","alicealicealicealicealicealicealicealicealicealicealicealicealicealicealicealicealice","","","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:2,folder:0,_id:"2i3",cleartext:["long password","","kjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwk","https://gmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:2,folder:0,_id:"2i4",cleartext:["long url","alice","kjhgqw","https://longlonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonggmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:2,folder:0,_id:"2i5",cleartext:["Gmail","alice","kjhgqw","https://gmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:2,folder:0,_id:"2i6",cleartext:["Gmail","alice","kjhgqw","https://gmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:2,folder:0,_id:"2i7",cleartext:["Gmail","alice","kjhgqw","https://gmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:2,folder:0,_id:"2i8",cleartext:["Gmail","alice","kjhgqw","https://gmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:2,folder:0,_id:"2i9",cleartext:["Gmail","alice","kjhgqw","https://gmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:2,folder:0,_id:"2ia",cleartext:["Gmail","alice","kjhgqw","https://gmail.com","Work mail"],lastModified:"2021-08-27T02:01:20+00:00"}],folders:[{SafeID:2,id:"f21",_id:"_f21",name:"SubFolder",cleartext:["SubFolder"],parent:0,folders:[],items:[]},{SafeID:2,FolderID:"f23",id:"f23",_id:"_f23",name:"SubFolder3",cleartext:["SubFolder3"],parent:0,folders:[{SafeID:2,id:"f231",name:"SubFolder31",cleartext:["SubFolder31"],parent:"f23",folders:[],items:[]}],items:[]}]},{name:"Work",id:3,items:[],folders:[]},{name:"x1",id:4,items:[],folders:[]},{name:"x2",id:5,items:[],folders:[]},{name:"x3",id:6,items:[],folders:[]},{name:"x4",id:7,items:[],folders:[]},{name:"x5",id:8,items:[],folders:[]},{name:"x6",id:9,items:[],folders:[]},{name:"x7",id:10,items:[],folders:[]},{name:"x8",id:11,items:[{SafeID:11,folder:0,_id:"11",cleartext:["long password","shortname but","kjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwkjhgqwk","https://gmail.com","Work mail","22334455"],lastModified:"2021-08-27T02:01:20+00:00"},{SafeID:11,folder:0,_id:"12",cleartext:["The note","","","","Work mail"],note:1,lastModified:"2021-08-27T02:01:20+00:00"}],folders:[]},{name:"Cards",id:12,key:1,items:[{SafeID:12,folder:0,_id:"12i1",cleartext:["card","Card1","first card","3700 000000 00000","Mike","03","2024","777"],version:5,lastModified:"2021-08-27T02:01:20+00:00"}],folders:[]}]};function o0(e){let t={};if(e.nodeType==1){if(e.attributes.length>0){t["@attributes"]={};for(let r=0;r<e.attributes.length;r++){const n=e.attributes.item(r);t["@attributes"][n.nodeName]=n.nodeValue}}}else e.nodeType==3&&(t=e.nodeValue);if(e.hasChildNodes()&&e.childNodes.length===1&&e.childNodes[0].nodeType===3)t=e.childNodes[0].nodeValue;else if(e.hasChildNodes())for(let r=0;r<e.childNodes.length;r++){const n=e.childNodes.item(r),{nodeName:i}=n;if(typeof t[i]>"u")n.nodeType!=3&&(t[i]=o0(n));else{if(typeof t[i].push>"u"){const a=t[i];t[i]=[],t[i].push(a)}t[i].push(o0(n))}}return t}function QD(e){const t={},r=cg(e.String);for(let a=0;a<r.length;a++)r[a].Key!==void 0&&r[a].Value!==void 0&&(t[r[a].Key]=r[a].Value);const n={};let i;return"card_num"in t?(i=["card",typeof t.Title=="string"?t.Title:"unnamed",typeof t.Notes=="string"?t.Notes:"",typeof t.card_num=="string"?t.card_num:"",typeof t.card_name=="string"?t.card_name:"",typeof t.exp_month=="string"?t.exp_month:"",typeof t.exp_year=="string"?t.exp_year:"",typeof t.card_code=="string"?t.card_code:""],n.version=5):(t.URL=typeof t.URL=="string"?t.URL:"",typeof t.KP2A_URL=="string"&&(t.URL=[t.URL,t.KP2A_URL].join("")),i=[typeof t.Title=="string"?t.Title:"unnamed",typeof t.UserName=="string"?t.UserName:"",typeof t.Password=="string"?t.Password:"",t.URL,typeof t.Notes=="string"?t.Notes:""],typeof t.TOTP=="string"&&i.push(t.TOTP),typeof t.Note=="string"&&t.Note==="1"&&(n.note=1)),e.hasOwnProperty("Times")&&e.Times.hasOwnProperty("LastModificationTime")&&(n.lastModified=e.Times.LastModificationTime),{cleartext:i,options:n}}function cg(e){if(e===void 0)return[];if(Array.isArray(e))return e;const t=[];return t.push(e),t}function YD(e){const t=cg(e.Entry),r=[];for(let n=0;n<t.length;n++)r.push(QD(t[n]));return r}function XD(e){const t=cg(e.Group),r=[];for(let n=0;n<t.length;n++)r.push(VE(t[n]));return r}function VE(e){return{name:e.Name,items:YD(e),folders:XD(e)}}function KE(e){const r=new DOMParser().parseFromString(e,"application/xml");if(r.firstElementChild.nodeName==="KeePassFile"){const n=r.firstElementChild,i=o0(n);if(i.Root.Group===void 0||Array.isArray(i.Root.Group)==!0)throw new Error("not a KeePass or Passhub XML file");const a=VE(i.Root.Group);return a.name=i.Root.Group.Name,a.name===void 0&&(a.name="KeePass"),a}throw new Error("not a KeePass or Passhub XML file")}let $E=null,HE=null;const mh=window.crypto||window.msCrypto,s0=mh?mh.webkitSubtle||mh.subtle:null,fl={publicKey:null,encryptedPrivateKey:null};function JD(){WD(fl.publicKey);const e=KE(JSON.parse(HE)),t=[];for(let r of e.folders)t.push(md(r));return Te.post("create_user.php",{publicKey:fl.publicKey,encryptedPrivateKey:fl.encryptedPrivateKey,import:t}).then(r=>{const n=r.data;if(n.status==="Ok"){window.location.href="index.php";return}alert(n.status)})}function ZD(e){const t=new Uint8Array(e);let r=btoa(String.fromCharCode.apply(null,t)),n=`-----BEGIN PRIVATE KEY-----
`;for(;r.length>0;)n+=r.slice(0,64)+`
`,r=r.slice(64);return n+=`-----END PRIVATE KEY-----
`,n}function eL(e){const t=new Uint8Array(e);let r=btoa(String.fromCharCode.apply(null,t)),n=`-----BEGIN PUBLIC KEY-----
`;for(;r.length>0;)n+=r.slice(0,64)+`
`,r=r.slice(64);return n+`-----END PUBLIC KEY-----
`}function tL(e){return s0.exportKey("pkcs8",e.privateKey).then(t=>{const r=ZD(t);return MD(r,$E).then(n=>(fl.encryptedPrivateKey=n,Promise.resolve(1)))}).then(()=>s0.exportKey("spki",e.publicKey)).then(t=>(fl.publicKey=eL(t),Promise.resolve(1)))}function rL(e){if(console.log(e),window.location.href.includes("debug")){alert(`387: ${e}`);return}window.location.href=`error_page.php?js=387&error=${e}`}function nL(e){return $E=e.ticket,HE=e.template_safes,s0.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},!0,["encrypt","decrypt"]).then(tL).then(JD).catch(rL)}let rs={},ns={};function Bn(){return rs}function is(){return ns}function iL(e){rs.email=e,ns.email=e}function aL(e){delete rs.autorenew,delete ns.autorenew}function oL(e){rs.desktop_inactivity=e,rs.idleTimeout=e,ns.desktop_inactivity=e,ns.idleTimeout=e}function n1(e,t){for(const r of e.items)r.cleartext=KD(r,t);for(const r of e.folders)r.cleartext=$D(r,t)}function jE(e){if(!e)return Promise.resolve([]);const t=e.map(r=>lg(r.encrypted_key_CSE).then(n=>(r.bstringKey=n,r.name=i0(r,r.bstringKey),r)));return Promise.all(t)}function sL(e){const t=e.map(r=>r.bstringKey?Promise.resolve(0).then(()=>(r.name=i0(r,r.bstringKey),n1(r,r.bstringKey))):lg(r.key).then(n=>(r.bstringKey=n,r.name=i0(r,r.bstringKey),n1(r,r.bstringKey))));return Promise.all(t)}function zE(e,t,r){e.contentModificationDate=e.lastModified?e.lastModified:"-",e.name=e.cleartext[0],e.id=e._id,e.path=[...e.path,[e.cleartext[0],e.id]],e.items=[];for(const n of t)n.folder===e.id&&(e.items.push(n),n.path=e.path,n.lastModified&&n.lastModified>e.contentModificationDate&&(e.contentModificationDate=n.lastModified));e.items.sort((n,i)=>n.cleartext[0].toLowerCase().localeCompare(i.cleartext[0].toLowerCase())),e.folders=[];for(const n of r)n.parent===e.id&&(e.folders.push(n),n.path=e.path,n.safe=e.safe,zE(n,t,r),n.contentModificationDate&&n.contentModificationDate>e.contentModificationDate&&(e.contentModificationDate=n.contentModificationDate));e.folders.sort((n,i)=>n.cleartext[0].toLowerCase().localeCompare(i.cleartext[0].toLowerCase()))}function i1(e){for(const t of e){t.rawItems=t.items,t.path=[[t.name,t.id]],t.items=[];for(const r of t.rawItems)(!r.folder||r.folder=="0")&&(t.items.push(r),r.path=t.path);t.items.sort((r,n)=>r.cleartext[0].toLowerCase().localeCompare(n.cleartext[0].toLowerCase())),t.rawFolders=t.folders,t.folders=[];for(const r of t.rawFolders)(!r.parent||r.parent=="0")&&(t.folders.push(r),r.path=t.path,r.safe=t,zE(r,t.rawItems,t.rawFolders));t.folders.sort((r,n)=>r.cleartext[0].toLowerCase().localeCompare(n.cleartext[0].toLowerCase()))}}const lL=()=>window.location.href.includes("mock")||window.location.href.includes("localhost")?(Li.activeFolder=Li.safes[0],Li.safes[0].folders[0].safe=Li.safes[0],Li.safes[1].folders[0].safe=Li.safes[1],i1(Li.safes),Promise.resolve(Li)):Te.post(`${Re()}get_user_datar.php`,{verifier:ge()}).then(e=>{if(e.data.status==="create user"){nL(e.data);return}if(e.data.status==="Ok"){const t=e.data.data;return OD(t).then(r=>jE(t.groups)).then(r=>{for(let n of t.safes)if(n.group){for(let i of r)if(n.group==i.GroupID){n.bstringKey=GD(n.key,i.bstringKey);break}}return sL(t.safes)}).then(r=>{t.safes.sort((a,o)=>a.name.toLowerCase().localeCompare(o.name.toLowerCase())),i1(t.safes),t.activeFolder=hn(t.safes,t.currentSafe),t.activeFolder||(console.log("active folder not found"+t.currentSafe),t.activeFolder=t.safes[0]),rs=t;let n=0,i=0;for(const a of t.safes){n+=a.items.length;for(const o of a.items)"file"in o&&(i+=o.file.size)}return ns={email:t.email,maxRecords:t.maxRecords,maxStorage:t.maxStorage,maxFileSize:t.maxFileSize,upgrade:t.upgrade,business:t.business,plan:t.plan,expires:t.expires,autorenew:t.autorenew,receipt_url:t.receipt_url,totalRecords:n,totalStorage:i,idleTimeout:t.idleTimeout,desktop_inactivity:t.desktop_inactivity},t.totalRecords=n,t.totalStorage=i,t}).catch(r=>{if(window.location.href.includes("debug")){alert(`387: ${r}`);return}console.log("caught",r),window.location.href=`error_page.php?js=387&error=${r}`})}if(e.data.status==="login"){window.location.href="expired.php",progress.unlock();return}}).catch(e=>{progress.unlock(),console.log("cauth 185",e)});var qE={};function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(this,arguments)}function GE(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var uL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,cL=GE(function(e){return uL.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function dL(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function fL(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var hL=function(){function e(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=dL(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),mr="-ms-",gd="-moz-",rt="-webkit-",WE="comm",dg="rule",fg="decl",pL="@import",QE="@keyframes",mL="@layer",gL=Math.abs,gf=String.fromCharCode,vL=Object.assign;function yL(e,t){return sr(e,0)^45?(((t<<2^sr(e,0))<<2^sr(e,1))<<2^sr(e,2))<<2^sr(e,3):0}function YE(e){return e.trim()}function CL(e,t){return(e=t.exec(e))?e[0]:e}function nt(e,t,r){return e.replace(t,r)}function l0(e,t){return e.indexOf(t)}function sr(e,t){return e.charCodeAt(t)|0}function Ul(e,t,r){return e.slice(t,r)}function Vn(e){return e.length}function hg(e){return e.length}function ju(e,t){return t.push(e),e}function SL(e,t){return e.map(t).join("")}var vf=1,as=1,XE=0,Fr=0,Vt=0,xs="";function yf(e,t,r,n,i,a,o){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:vf,column:as,length:o,return:""}}function $s(e,t){return vL(yf("",null,null,"",null,null,0),e,{length:-e.length},t)}function wL(){return Vt}function xL(){return Vt=Fr>0?sr(xs,--Fr):0,as--,Vt===10&&(as=1,vf--),Vt}function qr(){return Vt=Fr<XE?sr(xs,Fr++):0,as++,Vt===10&&(as=1,vf++),Vt}function Xn(){return sr(xs,Fr)}function mc(){return Fr}function uu(e,t){return Ul(xs,e,t)}function Vl(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JE(e){return vf=as=1,XE=Vn(xs=e),Fr=0,[]}function ZE(e){return xs="",e}function gc(e){return YE(uu(Fr-1,u0(e===91?e+2:e===40?e+1:e)))}function EL(e){for(;(Vt=Xn())&&Vt<33;)qr();return Vl(e)>2||Vl(Vt)>3?"":" "}function bL(e,t){for(;--t&&qr()&&!(Vt<48||Vt>102||Vt>57&&Vt<65||Vt>70&&Vt<97););return uu(e,mc()+(t<6&&Xn()==32&&qr()==32))}function u0(e){for(;qr();)switch(Vt){case e:return Fr;case 34:case 39:e!==34&&e!==39&&u0(Vt);break;case 40:e===41&&u0(e);break;case 92:qr();break}return Fr}function TL(e,t){for(;qr()&&e+Vt!==47+10;)if(e+Vt===42+42&&Xn()===47)break;return"/*"+uu(t,Fr-1)+"*"+gf(e===47?e:qr())}function AL(e){for(;!Vl(Xn());)qr();return uu(e,Fr)}function kL(e){return ZE(vc("",null,null,null,[""],e=JE(e),0,[0],e))}function vc(e,t,r,n,i,a,o,s,l){for(var u=0,c=0,d=o,p=0,C=0,h=0,v=1,S=1,m=1,g=0,y="",w=i,E=a,b=n,T=y;S;)switch(h=g,g=qr()){case 40:if(h!=108&&sr(T,d-1)==58){l0(T+=nt(gc(g),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:T+=gc(g);break;case 9:case 10:case 13:case 32:T+=EL(h);break;case 92:T+=bL(mc()-1,7);continue;case 47:switch(Xn()){case 42:case 47:ju(IL(TL(qr(),mc()),t,r),l);break;default:T+="/"}break;case 123*v:s[u++]=Vn(T)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:S=0;case 59+c:m==-1&&(T=nt(T,/\f/g,"")),C>0&&Vn(T)-d&&ju(C>32?o1(T+";",n,r,d-1):o1(nt(T," ","")+";",n,r,d-2),l);break;case 59:T+=";";default:if(ju(b=a1(T,t,r,u,c,i,s,y,w=[],E=[],d),a),g===123)if(c===0)vc(T,t,b,b,w,a,d,s,E);else switch(p===99&&sr(T,3)===110?100:p){case 100:case 108:case 109:case 115:vc(e,b,b,n&&ju(a1(e,b,b,0,0,i,s,y,i,w=[],d),E),i,E,d,s,n?w:E);break;default:vc(T,b,b,b,[""],E,0,s,E)}}u=c=C=0,v=m=1,y=T="",d=o;break;case 58:d=1+Vn(T),C=h;default:if(v<1){if(g==123)--v;else if(g==125&&v++==0&&xL()==125)continue}switch(T+=gf(g),g*v){case 38:m=c>0?1:(T+="\f",-1);break;case 44:s[u++]=(Vn(T)-1)*m,m=1;break;case 64:Xn()===45&&(T+=gc(qr())),p=Xn(),c=d=Vn(y=T+=AL(mc())),g++;break;case 45:h===45&&Vn(T)==2&&(v=0)}}return a}function a1(e,t,r,n,i,a,o,s,l,u,c){for(var d=i-1,p=i===0?a:[""],C=hg(p),h=0,v=0,S=0;h<n;++h)for(var m=0,g=Ul(e,d+1,d=gL(v=o[h])),y=e;m<C;++m)(y=YE(v>0?p[m]+" "+g:nt(g,/&\f/g,p[m])))&&(l[S++]=y);return yf(e,t,r,i===0?dg:s,l,u,c)}function IL(e,t,r){return yf(e,t,r,WE,gf(wL()),Ul(e,2,-2),0)}function o1(e,t,r,n){return yf(e,t,r,fg,Ul(e,0,n),Ul(e,n+1,-1),n)}function Fo(e,t){for(var r="",n=hg(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function NL(e,t,r,n){switch(e.type){case mL:if(e.children.length)break;case pL:case fg:return e.return=e.return||e.value;case WE:return"";case QE:return e.return=e.value+"{"+Fo(e.children,n)+"}";case dg:e.value=e.props.join(",")}return Vn(r=Fo(e.children,n))?e.return=e.value+"{"+r+"}":""}function RL(e){var t=hg(e);return function(r,n,i,a){for(var o="",s=0;s<t;s++)o+=e[s](r,n,i,a)||"";return o}}function _L(e){return function(t){t.root||(t=t.return)&&e(t)}}var BL=function(t,r,n){for(var i=0,a=0;i=a,a=Xn(),i===38&&a===12&&(r[n]=1),!Vl(a);)qr();return uu(t,Fr)},DL=function(t,r){var n=-1,i=44;do switch(Vl(i)){case 0:i===38&&Xn()===12&&(r[n]=1),t[n]+=BL(Fr-1,r,n);break;case 2:t[n]+=gc(i);break;case 4:if(i===44){t[++n]=Xn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=gf(i)}while(i=qr());return t},LL=function(t,r){return ZE(DL(JE(t),r))},s1=new WeakMap,ML=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!s1.get(n))&&!i){s1.set(t,!0);for(var a=[],o=LL(r,a),s=n.props,l=0,u=0;l<o.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=a[l]?o[l].replace(/&\f/g,s[c]):s[c]+" "+o[l]}}},OL=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function e2(e,t){switch(yL(e,t)){case 5103:return rt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+e+gd+e+mr+e+e;case 6828:case 4268:return rt+e+mr+e+e;case 6165:return rt+e+mr+"flex-"+e+e;case 5187:return rt+e+nt(e,/(\w+).+(:[^]+)/,rt+"box-$1$2"+mr+"flex-$1$2")+e;case 5443:return rt+e+mr+"flex-item-"+nt(e,/flex-|-self/,"")+e;case 4675:return rt+e+mr+"flex-line-pack"+nt(e,/align-content|flex-|-self/,"")+e;case 5548:return rt+e+mr+nt(e,"shrink","negative")+e;case 5292:return rt+e+mr+nt(e,"basis","preferred-size")+e;case 6060:return rt+"box-"+nt(e,"-grow","")+rt+e+mr+nt(e,"grow","positive")+e;case 4554:return rt+nt(e,/([^-])(transform)/g,"$1"+rt+"$2")+e;case 6187:return nt(nt(nt(e,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),e,"")+e;case 5495:case 3959:return nt(e,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return nt(nt(e,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+mr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+e+e;case 4095:case 3583:case 4068:case 2532:return nt(e,/(.+)-inline(.+)/,rt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vn(e)-1-t>6)switch(sr(e,t+1)){case 109:if(sr(e,t+4)!==45)break;case 102:return nt(e,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+gd+(sr(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~l0(e,"stretch")?e2(nt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(sr(e,t+1)!==115)break;case 6444:switch(sr(e,Vn(e)-3-(~l0(e,"!important")&&10))){case 107:return nt(e,":",":"+rt)+e;case 101:return nt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(sr(e,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+mr+"$2box$3")+e}break;case 5936:switch(sr(e,t+11)){case 114:return rt+e+mr+nt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return rt+e+mr+nt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return rt+e+mr+nt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return rt+e+mr+e+e}return e}var PL=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case fg:t.return=e2(t.value,t.length);break;case QE:return Fo([$s(t,{value:nt(t.value,"@","@"+rt)})],i);case dg:if(t.length)return SL(t.props,function(a){switch(CL(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fo([$s(t,{props:[nt(a,/:(read-\w+)/,":"+gd+"$1")]})],i);case"::placeholder":return Fo([$s(t,{props:[nt(a,/:(plac\w+)/,":"+rt+"input-$1")]}),$s(t,{props:[nt(a,/:(plac\w+)/,":"+gd+"$1")]}),$s(t,{props:[nt(a,/:(plac\w+)/,mr+"input-$1")]})],i)}return""})}},FL=[PL],UL=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var S=v.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=t.stylisPlugins||FL,a={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var S=v.getAttribute("data-emotion").split(" "),m=1;m<S.length;m++)a[S[m]]=!0;s.push(v)});var l,u=[ML,OL];{var c,d=[NL,_L(function(v){c.insert(v)})],p=RL(u.concat(i,d)),C=function(S){return Fo(kL(S),p)};l=function(S,m,g,y){c=g,C(S?S+"{"+m.styles+"}":m.styles),y&&(h.inserted[m.name]=!0)}}var h={key:r,sheet:new hL({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:l};return h.sheet.hydrate(s),h},VL=!0;function KL(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var t2=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||VL===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},$L=function(t,r,n){t2(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var a=r;do t.insert(r===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function HL(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var jL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},zL=/[A-Z]|^ms/g,qL=/_EMO_([^_]+?)_([^]*?)_EMO_/g,r2=function(t){return t.charCodeAt(1)===45},l1=function(t){return t!=null&&typeof t!="boolean"},gh=GE(function(e){return r2(e)?e:e.replace(zL,"-$&").toLowerCase()}),u1=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(qL,function(n,i,a){return Kn={name:i,styles:a,next:Kn},i})}return jL[t]!==1&&!r2(t)&&typeof r=="number"&&r!==0?r+"px":r};function Kl(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Kn={name:r.name,styles:r.styles,next:Kn},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Kn={name:n.name,styles:n.styles,next:Kn},n=n.next;var i=r.styles+";";return i}return GL(e,t,r)}case"function":{if(e!==void 0){var a=Kn,o=r(e);return Kn=a,Kl(e,t,o)}break}}if(t==null)return r;var s=t[r];return s!==void 0?s:r}function GL(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Kl(e,t,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")t!=null&&t[o]!==void 0?n+=a+"{"+t[o]+"}":l1(o)&&(n+=gh(a)+":"+u1(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var s=0;s<o.length;s++)l1(o[s])&&(n+=gh(a)+":"+u1(a,o[s])+";");else{var l=Kl(e,t,o);switch(a){case"animation":case"animationName":{n+=gh(a)+":"+l+";";break}default:n+=a+"{"+l+"}"}}}return n}var c1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Kn,WL=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";Kn=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,a+=Kl(n,r,o)):a+=o[0];for(var s=1;s<t.length;s++)a+=Kl(n,r,t[s]),i&&(a+=o[s]);c1.lastIndex=0;for(var l="",u;(u=c1.exec(a))!==null;)l+="-"+u[1];var c=HL(a)+l;return{name:c,styles:a,next:Kn}},QL=function(t){return t()},YL=Gg["useInsertionEffect"]?Gg["useInsertionEffect"]:!1,XL=YL||QL,n2=x.createContext(typeof HTMLElement<"u"?UL({key:"css"}):null);n2.Provider;var JL=function(t){return x.forwardRef(function(r,n){var i=x.useContext(n2);return t(r,i,n)})},ZL=x.createContext({}),eM=cL,tM=function(t){return t!=="theme"},d1=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?eM:tM},f1=function(t,r,n){var i;if(r){var a=r.shouldForwardProp;i=t.__emotion_forwardProp&&a?function(o){return t.__emotion_forwardProp(o)&&a(o)}:a}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},rM=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return t2(r,n,i),XL(function(){return $L(r,n,i)}),null},nM=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,a,o;r!==void 0&&(a=r.label,o=r.target);var s=f1(t,r,n),l=s||d1(i),u=!l("as");return function(){var c=arguments,d=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&d.push("label:"+a+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var p=c.length,C=1;C<p;C++)d.push(c[C],c[0][C])}var h=JL(function(v,S,m){var g=u&&v.as||i,y="",w=[],E=v;if(v.theme==null){E={};for(var b in v)E[b]=v[b];E.theme=x.useContext(ZL)}typeof v.className=="string"?y=KL(S.registered,w,v.className):v.className!=null&&(y=v.className+" ");var T=WL(d.concat(w),S.registered,E);y+=S.key+"-"+T.name,o!==void 0&&(y+=" "+o);var _=u&&s===void 0?d1(g):l,M={};for(var D in v)u&&D==="as"||_(D)&&(M[D]=v[D]);return M.className=y,M.ref=m,x.createElement(x.Fragment,null,x.createElement(rM,{cache:S,serialized:T,isStringTag:typeof g=="string"}),x.createElement(g,M))});return h.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",h.defaultProps=t.defaultProps,h.__emotion_real=h,h.__emotion_base=i,h.__emotion_styles=d,h.__emotion_forwardProp=s,Object.defineProperty(h,"toString",{value:function(){return"."+o}}),h.withComponent=function(v,S){return e(v,Qa({},r,S,{shouldForwardProp:f1(h,S,!0)})).apply(void 0,d)},h}};const iM=Object.freeze(Object.defineProperty({__proto__:null,default:nM},Symbol.toStringTag,{value:"Module"})),Dn=yC(iM);var i2={},a2={exports:{}},aM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oM=aM,sM=oM;function o2(){}function s2(){}s2.resetWarningCache=o2;var lM=function(){function e(n,i,a,o,s,l){if(l!==sM){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s2,resetWarningCache:o2};return r.PropTypes=r,r};a2.exports=lM();var ya=a2.exports;const at=Xa(ya);(function(e){e.__esModule=!0,e.default=void 0;var t=r(x);r(ya);function r(s){return s&&s.__esModule?s:{default:s}}function n(s,l){s.prototype=Object.create(l.prototype),s.prototype.constructor=s,i(s,l)}function i(s,l){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,c){return u.__proto__=c,u},i(s,l)}var a=function(s){function l(){for(var c,d=arguments.length,p=Array(d),C=0;C<d;C++)p[C]=arguments[C];return c=s.call.apply(s,[this].concat(p))||this,c.container=t.default.createRef(),c.handleClick=function(h){var v=c.container.current,S=h.target,m=c.props.onClickOutside;(v&&v===S||v&&!v.contains(S))&&m(h)},c}n(l,s);var u=l.prototype;return u.componentDidMount=function(){document.addEventListener("click",this.handleClick,!0)},u.componentWillUnmount=function(){document.removeEventListener("click",this.handleClick,!0)},u.render=function(){var d=this.props,p=d.className,C=d.children;return t.default.createElement("div",{className:p,ref:this.container},C)},l}(t.default.Component),o=a;e.default=o})(i2);var l2={},u2={},ro={};(function(e){e.__esModule=!0,e.valueExistInSelected=e.isomorphicWindow=e.isEqual=e.hexToRGBA=e.getProp=e.getByPath=e.debounce=void 0;var t=function(l,u,c){return!!u.find(function(d){return a(d,c.valueField)===l||a(d,c.labelField)===l})};e.valueExistInSelected=t;var r=function(l,u){l.length===4&&(l=""+l[1]+l[1]+l[2]+l[2]+l[3]+l[3]+"}");var c=parseInt(l.slice(1,3),16),d=parseInt(l.slice(3,5),16),p=parseInt(l.slice(5,7),16);return"rgba("+c+", "+d+", "+p+(u&&", "+u)+")"};e.hexToRGBA=r;var n=function(l,u){u===void 0&&(u=0);var c;return function(){for(var d=arguments.length,p=Array(d),C=0;C<d;C++)p[C]=arguments[C];c&&clearTimeout(c),c=setTimeout(function(){l.apply(void 0,p),c=null},u)}};e.debounce=n;var i=function(l,u){return JSON.stringify(l)===JSON.stringify(u)};e.isEqual=i;var a=function(l,u){return u?u.split(".").reduce(function(c,d){return c[d]},l):void 0};e.getByPath=a;var o=function(l,u,c){if(!u)return l;var d=Array.isArray(u)?u:u.split(".").filter(function(p){return p.length});return d.length?o(l[d.shift()],d,c):l===void 0?c:l};e.getProp=o;var s=function(){return typeof window>"u"&&(ci.window={}),window};e.isomorphicWindow=s})(ro);var yn={};(function(e){e.__esModule=!0,e.LIB_NAME=void 0,e.LIB_NAME="react-dropdown-select"})(yn);(function(e){e.__esModule=!0,e.default=void 0;var t=a(Dn),r=a(x),n=ro,i=yn;function a(u){return u&&u.__esModule?u:{default:u}}var o=function(u){var c=u.item,d=u.props,p=u.state,C=u.methods;return c&&d.optionRenderer?d.optionRenderer({item:c,props:d,state:p,methods:C}):r.default.createElement(s,{role:"listitem",disabled:d.disabled,direction:d.direction,className:i.LIB_NAME+"-option",color:d.color},r.default.createElement("span",{className:i.LIB_NAME+"-option-label"},(0,n.getByPath)(c,d.labelField)),r.default.createElement("span",{className:i.LIB_NAME+"-option-remove",onClick:function(v){return C.removeItem(v,c,d.closeOnSelect)}},""))},s=(0,t.default)("span",{target:"e1l4eby50"})("padding:0 5px;border-radius:2px;line-height:21px;margin:3px 0 3px 5px;background:",function(u){var c=u.color;return c},";color:#fff;display:flex;flex-direction:",function(u){var c=u.direction;return c==="rtl"?"row-reverse":"row"},";.",i.LIB_NAME,"-option-remove{cursor:pointer;width:22px;height:22px;display:inline-block;text-align:center;margin:0 -5px 0 0px;border-radius:0 3px 3px 0;:hover{color:tomato;}}:hover,:hover>span{opacity:0.9;}"),l=o;e.default=l})(u2);var c2={};(function(e){e.__esModule=!0,e.default=void 0;var t=s(Dn),r=o(x),n=ro;o(ya);var i=yn;function a(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(a=function(m){return m?S:v})(h)}function o(h,v){if(!v&&h&&h.__esModule)return h;if(h===null||typeof h!="object"&&typeof h!="function")return{default:h};var S=a(v);if(S&&S.has(h))return S.get(h);var m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in h)if(y!="default"&&Object.prototype.hasOwnProperty.call(h,y)){var w=g?Object.getOwnPropertyDescriptor(h,y):null;w&&(w.get||w.set)?Object.defineProperty(m,y,w):m[y]=h[y]}return m.default=h,S&&S.set(h,m),m}function s(h){return h&&h.__esModule?h:{default:h}}function l(h,v){h.prototype=Object.create(v.prototype),h.prototype.constructor=h,u(h,v)}function u(h,v){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,m){return S.__proto__=m,S},u(h,v)}var c=function(h,v){var S=h.addPlaceholder,m=h.searchable,g=h.placeholder,y=v.values&&v.values.length===0,w=v.values&&0<v.values.length;return w&&S&&m?S:y?g:""},d=function(h){function v(){for(var m,g=arguments.length,y=Array(g),w=0;w<g;w++)y[w]=arguments[w];return m=h.call.apply(h,[this].concat(y))||this,m.input=r.default.createRef(),m.onBlur=function(E){return E.stopPropagation(),m.props.state.dropdown?m.input.current.focus():m.input.current.blur()},m.handleKeyPress=function(E){var b=m.props,T=b.props,_=b.state,M=b.methods;return T.create&&E.key==="Enter"&&!(0,n.valueExistInSelected)(_.search,[].concat(_.values,T.options),m.props)&&_.search&&_.cursor===null&&M.createNew(_.search)},m}l(v,h);var S=v.prototype;return S.componentDidUpdate=function(g){(this.props.state.dropdown||g.state.dropdown!==this.props.state.dropdown&&this.props.state.dropdown||this.props.props.autoFocus)&&this.input.current.focus(),g.state.dropdown===this.props.state.dropdown||this.props.state.dropdown||this.input.current.blur()},S.render=function(){var g=this.props,y=g.props,w=g.state,E=g.methods;return y.inputRenderer?y.inputRenderer({props:y,state:w,methods:E,inputRef:this.input}):r.default.createElement(p,{ref:this.input,tabIndex:"-1",onFocus:function(T){return T.stopPropagation()},className:i.LIB_NAME+"-input",size:E.getInputSize(),value:w.search,readOnly:!y.searchable,onClick:function(){return E.dropDown("open")},onKeyPress:this.handleKeyPress,onChange:E.setSearch,onBlur:this.onBlur,placeholder:c(y,w),disabled:y.disabled})},v}(r.Component),p=(0,t.default)("input",{target:"e11wid6y0"})("line-height:inherit;border:none;margin-left:5px;background:transparent;padding:0;width:calc(",function(h){var v=h.size;return v+"ch"}," + 5px);font-size:smaller;",function(h){var v=h.readOnly;return v&&"cursor: pointer;"}," :focus{outline:none;}"),C=d;e.default=C})(c2);var pg={};(function(e){var t=r(ya);e.__esModule=!0,e.default=void 0;function r(a){return a&&a.__esModule?a:{default:a}}var n=Object.freeze({addPlaceholder:t.default.string,additionalProps:t.default.object,autoFocus:t.default.bool,backspaceDelete:t.default.bool,className:t.default.string,clearAllLabel:t.default.string,clearOnBlur:t.default.bool,clearOnSelect:t.default.bool,clearRenderer:t.default.func,clearable:t.default.bool,closeOnScroll:t.default.bool,closeOnSelect:t.default.bool,closeOnClickInput:t.default.bool,color:t.default.string,compareValuesFunc:t.default.func,contentRenderer:t.default.func,create:t.default.bool,createNewLabel:t.default.string,debounceDelay:t.default.number,direction:t.default.string,disabled:t.default.bool,disabledLabel:t.default.string,dropdownGap:t.default.number,dropdownHandle:t.default.bool,dropdownHandleRenderer:t.default.func,dropdownHeight:t.default.string,dropdownPosition:t.default.oneOf(["top","bottom","auto"]),dropdownRenderer:t.default.func,handleKeyDownFn:t.default.func,inputRenderer:t.default.func,itemRenderer:t.default.func,keepOpen:t.default.bool,keepSelectedInList:t.default.bool,labelField:t.default.string,loading:t.default.bool,loadingRenderer:t.default.func,multi:t.default.bool,name:t.default.string,noDataLabel:t.default.string,noDataRenderer:t.default.func,onChange:t.default.func.isRequired,onClearAll:t.default.func,onCreateNew:t.default.func,onDropdownClose:t.default.func,onDropdownCloseRequest:t.default.func,onDropdownOpen:t.default.func,onSelectAll:t.default.func,optionRenderer:t.default.func,options:t.default.array.isRequired,pattern:t.default.string,placeholder:t.default.string,portal:t.default.element,required:t.default.bool,searchBy:t.default.string,searchFn:t.default.func,searchable:t.default.bool,selectAll:t.default.bool,selectAllLabel:t.default.string,separator:t.default.bool,separatorRenderer:t.default.func,sortBy:t.default.string,style:t.default.object,valueField:t.default.string,values:t.default.array}),i=n;e.default=i})(pg);var d2={};(function(e){var t=r(ya);e.__esModule=!0,e.default=void 0;function r(a){return a&&a.__esModule?a:{default:a}}var n=Object.freeze({activeCursorItem:t.default.func,addItem:t.default.func.isRequired,areAllSelected:t.default.func.isRequired,clearAll:t.default.func.isRequired,createNew:t.default.func.isRequired,dropDown:t.default.func.isRequired,getInputSize:t.default.func.isRequired,getSelectBounds:t.default.func.isRequired,getSelectRef:t.default.func.isRequired,handleKeyDown:t.default.func.isRequired,isSelected:t.default.func.isRequired,removeItem:t.default.func.isRequired,safeString:t.default.func.isRequired,searchResults:t.default.func.isRequired,selectAll:t.default.func.isRequired,setSearch:t.default.func.isRequired,sortBy:t.default.func.isRequired,toggleSelectAll:t.default.func.isRequired}),i=n;e.default=i})(d2);var f2={};(function(e){var t=r(ya);e.__esModule=!0,e.default=void 0;function r(a){return a&&a.__esModule?a:{default:a}}var n=Object.freeze({dropdown:t.default.bool.isRequired,values:t.default.arrayOf(t.default.shape({})),search:t.default.string.isRequired,selectBounds:t.default.shape({}),cursor:t.default.number,searchResults:t.default.arrayOf(t.default.shape({}))}),i=n;e.default=i})(f2);(function(e){e.__esModule=!0,e.default=void 0;var t=s(Dn),r=s(x);s(ya);var n=s(u2),i=s(c2),a=yn,o=ro;s(pg),s(d2),s(f2);function s(d){return d&&d.__esModule?d:{default:d}}var l=function(d){var p=d.props,C=d.state,h=d.methods;return r.default.createElement(u,{className:a.LIB_NAME+"-content "+(p.multi?a.LIB_NAME+"-type-multi":a.LIB_NAME+"-type-single"),onClick:function(S){return S.stopPropagation(),C.dropdown===!0&&p.closeOnClickInput&&!C.search?h.dropDown("close"):h.dropDown("open")}},p.contentRenderer?p.contentRenderer({props:p,state:C,methods:h}):r.default.createElement(r.default.Fragment,null,p.multi?C.values&&C.values.map(function(v){return r.default.createElement(n.default,{key:""+(0,o.getByPath)(v,p.valueField)+(0,o.getByPath)(v,p.labelField),item:v,state:C,props:p,methods:h})}):C.values&&0<C.values.length&&r.default.createElement("span",null,(0,o.getByPath)(C.values[0],p.labelField)),r.default.createElement(i.default,{props:p,methods:h,state:C})))},u=(0,t.default)("div",{target:"e1gn6jc30"})({name:"1m5113o",styles:"display:flex;flex:1;flex-wrap:wrap"}),c=l;e.default=c})(l2);var h2={},p2={};(function(e){e.__esModule=!0,e.default=void 0;var t=i(Dn),r=i(x),n=yn;function i(l){return l&&l.__esModule?l:{default:l}}var a=function(l){var u=l.props,c=l.state,d=l.methods;return u.noDataRenderer?u.noDataRenderer({props:u,state:c,methods:d}):r.default.createElement(o,{className:n.LIB_NAME+"-no-data",color:u.color},u.noDataLabel)},o=(0,t.default)("div",{target:"e1l5ho1t0"})("padding:10px;text-align:center;color:",function(l){var u=l.color;return u},";"),s=a;e.default=s})(p2);var m2={};(function(e){e.__esModule=!0,e.default=void 0;var t=s(Dn),r=o(x),n=ro;o(ya);var i=yn;function a(C){if(typeof WeakMap!="function")return null;var h=new WeakMap,v=new WeakMap;return(a=function(S){return S?v:h})(C)}function o(C,h){if(!h&&C&&C.__esModule)return C;if(C===null||typeof C!="object"&&typeof C!="function")return{default:C};var v=a(h);if(v&&v.has(C))return v.get(C);var S={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in C)if(g!="default"&&Object.prototype.hasOwnProperty.call(C,g)){var y=m?Object.getOwnPropertyDescriptor(C,g):null;y&&(y.get||y.set)?Object.defineProperty(S,g,y):S[g]=C[g]}return S.default=C,v&&v.set(C,S),S}function s(C){return C&&C.__esModule?C:{default:C}}function l(C,h){C.prototype=Object.create(h.prototype),C.prototype.constructor=C,u(C,h)}function u(C,h){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,S){return v.__proto__=S,v},u(C,h)}var c=function(C){function h(){for(var S,m=arguments.length,g=Array(m),y=0;y<m;y++)g[y]=arguments[y];return S=C.call.apply(C,[this].concat(g))||this,S.item=r.default.createRef(),S}l(h,C);var v=h.prototype;return v.componentDidMount=function(){var m=this.props,g=m.props,y=m.methods;this.item.current&&!g.multi&&g.keepSelectedInList&&y.isSelected(this.props.item)&&this.item.current.scrollIntoView({block:"nearest",inline:"start"})},v.componentDidUpdate=function(){this.props.state.cursor===this.props.itemIndex&&this.item.current&&this.item.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},v.render=function(){var m=this.props,g=m.props,y=m.state,w=m.methods,E=m.item,b=m.itemIndex;return g.itemRenderer?g.itemRenderer({item:E,itemIndex:b,props:g,state:y,methods:w}):!g.keepSelectedInList&&w.isSelected(E)?null:r.default.createElement(d,{role:"option",ref:this.item,"aria-selected":w.isSelected(E),"aria-disabled":E.disabled,"aria-label":(0,n.getByPath)(E,g.labelField),disabled:E.disabled,key:""+(0,n.getByPath)(E,g.valueField)+(0,n.getByPath)(E,g.labelField),tabIndex:"-1",className:i.LIB_NAME+"-item "+(w.isSelected(E)?i.LIB_NAME+"-item-selected":"")+" "+(y.cursor===b?i.LIB_NAME+"-item-active":"")+" "+(E.disabled?i.LIB_NAME+"-item-disabled":""),onClick:E.disabled?void 0:function(){return w.addItem(E)},onKeyPress:E.disabled?void 0:function(){return w.addItem(E)},color:g.color},(0,n.getByPath)(E,g.labelField)," ",E.disabled&&r.default.createElement("ins",null,g.disabledLabel))},h}(r.Component),d=(0,t.default)("span",{target:"evc32pp0"})("padding:5px 10px;cursor:pointer;border-bottom:1px solid #fff;&.",i.LIB_NAME,"-item-active{border-bottom:1px solid #fff;",function(C){var h=C.disabled,v=C.color;return!h&&v&&"background: "+(0,n.hexToRGBA)(v,.1)+";"},";}:hover,:focus{background:",function(C){var h=C.color;return h&&(0,n.hexToRGBA)(h,.1)},";outline:none;}&.",i.LIB_NAME,"-item-selected{",function(C){var h=C.disabled,v=C.color;return h?`
    background: #f2f2f2;
    color: #ccc;
    `:`
    background: `+v+`;
    color: #fff;
    border-bottom: 1px solid #fff;
    `},";}",function(C){var h=C.disabled;return h?`
    background: #f2f2f2;
    color: #ccc;

    ins {
      text-decoration: none;
      border:1px solid #ccc;
      border-radius: 2px;
      padding: 0px 3px;
      font-size: x-small;
      text-transform: uppercase;
    }
    `:""},";"),p=c;e.default=p})(m2);(function(e){e.__esModule=!0,e.default=void 0;var t=s(Dn),r=s(x),n=yn,i=s(p2),a=s(m2),o=ro;function s(h){return h&&h.__esModule?h:{default:h}}var l=function(h,v){var S=v.getSelectRef().getBoundingClientRect(),m=S.bottom+parseInt(h.dropdownHeight,10)+parseInt(h.dropdownGap,10);return h.dropdownPosition==="auto"?m>(0,o.isomorphicWindow)().innerHeight&&m>S.top?"top":"bottom":h.dropdownPosition},u=function(h){var v=h.props,S=h.state,m=h.methods;return r.default.createElement(c,{tabIndex:"-1","aria-expanded":"true",role:"list",dropdownPosition:l(v,m),selectBounds:S.selectBounds,portal:v.portal,dropdownGap:v.dropdownGap,dropdownHeight:v.dropdownHeight,className:n.LIB_NAME+"-dropdown "+n.LIB_NAME+"-dropdown-position-"+l(v,m)},v.dropdownRenderer?v.dropdownRenderer({props:v,state:S,methods:m}):r.default.createElement(r.default.Fragment,null,v.create&&S.search&&!(0,o.valueExistInSelected)(S.search,[].concat(S.values,v.options),v)&&r.default.createElement(d,{role:"button",className:n.LIB_NAME+"-dropdown-add-new",color:v.color,onClick:function(){return m.createNew(S.search)}},v.createNewLabel.replace("{search}",'"'+S.search+'"')),S.searchResults.length===0?r.default.createElement(i.default,{className:n.LIB_NAME+"-no-data",state:S,props:v,methods:m}):S.searchResults.map(function(g,y){return r.default.createElement(a.default,{key:g[v.valueField].toString(),item:g,itemIndex:y,state:S,props:v,methods:m})}),v.selectAll&&v.options&&v.multi&&r.default.createElement(p,{role:"button",className:n.LIB_NAME+"-dropdown-select-all",color:v.color,onClick:function(){return m.areAllSelected()?m.clearAll():m.selectAll()}},m.areAllSelected()?v.clearAllLabel:v.selectAllLabel)))},c=(0,t.default)("div",{target:"e1qjn9k92"})("position:absolute;",function(h){var v=h.selectBounds,S=h.dropdownGap,m=h.dropdownPosition;return m==="top"?"bottom: "+(v.height+2+S)+"px":"top: "+(v.height+2+S)+"px"},";",function(h){var v=h.selectBounds,S=h.dropdownGap,m=h.dropdownPosition,g=h.portal;return g?`
      position: fixed;
      `+(m==="bottom"?"top: "+(v.bottom+S)+"px;":"bottom: "+((0,o.isomorphicWindow)().innerHeight-v.top+S)+"px;")+`
      left: `+(v.left-1)+"px;":"left: -1px;"},";border:1px solid #ccc;width:",function(h){var v=h.selectBounds;return v.width},"px;padding:0;display:flex;flex-direction:column;background:#fff;border-radius:2px;box-shadow:0 0 10px 0 ",function(){return(0,o.hexToRGBA)("#000000",.2)},";max-height:",function(h){var v=h.dropdownHeight;return v},";overflow:auto;z-index:9;:focus{outline:none;}"),d=(0,t.default)("div",{target:"e1qjn9k91"})("color:",function(h){var v=h.color;return v},";padding:5px 10px;:hover{background:",function(h){var v=h.color;return v&&(0,o.hexToRGBA)(v,.1)},";outline:none;cursor:pointer;}"),p=(0,t.default)("div",{target:"e1qjn9k90"})("color:",function(h){var v=h.color;return v},";padding:5px 10px;position:sticky;bottom:0;margin:0;opacity:1;background:#fff;box-shadow:0 0 10px 0 ",function(){return(0,o.hexToRGBA)("#000000",.2)},";:hover{outline:none;cursor:pointer;}"),C=u;e.default=C})(h2);var g2={};(function(e){e.__esModule=!0,e.default=void 0;var t=i(Dn),r=i(x),n=yn;function i(l){return l&&l.__esModule?l:{default:l}}var a=function(l){var u=l.props;return u.loadingRenderer?u.loadingRenderer({props:u}):r.default.createElement(o,{className:n.LIB_NAME+"-loading",color:u.color})},o=(0,t.default)("div",{target:"e1l5cpc30"})("@keyframes dual-ring-spin{0%{transform:rotate(0deg);}100%{transform:rotate(180deg);}}padding:0 5px;display:block;width:auto;height:auto;:after{content:' ';display:block;width:16px;height:16px;border-radius:50%;border-width:1px;border-style:solid;border-color:",function(l){var u=l.color;return u}," transparent;animation:dual-ring-spin 0.7s ease-in-out infinite;margin:0 0 0 -10px;}"),s=a;e.default=s})(g2);var v2={};(function(e){e.__esModule=!0,e.default=void 0;var t=i(Dn),r=i(x),n=yn;function i(l){return l&&l.__esModule?l:{default:l}}var a=function(l){var u=l.props,c=l.state,d=l.methods;return u.clearRenderer?u.clearRenderer({props:u,state:c,methods:d}):r.default.createElement(o,{className:n.LIB_NAME+"-clear",tabIndex:"-1",onClick:function(){return d.clearAll()},onKeyPress:function(){return d.clearAll()}},"")},o=(0,t.default)("div",{target:"e11qlq5e0"})({name:"992gsg",styles:"line-height:25px;margin:0 10px;cursor:pointer;:focus{outline:none;}:hover{color:tomato;}"}),s=a;e.default=s})(v2);var y2={};(function(e){e.__esModule=!0,e.default=void 0;var t=i(Dn),r=i(x),n=yn;function i(l){return l&&l.__esModule?l:{default:l}}var a=function(l){var u=l.props,c=l.state,d=l.methods;return u.separatorRenderer?u.separatorRenderer({props:u,state:c,methods:d}):r.default.createElement(o,{className:n.LIB_NAME+"-separator"})},o=(0,t.default)("div",{target:"e19h5j1v0"})({name:"cmi1n0",styles:"border-left:1px solid #ccc;width:1px;height:25px;display:block"}),s=a;e.default=s})(y2);var C2={};(function(e){e.__esModule=!0,e.default=void 0;var t=i(Dn),r=i(x),n=yn;function i(l){return l&&l.__esModule?l:{default:l}}var a=function(l){var u=l.props,c=l.state,d=l.methods;return r.default.createElement(o,{tabIndex:"-1",onClick:function(C){return d.dropDown(c.dropdown?"close":"open",C)},dropdownOpen:c.dropdown,onKeyPress:function(C){return d.dropDown("toggle",C)},onKeyDown:function(C){return d.dropDown("toggle",C)},className:n.LIB_NAME+"-dropdown-handle",rotate:u.dropdownHandleRenderer?0:1,color:u.color},u.dropdownHandleRenderer?u.dropdownHandleRenderer({props:u,state:c,methods:d}):r.default.createElement("svg",{fill:"currentColor",viewBox:"0 0 40 40"},r.default.createElement("path",{d:"M31 26.4q0 .3-.2.5l-1.1 1.2q-.3.2-.6.2t-.5-.2l-8.7-8.8-8.8 8.8q-.2.2-.5.2t-.5-.2l-1.2-1.2q-.2-.2-.2-.5t.2-.5l10.4-10.4q.3-.2.6-.2t.5.2l10.4 10.4q.2.2.2.5z"})))},o=(0,t.default)("div",{target:"e1vudypg0"})("text-align:center;",function(l){var u=l.dropdownOpen,c=l.rotate;return u?`
      pointer-events: all;
      `+(c?"transform: rotate(0deg);margin: 0px 0 -3px 5px;":"")+`
      `:`
      pointer-events: none;
      `+(c?"margin: 0 0 0 5px;transform: rotate(180deg);":"")+`
      `},";cursor:pointer;svg{width:16px;height:16px;}:hover{path{stroke:",function(l){var u=l.color;return u},";}}:focus{outline:none;path{stroke:",function(l){var u=l.color;return u},";}}"),s=a;e.default=s})(C2);(function(e){e.__esModule=!0,e.default=e.Select=void 0;var t=v(Dn),r=h(x),n=v(Dl),i=v(i2),a=v(l2),o=v(h2),s=v(g2),l=v(v2),u=v(y2),c=v(C2),d=ro,p=yn;v(pg);function C(T){if(typeof WeakMap!="function")return null;var _=new WeakMap,M=new WeakMap;return(C=function(D){return D?M:_})(T)}function h(T,_){if(!_&&T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var M=C(_);if(M&&M.has(T))return M.get(T);var D={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in T)if(B!="default"&&Object.prototype.hasOwnProperty.call(T,B)){var F=A?Object.getOwnPropertyDescriptor(T,B):null;F&&(F.get||F.set)?Object.defineProperty(D,B,F):D[B]=T[B]}return D.default=T,M&&M.set(T,D),D}function v(T){return T&&T.__esModule?T:{default:T}}function S(){return S=Object.assign?Object.assign.bind():function(T){for(var _,M=1;M<arguments.length;M++)for(var D in _=arguments[M],_)Object.prototype.hasOwnProperty.call(_,D)&&(T[D]=_[D]);return T},S.apply(this,arguments)}function m(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function g(T,_){T.prototype=Object.create(_.prototype),T.prototype.constructor=T,y(T,_)}function y(T,_){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,D){return M.__proto__=D,M},y(T,_)}var w=function(T){function _(D){var A;return A=T.call(this,D)||this,A.onDropdownClose=function(){A.setState({cursor:null}),A.props.onDropdownClose()},A.onScroll=function(){A.props.closeOnScroll&&A.dropDown("close"),A.updateSelectBounds()},A.updateSelectBounds=function(){return A.select.current&&A.setState({selectBounds:A.select.current.getBoundingClientRect()})},A.getSelectBounds=function(){return A.state.selectBounds},A.dropDown=function(B,F,L){B===void 0&&(B="toggle"),L===void 0&&(L=!1);var P=F&&F.target||F&&F.srcElement;return A.props.onDropdownCloseRequest!==void 0&&A.state.dropdown&&L===!1&&B==="close"?A.props.onDropdownCloseRequest({props:A.props,methods:A.methods,state:A.state,close:function(){return A.dropDown("close",null,!0)}}):A.props.portal&&!A.props.closeOnScroll&&!A.props.closeOnSelect&&F&&P&&P.offsetParent&&P.offsetParent.classList.contains("react-dropdown-select-dropdown")?void 0:A.props.keepOpen?A.setState({dropdown:!0}):B==="close"&&A.state.dropdown?(A.select.current.blur(),A.setState({dropdown:!1,search:A.props.clearOnBlur?"":A.state.search,searchResults:A.props.options})):B!=="open"||A.state.dropdown?B==="toggle"&&(A.select.current.focus(),A.setState({dropdown:!A.state.dropdown})):A.setState({dropdown:!0})},A.getSelectRef=function(){return A.select.current},A.addItem=function(B){if(A.props.multi){if((0,d.valueExistInSelected)((0,d.getByPath)(B,A.props.valueField),A.state.values,A.props))return A.removeItem(null,B,!1);A.setState({values:[].concat(A.state.values,[B])})}else A.setState({values:[B],dropdown:!1});return A.props.clearOnSelect&&A.setState({search:""},function(){A.setState({searchResults:A.searchResults()})}),!0},A.removeItem=function(B,F,L){L===void 0&&(L=!1),B&&L&&(B.preventDefault(),B.stopPropagation(),A.dropDown("close")),A.setState({values:A.state.values.filter(function(P){return(0,d.getByPath)(P,A.props.valueField)!==(0,d.getByPath)(F,A.props.valueField)})})},A.setSearch=function(B){A.setState({cursor:null}),A.setState({search:B.target.value},function(){A.setState({searchResults:A.searchResults()})})},A.getInputSize=function(){return A.state.search?A.state.search.length:0<A.state.values.length?A.props.addPlaceholder.length:A.props.placeholder.length},A.toggleSelectAll=function(){return A.setState({values:A.state.values.length===0?A.selectAll():A.clearAll()})},A.clearAll=function(){A.props.onClearAll(),A.setState({values:[]})},A.selectAll=function(B){B===void 0&&(B=[]),A.props.onSelectAll();var F=0<B.length?B:A.props.options.filter(function(L){return!L.disabled});A.setState({values:F})},A.isSelected=function(B){return!!A.state.values.find(function(F){return(0,d.getByPath)(F,A.props.valueField)===(0,d.getByPath)(B,A.props.valueField)})},A.areAllSelected=function(){return A.state.values.length===A.props.options.filter(function(B){return!B.disabled}).length},A.safeString=function(B){return B.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},A.sortBy=function(){var B=A.props,F=B.sortBy,L=B.options;return F&&L.sort(function(P,$){return(0,d.getProp)(P,F)<(0,d.getProp)($,F)?-1:(0,d.getProp)(P,F)>(0,d.getProp)($,F)?1:0}),L},A.searchFn=function(B){var F=B.state,L=B.methods,P=new RegExp(L.safeString(F.search),"i");return L.sortBy().filter(function($){return P.test((0,d.getByPath)($,A.props.searchBy)||(0,d.getByPath)($,A.props.valueField))})},A.searchResults=function(){var B={state:A.state,props:A.props,methods:A.methods};return A.props.searchFn(B)||A.searchFn(B)},A.activeCursorItem=function(B){return A.setState({activeCursorItem:B})},A.handleKeyDown=function(B){var F={event:B,state:A.state,props:A.props,methods:A.methods,setState:A.setState.bind(m(A))};return A.props.handleKeyDownFn(F)||A.handleKeyDownFn(F)},A.handleKeyDownFn=function(B){var F=B.event,L=B.state,P=B.props,$=B.methods,K=B.setState,H=L.cursor,j=L.searchResults,q=F.key==="Escape",te=F.key==="Enter",G=F.key==="ArrowUp",ne=F.key==="ArrowDown",Q=F.key==="Backspace",ee=F.key==="Tab"&&!F.shiftKey,ve=F.shiftKey&&F.key==="Tab";if(ne&&!L.dropdown)return F.preventDefault(),A.dropDown("open"),K({cursor:0});if((ne||ee&&L.dropdown)&&H===null)return K({cursor:0});if((G||ne||ve&&L.dropdown||ee&&L.dropdown)&&F.preventDefault(),q&&A.dropDown("close"),te){var ye=j[H];if(ye&&!ye.disabled){if(P.create&&(0,d.valueExistInSelected)(L.search,L.values,P))return null;$.addItem(ye)}}return(ne||ee&&L.dropdown)&&j.length===H?K({cursor:0}):((ne||ee&&L.dropdown)&&K(function(Ee){return{cursor:Ee.cursor+1}}),(G||ve&&L.dropdown)&&0<H&&K(function(Ee){return{cursor:Ee.cursor-1}}),(G||ve&&L.dropdown)&&H===0&&K({cursor:j.length}),void(Q&&P.backspaceDelete&&A.getInputSize()===0&&A.setState({values:A.state.values.slice(0,-1)})))},A.renderDropdown=function(){return A.props.portal?n.default.createPortal(r.default.createElement(o.default,{props:A.props,state:A.state,methods:A.methods}),A.dropdownRoot):r.default.createElement(o.default,{props:A.props,state:A.state,methods:A.methods})},A.createNew=function(B){var F,L=(F={},F[A.props.labelField]=B,F[A.props.valueField]=B,F);A.addItem(L),A.props.onCreateNew(L),A.setState({search:""})},A.state={dropdown:!1,values:D.values,search:"",selectBounds:{},cursor:null,searchResults:D.options},A.methods={activeCursorItem:A.activeCursorItem,addItem:A.addItem,areAllSelected:A.areAllSelected,clearAll:A.clearAll,createNew:A.createNew,dropDown:A.dropDown,getInputSize:A.getInputSize,getSelectBounds:A.getSelectBounds,getSelectRef:A.getSelectRef,handleKeyDown:A.handleKeyDown,isSelected:A.isSelected,removeItem:A.removeItem,safeString:A.safeString,searchResults:A.searchResults,selectAll:A.selectAll,setSearch:A.setSearch,sortBy:A.sortBy,toggleSelectAll:A.toggleSelectAll},A.select=r.default.createRef(),A.dropdownRoot=typeof document<"u"&&document.createElement("div"),A}g(_,T);var M=_.prototype;return M.componentDidMount=function(){this.props.portal&&this.props.portal.appendChild(this.dropdownRoot),(0,d.isomorphicWindow)().addEventListener("resize",(0,d.debounce)(this.updateSelectBounds)),(0,d.isomorphicWindow)().addEventListener("scroll",(0,d.debounce)(this.onScroll)),this.dropDown("close"),this.select&&this.updateSelectBounds()},M.componentDidUpdate=function(A,B){var F=this;!this.props.compareValuesFunc(A.values,this.props.values)&&this.props.compareValuesFunc(A.values,B.values)&&(this.setState({values:this.props.values},function(){F.props.onChange(F.state.values)}),this.updateSelectBounds()),A.options!==this.props.options&&this.setState({searchResults:this.searchResults()}),B.values!==this.state.values&&(this.props.onChange(this.state.values),this.updateSelectBounds()),B.search!==this.state.search&&this.updateSelectBounds(),B.values!==this.state.values&&this.props.closeOnSelect&&this.dropDown("close"),A.multi!==this.props.multi&&this.updateSelectBounds(),B.dropdown&&B.dropdown!==this.state.dropdown&&this.onDropdownClose(),B.dropdown||B.dropdown===this.state.dropdown||this.props.onDropdownOpen()},M.componentWillUnmount=function(){this.props.portal&&this.props.portal.removeChild(this.dropdownRoot),(0,d.isomorphicWindow)().removeEventListener("resize",(0,d.debounce)(this.updateSelectBounds,this.props.debounceDelay)),(0,d.isomorphicWindow)().removeEventListener("scroll",(0,d.debounce)(this.onScroll,this.props.debounceDelay))},M.render=function(){var A=this;return r.default.createElement(i.default,{onClickOutside:function(F){return A.dropDown("close",F)}},r.default.createElement(E,S({onKeyDown:this.handleKeyDown,"aria-label":"Dropdown select","aria-expanded":this.state.dropdown,onClick:function(F){return A.dropDown("open",F)},tabIndex:this.props.disabled?"-1":"0",direction:this.props.direction,style:this.props.style,ref:this.select,disabled:this.props.disabled,className:p.LIB_NAME+" "+this.props.className,color:this.props.color},this.props.additionalProps),r.default.createElement(a.default,{props:this.props,state:this.state,methods:this.methods}),(this.props.name||this.props.required)&&r.default.createElement("input",{tabIndex:-1,style:{opacity:0,width:0,position:"absolute"},name:this.props.name,required:this.props.required,pattern:this.props.pattern,defaultValue:this.state.values.map(function(B){return B[A.props.labelField]}).toString()||[],disabled:this.props.disabled}),this.props.loading&&r.default.createElement(s.default,{props:this.props}),this.props.clearable&&r.default.createElement(l.default,{props:this.props,state:this.state,methods:this.methods}),this.props.separator&&r.default.createElement(u.default,{props:this.props,state:this.state,methods:this.methods}),this.props.dropdownHandle&&r.default.createElement(c.default,{onClick:function(){return A.select.current.focus()},props:this.props,state:this.state,methods:this.methods}),this.state.dropdown&&!this.props.disabled&&this.renderDropdown()))},_}(r.Component);e.Select=w,w.defaultProps={addPlaceholder:"",additionalProps:null,autoFocus:!1,backspaceDelete:!0,clearAllLabel:"Clear all",clearOnBlur:!0,clearOnSelect:!0,clearable:!1,closeOnScroll:!1,closeOnSelect:!1,closeOnClickInput:!1,color:"#0074D9",compareValuesFunc:d.isEqual,create:!1,createNewLabel:"add {search}",debounceDelay:0,direction:"ltr",disabled:!1,disabledLabel:"disabled",dropdownGap:5,dropdownHandle:!0,dropdownHeight:"300px",dropdownPosition:"bottom",handleKeyDownFn:function(){},keepOpen:!1,keepSelectedInList:!0,labelField:"label",loading:!1,multi:!1,name:null,noDataLabel:"No data",onChange:function(){},onClearAll:function(){},onCreateNew:function(){},onDropdownClose:function(){},onDropdownCloseRequest:void 0,onDropdownOpen:function(){},onSelectAll:function(){},options:[],pattern:void 0,placeholder:"Select...",portal:null,required:!1,searchBy:"label",searchFn:function(){},searchable:!0,selectAll:!1,selectAllLabel:"Select all",separator:!1,sortBy:null,valueField:"value",values:[]};var E=(0,t.default)("div",{target:"e1gzf2xs0"})("box-sizing:border-box;position:relative;display:flex;border:1px solid #ccc;width:100%;border-radius:2px;padding:2px 5px;flex-direction:row;direction:",function(T){var _=T.direction;return _},";align-items:center;cursor:pointer;min-height:36px;",function(T){var _=T.disabled;return _?"cursor: not-allowed;pointer-events: none;opacity: 0.3;":"pointer-events: all;"}," :hover,:focus-within{border-color:",function(T){var _=T.color;return _},";}:focus,:focus-within{outline:0;box-shadow:0 0 0 3px ",function(T){var _=T.color;return(0,d.hexToRGBA)(_,.2)},";}*{box-sizing:border-box;}"),b=w;e.default=b})(qE);const $l=Xa(qE);var uM=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ui(e,t){return uM(e.querySelectorAll(t))}const Es=!!(typeof window<"u"&&window.document&&window.document.createElement);var c0=!1,d0=!1;try{var vh={get passive(){return c0=!0},get once(){return d0=c0=!0}};Es&&(window.addEventListener("test",vh,vh),window.removeEventListener("test",vh,!0))}catch{}function mg(e,t,r,n){if(n&&typeof n!="boolean"&&!d0){var i=n.once,a=n.capture,o=r;!d0&&i&&(o=r.__once||function s(l){this.removeEventListener(t,s,a),r.call(this,l)},r.__once=o),e.addEventListener(t,o,c0?n:a)}e.addEventListener(t,r,n)}function cM(e,t,r){const n=x.useRef(e!==void 0),[i,a]=x.useState(t),o=e!==void 0,s=n.current;return n.current=o,!o&&s&&i!==t&&a(t),[o?e:i,x.useCallback((...l)=>{const[u,...c]=l;let d=r==null?void 0:r(u,...c);return a(u),d},[r])]}function S2(e){const t=x.useRef(null);return x.useEffect(()=>{t.current=e}),t.current}function dM(){const[,e]=x.useReducer(t=>!t,!1);return e}function fM(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e},[e]),t}function $t(e){const t=fM(e);return x.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function hM(e,t,r,n=!1){const i=$t(r);x.useEffect(()=>{const a=typeof e=="function"?e():e;return a.addEventListener(t,i,n),()=>a.removeEventListener(t,i,n)},[e])}const pM=x.createContext(null),Cf=pM;function w2(){return x.useState(null)}var h1=Object.prototype.hasOwnProperty;function p1(e,t,r){for(r of e.keys())if(hl(r,t))return r}function hl(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&hl(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if(i=n,i&&typeof i=="object"&&(i=p1(t,i),!i)||!t.has(i))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if(i=n[0],i&&typeof i=="object"&&(i=p1(t,i),!i)||!hl(n[1],t.get(i)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(h1.call(e,r)&&++n&&!h1.call(t,r)||!(r in t)||!hl(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function gg(){const e=x.useRef(!0),t=x.useRef(()=>e.current);return x.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function mM(e){const t=gg();return[e[0],x.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Mr="top",gn="bottom",vn="right",Or="left",vg="auto",cu=[Mr,gn,vn,Or],os="start",Hl="end",gM="clippingParents",x2="viewport",Hs="popper",vM="reference",m1=cu.reduce(function(e,t){return e.concat([t+"-"+os,t+"-"+Hl])},[]),E2=[].concat(cu,[vg]).reduce(function(e,t){return e.concat([t,t+"-"+os,t+"-"+Hl])},[]),yM="beforeRead",CM="read",SM="afterRead",wM="beforeMain",xM="main",EM="afterMain",bM="beforeWrite",TM="write",AM="afterWrite",kM=[yM,CM,SM,wM,xM,EM,bM,TM,AM];function Jn(e){return e.split("-")[0]}function Wr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ya(e){var t=Wr(e).Element;return e instanceof t||e instanceof Element}function Zn(e){var t=Wr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function yg(e){if(typeof ShadowRoot>"u")return!1;var t=Wr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var $a=Math.max,vd=Math.min,ss=Math.round;function f0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function b2(){return!/^((?!chrome|android).)*safari/i.test(f0())}function ls(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&Zn(e)&&(i=e.offsetWidth>0&&ss(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&ss(n.height)/e.offsetHeight||1);var o=Ya(e)?Wr(e):window,s=o.visualViewport,l=!b2()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/i,c=(n.top+(l&&s?s.offsetTop:0))/a,d=n.width/i,p=n.height/a;return{width:d,height:p,top:c,right:u+d,bottom:c+p,left:u,x:u,y:c}}function Cg(e){var t=ls(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function T2(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&yg(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function fa(e){return e?(e.nodeName||"").toLowerCase():null}function xi(e){return Wr(e).getComputedStyle(e)}function IM(e){return["table","td","th"].indexOf(fa(e))>=0}function Ca(e){return((Ya(e)?e.ownerDocument:e.document)||window.document).documentElement}function Sf(e){return fa(e)==="html"?e:e.assignedSlot||e.parentNode||(yg(e)?e.host:null)||Ca(e)}function g1(e){return!Zn(e)||xi(e).position==="fixed"?null:e.offsetParent}function NM(e){var t=/firefox/i.test(f0()),r=/Trident/i.test(f0());if(r&&Zn(e)){var n=xi(e);if(n.position==="fixed")return null}var i=Sf(e);for(yg(i)&&(i=i.host);Zn(i)&&["html","body"].indexOf(fa(i))<0;){var a=xi(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function du(e){for(var t=Wr(e),r=g1(e);r&&IM(r)&&xi(r).position==="static";)r=g1(r);return r&&(fa(r)==="html"||fa(r)==="body"&&xi(r).position==="static")?t:r||NM(e)||t}function Sg(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pl(e,t,r){return $a(e,vd(t,r))}function RM(e,t,r){var n=pl(e,t,r);return n>r?r:n}function A2(){return{top:0,right:0,bottom:0,left:0}}function k2(e){return Object.assign({},A2(),e)}function I2(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var _M=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,k2(typeof t!="number"?t:I2(t,cu))};function BM(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=Jn(r.placement),l=Sg(s),u=[Or,vn].indexOf(s)>=0,c=u?"height":"width";if(!(!a||!o)){var d=_M(i.padding,r),p=Cg(a),C=l==="y"?Mr:Or,h=l==="y"?gn:vn,v=r.rects.reference[c]+r.rects.reference[l]-o[l]-r.rects.popper[c],S=o[l]-r.rects.reference[l],m=du(a),g=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,y=v/2-S/2,w=d[C],E=g-p[c]-d[h],b=g/2-p[c]/2+y,T=pl(w,b,E),_=l;r.modifiersData[n]=(t={},t[_]=T,t.centerOffset=T-b,t)}}function DM(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||T2(t.elements.popper,i)&&(t.elements.arrow=i))}const LM={name:"arrow",enabled:!0,phase:"main",fn:BM,effect:DM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function us(e){return e.split("-")[1]}var MM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function OM(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:ss(r*i)/i||0,y:ss(n*i)/i||0}}function v1(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=o.x,C=p===void 0?0:p,h=o.y,v=h===void 0?0:h,S=typeof c=="function"?c({x:C,y:v}):{x:C,y:v};C=S.x,v=S.y;var m=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),y=Or,w=Mr,E=window;if(u){var b=du(r),T="clientHeight",_="clientWidth";if(b===Wr(r)&&(b=Ca(r),xi(b).position!=="static"&&s==="absolute"&&(T="scrollHeight",_="scrollWidth")),b=b,i===Mr||(i===Or||i===vn)&&a===Hl){w=gn;var M=d&&b===E&&E.visualViewport?E.visualViewport.height:b[T];v-=M-n.height,v*=l?1:-1}if(i===Or||(i===Mr||i===gn)&&a===Hl){y=vn;var D=d&&b===E&&E.visualViewport?E.visualViewport.width:b[_];C-=D-n.width,C*=l?1:-1}}var A=Object.assign({position:s},u&&MM),B=c===!0?OM({x:C,y:v},Wr(r)):{x:C,y:v};if(C=B.x,v=B.y,l){var F;return Object.assign({},A,(F={},F[w]=g?"0":"",F[y]=m?"0":"",F.transform=(E.devicePixelRatio||1)<=1?"translate("+C+"px, "+v+"px)":"translate3d("+C+"px, "+v+"px, 0)",F))}return Object.assign({},A,(t={},t[w]=g?v+"px":"",t[y]=m?C+"px":"",t.transform="",t))}function PM(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:Jn(t.placement),variation:us(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,v1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,v1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const FM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:PM,data:{}};var zu={passive:!0};function UM(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,l=Wr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",r.update,zu)}),s&&l.addEventListener("resize",r.update,zu),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",r.update,zu)}),s&&l.removeEventListener("resize",r.update,zu)}}const VM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UM,data:{}};var KM={left:"right",right:"left",bottom:"top",top:"bottom"};function yc(e){return e.replace(/left|right|bottom|top/g,function(t){return KM[t]})}var $M={start:"end",end:"start"};function y1(e){return e.replace(/start|end/g,function(t){return $M[t]})}function wg(e){var t=Wr(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function xg(e){return ls(Ca(e)).left+wg(e).scrollLeft}function HM(e,t){var r=Wr(e),n=Ca(e),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=b2();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+xg(e),y:l}}function jM(e){var t,r=Ca(e),n=wg(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=$a(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=$a(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+xg(e),l=-n.scrollTop;return xi(i||r).direction==="rtl"&&(s+=$a(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function Eg(e){var t=xi(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function N2(e){return["html","body","#document"].indexOf(fa(e))>=0?e.ownerDocument.body:Zn(e)&&Eg(e)?e:N2(Sf(e))}function ml(e,t){var r;t===void 0&&(t=[]);var n=N2(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=Wr(n),o=i?[a].concat(a.visualViewport||[],Eg(n)?n:[]):n,s=t.concat(o);return i?s:s.concat(ml(Sf(o)))}function h0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function zM(e,t){var r=ls(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function C1(e,t,r){return t===x2?h0(HM(e,r)):Ya(t)?zM(t,r):h0(jM(Ca(e)))}function qM(e){var t=ml(Sf(e)),r=["absolute","fixed"].indexOf(xi(e).position)>=0,n=r&&Zn(e)?du(e):e;return Ya(n)?t.filter(function(i){return Ya(i)&&T2(i,n)&&fa(i)!=="body"}):[]}function GM(e,t,r,n){var i=t==="clippingParents"?qM(e):[].concat(t),a=[].concat(i,[r]),o=a[0],s=a.reduce(function(l,u){var c=C1(e,u,n);return l.top=$a(c.top,l.top),l.right=vd(c.right,l.right),l.bottom=vd(c.bottom,l.bottom),l.left=$a(c.left,l.left),l},C1(e,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function R2(e){var t=e.reference,r=e.element,n=e.placement,i=n?Jn(n):null,a=n?us(n):null,o=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(i){case Mr:l={x:o,y:t.y-r.height};break;case gn:l={x:o,y:t.y+t.height};break;case vn:l={x:t.x+t.width,y:s};break;case Or:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?Sg(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case os:l[u]=l[u]-(t[c]/2-r[c]/2);break;case Hl:l[u]=l[u]+(t[c]/2-r[c]/2);break}}return l}function jl(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,a=r.strategy,o=a===void 0?e.strategy:a,s=r.boundary,l=s===void 0?gM:s,u=r.rootBoundary,c=u===void 0?x2:u,d=r.elementContext,p=d===void 0?Hs:d,C=r.altBoundary,h=C===void 0?!1:C,v=r.padding,S=v===void 0?0:v,m=k2(typeof S!="number"?S:I2(S,cu)),g=p===Hs?vM:Hs,y=e.rects.popper,w=e.elements[h?g:p],E=GM(Ya(w)?w:w.contextElement||Ca(e.elements.popper),l,c,o),b=ls(e.elements.reference),T=R2({reference:b,element:y,strategy:"absolute",placement:i}),_=h0(Object.assign({},y,T)),M=p===Hs?_:b,D={top:E.top-M.top+m.top,bottom:M.bottom-E.bottom+m.bottom,left:E.left-M.left+m.left,right:M.right-E.right+m.right},A=e.modifiersData.offset;if(p===Hs&&A){var B=A[i];Object.keys(D).forEach(function(F){var L=[vn,gn].indexOf(F)>=0?1:-1,P=[Mr,gn].indexOf(F)>=0?"y":"x";D[F]+=B[P]*L})}return D}function WM(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?E2:l,c=us(n),d=c?s?m1:m1.filter(function(h){return us(h)===c}):cu,p=d.filter(function(h){return u.indexOf(h)>=0});p.length===0&&(p=d);var C=p.reduce(function(h,v){return h[v]=jl(e,{placement:v,boundary:i,rootBoundary:a,padding:o})[Jn(v)],h},{});return Object.keys(C).sort(function(h,v){return C[h]-C[v]})}function QM(e){if(Jn(e)===vg)return[];var t=yc(e);return[y1(e),t,y1(t)]}function YM(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,c=r.boundary,d=r.rootBoundary,p=r.altBoundary,C=r.flipVariations,h=C===void 0?!0:C,v=r.allowedAutoPlacements,S=t.options.placement,m=Jn(S),g=m===S,y=l||(g||!h?[yc(S)]:QM(S)),w=[S].concat(y).reduce(function(Q,ee){return Q.concat(Jn(ee)===vg?WM(t,{placement:ee,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:v}):ee)},[]),E=t.rects.reference,b=t.rects.popper,T=new Map,_=!0,M=w[0],D=0;D<w.length;D++){var A=w[D],B=Jn(A),F=us(A)===os,L=[Mr,gn].indexOf(B)>=0,P=L?"width":"height",$=jl(t,{placement:A,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),K=L?F?vn:Or:F?gn:Mr;E[P]>b[P]&&(K=yc(K));var H=yc(K),j=[];if(a&&j.push($[B]<=0),s&&j.push($[K]<=0,$[H]<=0),j.every(function(Q){return Q})){M=A,_=!1;break}T.set(A,j)}if(_)for(var q=h?3:1,te=function(ee){var ve=w.find(function(ye){var Ee=T.get(ye);if(Ee)return Ee.slice(0,ee).every(function(be){return be})});if(ve)return M=ve,"break"},G=q;G>0;G--){var ne=te(G);if(ne==="break")break}t.placement!==M&&(t.modifiersData[n]._skip=!0,t.placement=M,t.reset=!0)}}const XM={name:"flip",enabled:!0,phase:"main",fn:YM,requiresIfExists:["offset"],data:{_skip:!1}};function S1(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function w1(e){return[Mr,vn,gn,Or].some(function(t){return e[t]>=0})}function JM(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=jl(t,{elementContext:"reference"}),s=jl(t,{altBoundary:!0}),l=S1(o,n),u=S1(s,i,a),c=w1(l),d=w1(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const ZM={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:JM};function e5(e,t,r){var n=Jn(e),i=[Or,Mr].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[Or,vn].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function t5(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=i===void 0?[0,0]:i,o=E2.reduce(function(c,d){return c[d]=e5(d,t.rects,a),c},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const r5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:t5};function n5(e){var t=e.state,r=e.name;t.modifiersData[r]=R2({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const i5={name:"popperOffsets",enabled:!0,phase:"read",fn:n5,data:{}};function a5(e){return e==="x"?"y":"x"}function o5(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,d=r.padding,p=r.tether,C=p===void 0?!0:p,h=r.tetherOffset,v=h===void 0?0:h,S=jl(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=Jn(t.placement),g=us(t.placement),y=!g,w=Sg(m),E=a5(w),b=t.modifiersData.popperOffsets,T=t.rects.reference,_=t.rects.popper,M=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,D=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,B={x:0,y:0};if(b){if(a){var F,L=w==="y"?Mr:Or,P=w==="y"?gn:vn,$=w==="y"?"height":"width",K=b[w],H=K+S[L],j=K-S[P],q=C?-_[$]/2:0,te=g===os?T[$]:_[$],G=g===os?-_[$]:-T[$],ne=t.elements.arrow,Q=C&&ne?Cg(ne):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:A2(),ve=ee[L],ye=ee[P],Ee=pl(0,T[$],Q[$]),be=y?T[$]/2-q-Ee-ve-D.mainAxis:te-Ee-ve-D.mainAxis,$e=y?-T[$]/2+q+Ee+ye+D.mainAxis:G+Ee+ye+D.mainAxis,oe=t.elements.arrow&&du(t.elements.arrow),Be=oe?w==="y"?oe.clientTop||0:oe.clientLeft||0:0,Oe=(F=A==null?void 0:A[w])!=null?F:0,Ue=K+be-Oe-Be,Ce=K+$e-Oe,Et=pl(C?vd(H,Ue):H,K,C?$a(j,Ce):j);b[w]=Et,B[w]=Et-K}if(s){var ut,De=w==="x"?Mr:Or,Pe=w==="x"?gn:vn,Se=b[E],ke=E==="y"?"height":"width",Bt=Se+S[De],Ir=Se-S[Pe],dr=[Mr,Or].indexOf(m)!==-1,Le=(ut=A==null?void 0:A[E])!=null?ut:0,bt=dr?Bt:Se-T[ke]-_[ke]-Le+D.altAxis,Ot=dr?Se+T[ke]+_[ke]-Le-D.altAxis:Ir,tr=C&&dr?RM(bt,Se,Ot):pl(C?bt:Bt,Se,C?Ot:Ir);b[E]=tr,B[E]=tr-Se}t.modifiersData[n]=B}}const s5={name:"preventOverflow",enabled:!0,phase:"main",fn:o5,requiresIfExists:["offset"]};function l5(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function u5(e){return e===Wr(e)||!Zn(e)?wg(e):l5(e)}function c5(e){var t=e.getBoundingClientRect(),r=ss(t.width)/e.offsetWidth||1,n=ss(t.height)/e.offsetHeight||1;return r!==1||n!==1}function d5(e,t,r){r===void 0&&(r=!1);var n=Zn(t),i=Zn(t)&&c5(t),a=Ca(t),o=ls(e,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((fa(t)!=="body"||Eg(a))&&(s=u5(t)),Zn(t)?(l=ls(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=xg(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function f5(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&i(l)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||i(a)}),n}function h5(e){var t=f5(e);return kM.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function p5(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function m5(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var x1={placement:"bottom",modifiers:[],strategy:"absolute"};function E1(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function g5(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,a=i===void 0?x1:i;return function(s,l,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},x1,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],p=!1,C={state:c,setOptions:function(m){var g=typeof m=="function"?m(c.options):m;v(),c.options=Object.assign({},a,c.options,g),c.scrollParents={reference:Ya(s)?ml(s):s.contextElement?ml(s.contextElement):[],popper:ml(l)};var y=h5(m5([].concat(n,c.options.modifiers)));return c.orderedModifiers=y.filter(function(w){return w.enabled}),h(),C.update()},forceUpdate:function(){if(!p){var m=c.elements,g=m.reference,y=m.popper;if(E1(g,y)){c.rects={reference:d5(g,du(y),c.options.strategy==="fixed"),popper:Cg(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var E=c.orderedModifiers[w],b=E.fn,T=E.options,_=T===void 0?{}:T,M=E.name;typeof b=="function"&&(c=b({state:c,options:_,name:M,instance:C})||c)}}}},update:p5(function(){return new Promise(function(S){C.forceUpdate(),S(c)})}),destroy:function(){v(),p=!0}};if(!E1(s,l))return C;C.setOptions(u).then(function(S){!p&&u.onFirstUpdate&&u.onFirstUpdate(S)});function h(){c.orderedModifiers.forEach(function(S){var m=S.name,g=S.options,y=g===void 0?{}:g,w=S.effect;if(typeof w=="function"){var E=w({state:c,name:m,instance:C,options:y}),b=function(){};d.push(E||b)}})}function v(){d.forEach(function(S){return S()}),d=[]}return C}}const v5=g5({defaultModifiers:[ZM,i5,FM,VM,r5,XM,s5,LM]}),y5=["enabled","placement","strategy","modifiers"];function C5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const S5={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},w5={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:r}=e.elements;if("removeAttribute"in t){const n=(t.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==r.id);n.length?t.setAttribute("aria-describedby",n.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:r,reference:n}=e.elements,i=(t=r.getAttribute("role"))==null?void 0:t.toLowerCase();if(r.id&&i==="tooltip"&&"setAttribute"in n){const a=n.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(r.id)!==-1)return;n.setAttribute("aria-describedby",a?`${a},${r.id}`:r.id)}}},x5=[];function E5(e,t,r={}){let{enabled:n=!0,placement:i="bottom",strategy:a="absolute",modifiers:o=x5}=r,s=C5(r,y5);const l=x.useRef(o),u=x.useRef(),c=x.useCallback(()=>{var S;(S=u.current)==null||S.update()},[]),d=x.useCallback(()=>{var S;(S=u.current)==null||S.forceUpdate()},[]),[p,C]=mM(x.useState({placement:i,update:c,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),h=x.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:S})=>{const m={},g={};Object.keys(S.elements).forEach(y=>{m[y]=S.styles[y],g[y]=S.attributes[y]}),C({state:S,styles:m,attributes:g,update:c,forceUpdate:d,placement:S.placement})}}),[c,d,C]),v=x.useMemo(()=>(hl(l.current,o)||(l.current=o),l.current),[o]);return x.useEffect(()=>{!u.current||!n||u.current.setOptions({placement:i,strategy:a,modifiers:[...v,h,S5]})},[a,i,h,n,v]),x.useEffect(()=>{if(!(!n||e==null||t==null))return u.current=v5(e,t,Object.assign({},s,{placement:i,strategy:a,modifiers:[...v,w5,h]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,C(S=>Object.assign({},S,{attributes:{},styles:{popper:{}}})))}},[n,e,t]),p}function yd(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function p0(e,t,r,n){var i=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,i),r.__once&&e.removeEventListener(t,r.__once,i)}function Yi(e,t,r,n){return mg(e,t,r,n),function(){p0(e,t,r,n)}}function fu(e){return e&&e.ownerDocument||document}var b5=function(){},T5=b5;const A5=Xa(T5),b1=()=>{};function k5(e){return e.button===0}function I5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const yh=e=>e&&("current"in e?e.current:e),T1={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function N5(e,t=b1,{disabled:r,clickTrigger:n="click"}={}){const i=x.useRef(!1),a=x.useRef(!1),o=x.useCallback(u=>{const c=yh(e);A5(!!c,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!c||I5(u)||!k5(u)||!!yd(c,u.target)||a.current,a.current=!1},[e]),s=$t(u=>{const c=yh(e);c&&yd(c,u.target)&&(a.current=!0)}),l=$t(u=>{i.current||t(u)});x.useEffect(()=>{var u,c;if(r||e==null)return;const d=fu(yh(e)),p=d.defaultView||window;let C=(u=p.event)!=null?u:(c=p.parent)==null?void 0:c.event,h=null;T1[n]&&(h=Yi(d,T1[n],s,!0));const v=Yi(d,n,o,!0),S=Yi(d,n,g=>{if(g===C){C=void 0;return}l(g)});let m=[];return"ontouchstart"in d.documentElement&&(m=[].slice.call(d.body.children).map(g=>Yi(g,"mousemove",b1))),()=>{h==null||h(),v(),S(),m.forEach(g=>g())}},[e,r,n,o,s,l])}function R5(e){const t={};return Array.isArray(e)?(e==null||e.forEach(r=>{t[r.name]=r}),t):e||t}function _5(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function B5({enabled:e,enableEvents:t,placement:r,flip:n,offset:i,fixed:a,containerPadding:o,arrowElement:s,popperConfig:l={}}){var u,c,d,p,C;const h=R5(l.modifiers);return Object.assign({},l,{placement:r,enabled:e,strategy:a?"fixed":l.strategy,modifiers:_5(Object.assign({},h,{eventListeners:{enabled:t,options:(u=h.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},h.preventOverflow,{options:o?Object.assign({padding:o},(c=h.preventOverflow)==null?void 0:c.options):(d=h.preventOverflow)==null?void 0:d.options}),offset:{options:Object.assign({offset:i},(p=h.offset)==null?void 0:p.options)},arrow:Object.assign({},h.arrow,{enabled:!!s,options:Object.assign({},(C=h.arrow)==null?void 0:C.options,{element:s})}),flip:Object.assign({enabled:!!n},h.flip)}))})}const D5=["children"];function L5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const M5=()=>{};function _2(e={}){const t=x.useContext(Cf),[r,n]=w2(),i=x.useRef(!1),{flip:a,offset:o,rootCloseEvent:s,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:d=!0,usePopper:p=!!t}=e,C=(t==null?void 0:t.show)==null?!!e.show:t.show;C&&!i.current&&(i.current=!0);const h=b=>{t==null||t.toggle(!1,b)},{placement:v,setMenu:S,menuElement:m,toggleElement:g}=t||{},y=E5(g,m,B5({placement:u||v||"bottom-start",enabled:p,enableEvents:d??C,offset:o,flip:a,fixed:l,arrowElement:r,popperConfig:c})),w=Object.assign({ref:S||M5,"aria-labelledby":g==null?void 0:g.id},y.attributes.popper,{style:y.styles.popper}),E={show:C,placement:v,hasShown:i.current,toggle:t==null?void 0:t.toggle,popper:p?y:null,arrowProps:p?Object.assign({ref:n},y.attributes.arrow,{style:y.styles.arrow}):{}};return N5(m,h,{clickTrigger:s,disabled:!C}),[w,E]}const O5={usePopper:!0};function bg(e){let{children:t}=e,r=L5(e,D5);const[n,i]=_2(r);return f(Ht,{children:t(n,i)})}bg.displayName="DropdownMenu";bg.defaultProps=O5;const Cd={prefix:String(Math.round(Math.random()*1e10)),current:0},B2=Ze.createContext(Cd),P5=Ze.createContext(!1);let F5=!!(typeof window<"u"&&window.document&&window.document.createElement),Ch=new WeakMap;function U5(e=!1){let t=x.useContext(B2),r=x.useRef(null);if(r.current===null&&!e){var n,i;let a=(i=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(n=i.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(a){let o=Ch.get(a);o==null?Ch.set(a,{id:t.current,state:a.memoizedState}):a.memoizedState!==o.state&&(t.current=o.id,Ch.delete(a))}r.current=++t.current}return r.current}function V5(e){let t=x.useContext(B2);t===Cd&&!F5&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=U5(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${r}`}function K5(e){let t=Ze.useId(),[r]=x.useState(q5()),n=r?"react-aria":`react-aria${Cd.prefix}`;return e||`${n}-${t}`}const $5=typeof Ze.useId=="function"?K5:V5;function H5(){return!1}function j5(){return!0}function z5(e){return()=>{}}function q5(){return typeof Ze.useSyncExternalStore=="function"?Ze.useSyncExternalStore(z5,H5,j5):x.useContext(P5)}const D2=e=>{var t;return((t=e.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},A1=()=>{};function L2(){const e=$5(),{show:t=!1,toggle:r=A1,setToggle:n,menuElement:i}=x.useContext(Cf)||{},a=x.useCallback(s=>{r(!t,s)},[t,r]),o={id:e,ref:n||A1,onClick:a,"aria-expanded":!!t};return i&&D2(i)&&(o["aria-haspopup"]=!0),[o,{show:t,toggle:r}]}function M2({children:e}){const[t,r]=L2();return f(Ht,{children:e(t,r)})}M2.displayName="DropdownToggle";const G5=x.createContext(null),k1=(e,t=null)=>e!=null?String(e):t||null,m0=G5,O2=x.createContext(null);O2.displayName="NavContext";const W5=O2,Q5=["as","disabled"];function Y5(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function X5(e){return!e||e.trim()==="#"}function Tg({tagName:e,disabled:t,href:r,target:n,rel:i,role:a,onClick:o,tabIndex:s=0,type:l}){e||(r!=null||n!=null||i!=null?e="a":e="button");const u={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},u];const c=p=>{if((t||e==="a"&&X5(r))&&p.preventDefault(),t){p.stopPropagation();return}o==null||o(p)},d=p=>{p.key===" "&&(p.preventDefault(),c(p))};return e==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:a??"button",disabled:void 0,tabIndex:t?void 0:s,href:r,target:e==="a"?n:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:c,onKeyDown:d},u]}const P2=x.forwardRef((e,t)=>{let{as:r,disabled:n}=e,i=Y5(e,Q5);const[a,{tagName:o}]=Tg(Object.assign({tagName:r,disabled:n},i));return f(o,Object.assign({},i,a,{ref:t}))});P2.displayName="Button";const J5="data-rr-ui-";function Ag(e){return`${J5}${e}`}const Z5=["eventKey","disabled","onClick","active","as"];function eO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function F2({key:e,href:t,active:r,disabled:n,onClick:i}){const a=x.useContext(m0),o=x.useContext(W5),{activeKey:s}=o||{},l=k1(e,t),u=r==null&&e!=null?k1(s)===l:r;return[{onClick:$t(d=>{n||(i==null||i(d),a&&!d.isPropagationStopped()&&a(l,d))}),"aria-disabled":n||void 0,"aria-selected":u,[Ag("dropdown-item")]:""},{isActive:u}]}const U2=x.forwardRef((e,t)=>{let{eventKey:r,disabled:n,onClick:i,active:a,as:o=P2}=e,s=eO(e,Z5);const[l]=F2({key:r,href:s.href,disabled:n,onClick:i,active:a});return f(o,Object.assign({},s,{ref:t},l))});U2.displayName="DropdownItem";const V2=x.createContext(Es?window:void 0);V2.Provider;function wf(){return x.useContext(V2)}function I1(){const e=dM(),t=x.useRef(null),r=x.useCallback(n=>{t.current=n,e()},[e]);return[t,r]}function hu({defaultShow:e,show:t,onSelect:r,onToggle:n,itemSelector:i=`* [${Ag("dropdown-item")}]`,focusFirstItemOnShow:a,placement:o="bottom-start",children:s}){const l=wf(),[u,c]=cM(t,e,n),[d,p]=I1(),C=d.current,[h,v]=I1(),S=h.current,m=S2(u),g=x.useRef(null),y=x.useRef(!1),w=x.useContext(m0),E=x.useCallback((A,B,F=B==null?void 0:B.type)=>{c(A,{originalEvent:B,source:F})},[c]),b=$t((A,B)=>{r==null||r(A,B),E(!1,B,"select"),B.isPropagationStopped()||w==null||w(A,B)}),T=x.useMemo(()=>({toggle:E,placement:o,show:u,menuElement:C,toggleElement:S,setMenu:p,setToggle:v}),[E,o,u,C,S,p,v]);C&&m&&!u&&(y.current=C.contains(C.ownerDocument.activeElement));const _=$t(()=>{S&&S.focus&&S.focus()}),M=$t(()=>{const A=g.current;let B=a;if(B==null&&(B=d.current&&D2(d.current)?"keyboard":!1),B===!1||B==="keyboard"&&!/^key.+$/.test(A))return;const F=Ui(d.current,i)[0];F&&F.focus&&F.focus()});x.useEffect(()=>{u?M():y.current&&(y.current=!1,_())},[u,y,_,M]),x.useEffect(()=>{g.current=null});const D=(A,B)=>{if(!d.current)return null;const F=Ui(d.current,i);let L=F.indexOf(A)+B;return L=Math.max(0,Math.min(L,F.length)),F[L]};return hM(x.useCallback(()=>l.document,[l]),"keydown",A=>{var B,F;const{key:L}=A,P=A.target,$=(B=d.current)==null?void 0:B.contains(P),K=(F=h.current)==null?void 0:F.contains(P);if(/input|textarea/i.test(P.tagName)&&(L===" "||L!=="Escape"&&$||L==="Escape"&&P.type==="search")||!$&&!K||L==="Tab"&&(!d.current||!u))return;g.current=A.type;const j={originalEvent:A,source:A.type};switch(L){case"ArrowUp":{const q=D(P,-1);q&&q.focus&&q.focus(),A.preventDefault();return}case"ArrowDown":if(A.preventDefault(),!u)c(!0,j);else{const q=D(P,1);q&&q.focus&&q.focus()}return;case"Tab":mg(P.ownerDocument,"keyup",q=>{var te;(q.key==="Tab"&&!q.target||!((te=d.current)!=null&&te.contains(q.target)))&&c(!1,j)},{once:!0});break;case"Escape":L==="Escape"&&(A.preventDefault(),A.stopPropagation()),c(!1,j);break}}),f(m0.Provider,{value:b,children:f(Cf.Provider,{value:T,children:s})})}hu.displayName="Dropdown";hu.Menu=bg;hu.Toggle=M2;hu.Item=U2;function xf(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function N1(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function tO(e){var t=rO(e,"string");return typeof t=="symbol"?t:String(t)}function rO(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nO(e,t,r){var n=x.useRef(e!==void 0),i=x.useState(t),a=i[0],o=i[1],s=e!==void 0,l=n.current;return n.current=s,!s&&l&&a!==t&&o(t),[s?e:a,x.useCallback(function(u){for(var c=arguments.length,d=new Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];r&&r.apply(void 0,[u].concat(d)),o(u)},[r])]}function iO(e,t){return Object.keys(t).reduce(function(r,n){var i,a=r,o=a[N1(n)],s=a[n],l=xf(a,[N1(n),n].map(tO)),u=t[n],c=nO(s,o,e[u]),d=c[0],p=c[1];return Qa({},l,(i={},i[n]=d,i[u]=p,i))},e)}function g0(e,t){return g0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g0(e,t)}function aO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,g0(e,t)}const K2=x.createContext({});K2.displayName="DropdownContext";const $2=K2,H2=x.forwardRef(({className:e,bsPrefix:t,as:r="hr",role:n="separator",...i},a)=>(t=tt(t,"dropdown-divider"),f(r,{ref:a,className:_e(e,t),role:n,...i})));H2.displayName="DropdownDivider";const oO=H2,j2=x.forwardRef(({className:e,bsPrefix:t,as:r="div",role:n="heading",...i},a)=>(t=tt(t,"dropdown-header"),f(r,{ref:a,className:_e(e,t),role:n,...i})));j2.displayName="DropdownHeader";const sO=j2,lO=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",uO=typeof document<"u",v0=uO||lO?x.useLayoutEffect:x.useEffect,cO=["onKeyDown"];function dO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function fO(e){return!e||e.trim()==="#"}const z2=x.forwardRef((e,t)=>{let{onKeyDown:r}=e,n=dO(e,cO);const[i]=Tg(Object.assign({tagName:"a"},n)),a=$t(o=>{i.onKeyDown(o),r==null||r(o)});return fO(n.href)||n.role==="button"?f("a",Object.assign({ref:t},n,i,{onKeyDown:a})):f("a",Object.assign({ref:t},n,{onKeyDown:r}))});z2.displayName="Anchor";const hO=z2,q2=x.forwardRef(({bsPrefix:e,className:t,eventKey:r,disabled:n=!1,onClick:i,active:a,as:o=hO,...s},l)=>{const u=tt(e,"dropdown-item"),[c,d]=F2({key:r,href:s.href,disabled:n,onClick:i,active:a});return f(o,{...s,...c,ref:l,className:_e(t,u,d.isActive&&"active",n&&"disabled")})});q2.displayName="DropdownItem";const pO=q2,G2=x.forwardRef(({className:e,bsPrefix:t,as:r="span",...n},i)=>(t=tt(t,"dropdown-item-text"),f(r,{ref:i,className:_e(e,t),...n})));G2.displayName="DropdownItemText";const mO=G2,R1=e=>!e||typeof e=="function"?e:t=>{e.current=t};function gO(e,t){const r=R1(e),n=R1(t);return i=>{r&&r(i),n&&n(i)}}function bs(e,t){return x.useMemo(()=>gO(e,t),[e,t])}const W2=x.createContext(null);W2.displayName="InputGroupContext";const Q2=W2,Y2=x.createContext(null);Y2.displayName="NavbarContext";const vO=Y2;function X2(e,t){return e}const co=at.oneOf(["start","end"]),yO=at.oneOfType([co,at.shape({sm:co}),at.shape({md:co}),at.shape({lg:co}),at.shape({xl:co}),at.shape({xxl:co}),at.object]);function J2(e,t,r){const n=r?"top-end":"top-start",i=r?"top-start":"top-end",a=r?"bottom-end":"bottom-start",o=r?"bottom-start":"bottom-end",s=r?"right-start":"left-start",l=r?"right-end":"left-end",u=r?"left-start":"right-start",c=r?"left-end":"right-end";let d=e?o:a;return t==="up"?d=e?i:n:t==="end"?d=e?c:u:t==="start"?d=e?l:s:t==="down-centered"?d="bottom":t==="up-centered"&&(d="top"),d}const Z2=x.forwardRef(({bsPrefix:e,className:t,align:r,rootCloseEvent:n,flip:i=!0,show:a,renderOnMount:o,as:s="div",popperConfig:l,variant:u,...c},d)=>{let p=!1;const C=x.useContext(vO),h=tt(e,"dropdown-menu"),{align:v,drop:S,isRTL:m}=x.useContext($2);r=r||v;const g=x.useContext(Q2),y=[];if(r)if(typeof r=="object"){const A=Object.keys(r);if(A.length){const B=A[0],F=r[B];p=F==="start",y.push(`${h}-${B}-${F}`)}}else r==="end"&&(p=!0);const w=J2(p,S,m),[E,{hasShown:b,popper:T,show:_,toggle:M}]=_2({flip:i,rootCloseEvent:n,show:a,usePopper:!C&&y.length===0,offset:[0,2],popperConfig:l,placement:w});if(E.ref=bs(X2(d),E.ref),v0(()=>{_&&(T==null||T.update())},[_]),!b&&!o&&!g)return null;typeof s!="string"&&(E.show=_,E.close=()=>M==null?void 0:M(!1),E.align=r);let D=c.style;return T!=null&&T.placement&&(D={...c.style,...E.style},c["x-placement"]=T.placement),f(s,{...c,...E,style:D,...(y.length||C)&&{"data-bs-popper":"static"},className:_e(t,h,_&&"show",p&&`${h}-end`,u&&`${h}-${u}`,...y)})});Z2.displayName="DropdownMenu";const eb=Z2,tb=x.forwardRef(({as:e,bsPrefix:t,variant:r="primary",size:n,active:i=!1,disabled:a=!1,className:o,...s},l)=>{const u=tt(t,"btn"),[c,{tagName:d}]=Tg({tagName:e,disabled:a,...s});return f(d,{...c,...s,ref:l,disabled:a,className:_e(o,u,i&&"active",r&&`${u}-${r}`,n&&`${u}-${n}`,s.href&&a&&"disabled")})});tb.displayName="Button";const pe=tb,rb=x.forwardRef(({bsPrefix:e,split:t,className:r,childBsPrefix:n,as:i=pe,...a},o)=>{const s=tt(e,"dropdown-toggle"),l=x.useContext(Cf);n!==void 0&&(a.bsPrefix=n);const[u]=L2();return u.ref=bs(u.ref,X2(o)),f(i,{className:_e(r,s,t&&`${s}-split`,(l==null?void 0:l.show)&&"show"),...u,...a})});rb.displayName="DropdownToggle";const nb=rb,ib=x.forwardRef((e,t)=>{const{bsPrefix:r,drop:n="down",show:i,className:a,align:o="start",onSelect:s,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:d,autoClose:p=!0,...C}=iO(e,{show:"onToggle"}),h=x.useContext(Q2),v=tt(r,"dropdown"),S=yx(),m=T=>p===!1?T==="click":p==="inside"?T!=="rootClose":p==="outside"?T!=="select":!0,g=$t((T,_)=>{var M,D;!((M=_.originalEvent)==null||(D=M.target)==null)&&D.classList.contains("dropdown-toggle")&&_.source==="mousedown"||(_.originalEvent.currentTarget===document&&(_.source!=="keydown"||_.originalEvent.key==="Escape")&&(_.source="rootClose"),m(_.source)&&(l==null||l(T,_)))}),w=J2(o==="end",n,S),E=x.useMemo(()=>({align:o,drop:n,isRTL:S}),[o,n,S]),b={down:v,"down-centered":`${v}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return f($2.Provider,{value:E,children:f(hu,{placement:w,show:i,onSelect:s,onToggle:g,focusFirstItemOnShow:u,itemSelector:`.${v}-item:not(.disabled):not(:disabled)`,children:h?C.children:f(c,{...C,ref:t,className:_e(a,i&&"show",b[n])})})})});ib.displayName="Dropdown";const dt=Object.assign(ib,{Toggle:nb,Menu:eb,Item:pO,ItemText:mO,Divider:oO,Header:sO});function CO(e){return f("div",{children:N(dt,{onSelect:t=>{e.onSearchTypeChange(t)},style:{float:"right"},children:[f(dt.Toggle,{variant:"secondary",style:{background:"transparent",color:"var(--body-color)",border:"none",boxShadow:"none",margin:0},children:e.searchType}),N(dt.Menu,{align:"left",children:[f(dt.Item,{eventKey:"--All--",children:"--All--"}),f(dt.Item,{eventKey:"Cards",children:"Cards"}),f(dt.Item,{eventKey:"Files",children:"Files"})]})]})})}function _1(e){const t={background:"var(--inactive-search-background)",display:"flex",paddingLeft:0,paddingRight:0,alignItems:"center",borderRadius:e.desktop?12:0};e.desktop&&(t.flexGrow=1);const r=e.desktop?f("span",{style:{position:"absolute",left:"13px",top:"11px"},children:f("svg",{width:"24",height:"24",style:{opacity:.6,stroke:"var(--table-pane-color)"},children:f("use",{href:"#f-search"})})}):"",n=e.desktop?"0px 30px 0px 44px":"0px 30px 0px 10px";return e.page!="Main"?"":N("div",{className:e.desktop?"d-none d-sm-flex":"",style:t,children:[N("div",{style:{flexGrow:1,position:"relative"},children:[f("input",{className:"search_string",type:"text",placeholder:"Search..",autoComplete:"off",onChange:e.onSearchChange,value:e.searchString,style:{backdropFilter:"blur(40px)",padding:n,border:"none",borderRadius:e.desktop?"12px 0 0 12px":0}}),f("span",{className:"search_clear",onClick:e.onSearchClear,children:f("svg",{width:"0.7em",height:"0.7em",className:"item_icon",style:{fill:"var(--table-pane-color)"},children:f("use",{href:"#cross"})})}),r]}),f(CO,{searchType:e.searchType,onSearchTypeChange:e.onSearchTypeChange})]})}function ab(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=ab(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Cc(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=ab(e))&&(n&&(n+=" "),n+=t);return n}var ob=x.createContext({}),SO=()=>x.useContext(ob),wO=e=>Ze.createElement(ob.Provider,{...e});function xO(){let e=new Map;return{on(t,r){return e.has(t)?e.get(t).add(r):e.set(t,new Set([r])),this},off(t,r){return e.has(t)&&e.get(t).delete(r),this},emit(t,r){return e.has(t)&&e.get(t).forEach(n=>{n(r)}),this}}}var Sd=xO(),EO=()=>x.useRef(new Map).current,bO=()=>{},B1=["resize","contextmenu","click","scroll","blur"],_n={show({event:e,id:t,props:r,position:n}){e.preventDefault&&e.preventDefault(),Sd.emit(0).emit(t,{event:e.nativeEvent||e,props:r,position:n})},hideAll(){Sd.emit(0)}};function TO(){let e=new Map,t,r,n,i,a=!1;function o(S){i=Array.from(S.values()),t=-1,n=!0}function s(){i[t].node.focus()}let l=()=>t>=0&&i[t].isSubmenu,u=()=>Array.from(i[t].submenuRefTracker.values());function c(){return t===-1?(d(),!1):!0}function d(){t+1<i.length?t++:t+1===i.length&&(t=0),a&&h(),s()}function p(){t===-1||t===0?t=i.length-1:t-1<i.length&&t--,a&&h(),s()}function C(){if(c()&&l()){let S=u(),{node:m,setSubmenuPosition:g}=i[t];return e.set(m,{isRoot:n,focusedIndex:t,parentNode:r||m,items:i}),g(),m.classList.add("contexify_submenu-isOpen"),r=m,S.length>0?(t=0,i=S):a=!0,n=!1,s(),!0}return!1}function h(){if(c()&&!n){let S=e.get(r);r.classList.remove("contexify_submenu-isOpen"),i=S.items,r=S.parentNode,S.isRoot&&(n=!0,e.clear()),a||(t=S.focusedIndex,s())}}function v(S){function m(g){for(let y of g)y.isSubmenu&&y.submenuRefTracker&&m(Array.from(y.submenuRefTracker.values())),y.keyMatcher&&y.keyMatcher(S)}m(i)}return{init:o,moveDown:d,moveUp:p,openSubmenu:C,closeSubmenu:h,matchKeys:v}}function zl(e){return typeof e=="function"}function D1(e){return typeof e=="string"}function AO(e,t){return x.Children.map(x.Children.toArray(e).filter(Boolean),r=>x.cloneElement(r,t))}function kO(e){let t={x:e.clientX,y:e.clientY},r=e.changedTouches;return r&&(t.x=r[0].clientX,t.y=r[0].clientY),(!t.x||t.x<0)&&(t.x=0),(!t.y||t.y<0)&&(t.y=0),t}function L1(e,t){return zl(e)?e(t):e}function IO(e,t){return{...e,...zl(t)?t(e):t}}var ei=({id:e,theme:t,style:r,className:n,children:i,animation:a="fade",preventDefaultOnKeydown:o=!0,disableBoundariesCheck:s=!1,onVisibilityChange:l,...u})=>{let[c,d]=x.useReducer(IO,{x:0,y:0,visible:!1,triggerEvent:{},propsFromTrigger:null,willLeave:!1}),p=x.useRef(null),C=EO(),[h]=x.useState(()=>TO()),v=x.useRef(),S=x.useRef();x.useEffect(()=>(Sd.on(e,g).on(0,y),()=>{Sd.off(e,g).off(0,y)}),[e,a,s]),x.useEffect(()=>{c.visible?h.init(C):C.clear()},[c.visible,h,C]);function m(F,L){if(p.current&&!s){let{innerWidth:P,innerHeight:$}=window,{offsetWidth:K,offsetHeight:H}=p.current;F+K>P&&(F-=F+K-P),L+H>$&&(L-=L+H-$)}return{x:F,y:L}}x.useEffect(()=>{c.visible&&d(m(c.x,c.y))},[c.visible]),x.useEffect(()=>{function F(P){o&&P.preventDefault()}function L(P){switch(P.key){case"Enter":case" ":h.openSubmenu()||y();break;case"Escape":y();break;case"ArrowUp":F(P),h.moveUp();break;case"ArrowDown":F(P),h.moveDown();break;case"ArrowRight":F(P),h.openSubmenu();break;case"ArrowLeft":F(P),h.closeSubmenu();break;default:h.matchKeys(P);break}}if(c.visible){window.addEventListener("keydown",L);for(let P of B1)window.addEventListener(P,y)}return()=>{window.removeEventListener("keydown",L);for(let P of B1)window.removeEventListener(P,y)}},[c.visible,h,o]);function g({event:F,props:L,position:P}){F.stopPropagation();let $=P||kO(F),{x:K,y:H}=m($.x,$.y);Dl.flushSync(()=>{d({visible:!0,willLeave:!1,x:K,y:H,triggerEvent:F,propsFromTrigger:L})}),clearTimeout(S.current),!v.current&&zl(l)&&(l(!0),v.current=!0)}function y(F){F!=null&&(F.button===2||F.ctrlKey)&&F.type!=="contextmenu"||(a&&(D1(a)||"exit"in a&&a.exit)?d(L=>({willLeave:L.visible})):d(L=>({visible:L.visible?!1:L.visible})),S.current=setTimeout(()=>{zl(l)&&l(!1),v.current=!1}))}function w(){c.willLeave&&c.visible&&Dl.flushSync(()=>d({visible:!1,willLeave:!1}))}function E(){return D1(a)?Cc({[`contexify_willEnter-${a}`]:b&&!A,[`contexify_willLeave-${a} contexify_willLeave-'disabled'`]:b&&A}):a&&"enter"in a&&"exit"in a?Cc({[`contexify_willEnter-${a.enter}`]:a.enter&&b&&!A,[`contexify_willLeave-${a.exit} contexify_willLeave-'disabled'`]:a.exit&&b&&A}):null}let{visible:b,triggerEvent:T,propsFromTrigger:_,x:M,y:D,willLeave:A}=c,B=Cc("contexify",n,{[`contexify_theme-${t}`]:t},E());return Ze.createElement(wO,{value:C},b&&Ze.createElement("div",{...u,className:B,onAnimationEnd:w,style:{...r,left:M,top:D,opacity:1},ref:p,role:"menu"},AO(i,{propsFromTrigger:_,triggerEvent:T})))},qe=({id:e,children:t,className:r,style:n,triggerEvent:i,data:a,propsFromTrigger:o,keyMatcher:s,onClick:l=bO,disabled:u=!1,hidden:c=!1,closeOnClick:d=!0,handlerEvent:p="onClick",...C})=>{let h=x.useRef(),v=SO(),S={id:e,data:a,triggerEvent:i,props:o},m=L1(u,S),g=L1(c,S);function y(T){S.event=T,T.stopPropagation(),m||(d?w():l(S))}function w(){let T=h.current;T.focus(),T.addEventListener("animationend",()=>setTimeout(_n.hideAll),{once:!0}),T.classList.add("contexify_item-feedback"),l(S)}function E(T){T&&!m&&(h.current=T,v.set(T,{node:T,isSubmenu:!1,keyMatcher:!m&&zl(s)&&(_=>{s(_)&&(_.stopPropagation(),_.preventDefault(),S.event=_,w())})}))}function b(T){(T.key==="Enter"||T.key===" ")&&(T.stopPropagation(),S.event=T,w())}return g?null:Ze.createElement("div",{...C,[p]:y,className:Cc("contexify_item",r,{"contexify_item-disabled":m}),style:n,onKeyDown:b,ref:E,tabIndex:-1,role:"menuitem","aria-disabled":m},Ze.createElement("div",{className:"contexify_itemContent"},t))};const sb=["theme-lite","theme-dark","theme-dark2","theme-dark5","theme-darkgreen"];function NO(e){document.querySelector("body").classList.remove(...sb),document.querySelector("body").classList.add(e),Te.post(`${Re()}account.php`,{verifier:ge(),operation:"theme",theme:e})}function RO(e){function t(i){i||e.onHidden()}const r=document.querySelector("body").classList;let n="theme-lite";for(const i of r)i.substring(0,6)=="theme-"&&(n=i);return console.log(n),f(ei,{id:"theme-menu-id",onVisibilityChange:t,children:sb.map(i=>N(qe,{onClick:()=>NO(i),children:[n==i?f("span",{style:{width:24},children:""}):f("span",{style:{width:24}}),i.substring(6)]},i.substring(6)))})}function M1(e,t){if(e==0)return 0;let r=Math.floor(e*100/t);return r<2?2:r>100?100:r}function _O(e){if(!e.show)return null;const t=d=>{d.stopPropagation()},r=()=>{e.onClose()},n=()=>{window.location="logout.php"},i=(d,p)=>{if(d.stopPropagation(),p=="theme"){d.preventDefault(),_n.show({id:"theme-menu-id",event:d});return}e.onClose(),e.onMenuCommand(p)},a=()=>{e.onMenuCommand("upgrade")},o=Bn(),s=e.show?"pmodal":"pmodal d-none",l=f("b",{children:Pl(o.totalStorage?o.totalStorage:0)}),u=f("b",{children:o.totalRecords?o.totalRecords:0});let c=document.body.getBoundingClientRect().right-document.querySelector(".account-dropdown-button").getBoundingClientRect().right-27;return c<=16&&(c=16),f("div",{className:s,onClick:r,children:N("div",{className:"pmodal-body account",onClick:t,style:{right:c},children:[N("div",{style:{marginBottom:"16px"},children:[o.email&&f("div",{children:o.email}),"upgrade"in o&&N("div",{style:{fontSize:"13px",lineHeight:"24px",color:"#979797"},children:["Free account"," ",f("a",{className:"link",href:"#",onClick:a,children:"Upgrade"})]})]}),o.maxRecords?N("div",{style:{marginBottom:"18px"},children:[u," of ",o.maxRecords," records",f("div",{style:{height:"4px",background:"#E7E7EE",borderRadius:"4px"},children:f("div",{style:{height:"4px",width:`${M1(o.totalRecords,o.maxRecords)}%`,background:"#00BC62",borderRadius:"4px"}})})]}):N("div",{style:{marginBottom:"18px"},children:[u," records"]}),o.maxStorage?N("div",{style:{marginBottom:"24px"},children:[l," of ",Pl(o.maxStorage),f("div",{style:{height:"4px",background:"#E7E7EE",borderRadius:"4px"},children:f("div",{style:{height:"4px",width:`${M1(o.totalStorage,o.maxStorage)}%`,background:"#00BC62",borderRadius:"4px"}})})]}):f("div",{style:{marginBottom:"24px"},children:l}),"upgrade"in o&&f("div",{children:f("button",{className:"btn btn-primary upgrade-button",onClick:a,children:"Get more"})}),N("div",{className:"account-menu-item",onClick:d=>i(d,"Account settings"),children:[f("svg",{width:"24",height:"24",children:f("use",{href:"#f-nut"})}),"Account settings"]}),N("div",{className:"account-menu-item",onClick:d=>{i(d,"Help")},children:[f("svg",{width:"24",height:"24",children:f("use",{href:"#f-lightbulb"})}),"How it works (Help)"]}),N("div",{className:"account-menu-item",onClick:d=>i(d,"Export"),children:[f("svg",{width:"24",height:"24",children:f("use",{href:"#f-upload"})}),"Export"]}),N("div",{className:"account-menu-item",onClick:d=>i(d,"Import"),children:[f("svg",{width:"24",height:"24",children:f("use",{href:"#f-download"})}),"Import"]}),o.msp?N("div",{className:"account-menu-item",onClick:d=>{i(d,"Msp")},children:[f("svg",{width:"24",height:"24",children:f("use",{href:"#i-wrench"})}),"MSP"]}):o.site_admin?N("div",{className:"account-menu-item",onClick:d=>{i(d,"Iam")},children:[f("svg",{width:"24",height:"24",children:f("use",{href:"#i-wrench"})}),"Users"]}):N("div",{className:"account-menu-item",onClick:d=>i(d,"Contact us"),children:[f("svg",{width:"24",height:"24",children:f("use",{href:"#f-chatCircleText"})}),"Contact us"]}),o.theme!="disabled"&&N("div",{className:"account-menu-item",onClick:d=>i(d,"theme"),children:[f("svg",{width:"24",height:"24",style:{opacity:.6},children:f("use",{href:"#theme-dark"})}),"Switch Theme"]}),f(RO,{onHidden:e.onClose,theme:o.theme}),N("div",{className:"account-menu-item",style:{color:"var(--danger-color)"},onClick:n,children:[f("svg",{width:"24",height:"24",children:f("use",{href:"#f-signout"})}),"Log out"]})]})})}var qu;function O1(e){if((!qu&&qu!==0||e)&&Es){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),qu=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return qu}function BO(e){const t=x.useRef(e);return t.current=e,t}function kg(e){const t=BO(e);x.useEffect(()=>()=>t.current(),[])}function DO(e){var t=fu(e);return t&&t.defaultView||window}function LO(e,t){return DO(e).getComputedStyle(e,t)}var MO=/([A-Z])/g;function OO(e){return e.replace(MO,"-$1").toLowerCase()}var PO=/^ms-/;function Gu(e){return OO(e).replace(PO,"-ms-")}var FO=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function UO(e){return!!(e&&FO.test(e))}function Ha(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Gu(t))||LO(e).getPropertyValue(Gu(t));Object.keys(t).forEach(function(i){var a=t[i];!a&&a!==0?e.style.removeProperty(Gu(i)):UO(i)?n+=i+"("+a+") ":r+=Gu(i)+": "+a+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function VO(e,t,r,n){if(r===void 0&&(r=!1),n===void 0&&(n=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,r,n),e.dispatchEvent(i)}}function KO(e){var t=Ha(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function $O(e,t,r){r===void 0&&(r=5);var n=!1,i=setTimeout(function(){n||VO(e,"transitionend",!0)},t+r),a=Yi(e,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(i),a()}}function lb(e,t,r,n){r==null&&(r=KO(e)||0);var i=$O(e,r,n),a=Yi(e,"transitionend",t);return function(){i(),a()}}function Sh(e){e===void 0&&(e=fu());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function HO(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const P1=Ag("modal-open");class jO{constructor({ownerDocument:t,handleContainerOverflow:r=!0,isRTL:n=!1}={}){this.handleContainerOverflow=r,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return HO(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const r={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[n]:i.style[n]},t.scrollBarWidth&&(r[n]=`${parseInt(Ha(i,n)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(P1,""),Ha(i,r)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const r=this.getElement();r.removeAttribute(P1),Object.assign(r.style,t.style)}add(t){let r=this.modals.indexOf(t);return r!==-1||(r=this.modals.length,this.modals.push(t),this.setModalAttributes(t),r!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),r}remove(t){const r=this.modals.indexOf(t);r!==-1&&(this.modals.splice(r,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Ig=jO,wh=(e,t)=>Es?e==null?(t||fu()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function zO(e,t){const r=wf(),[n,i]=x.useState(()=>wh(e,r==null?void 0:r.document));if(!n){const a=wh(e);a&&i(a)}return x.useEffect(()=>{t&&n&&t(n)},[t,n]),x.useEffect(()=>{const a=wh(e);a!==n&&i(a)},[e,n]),n}function qO({children:e,in:t,onExited:r,mountOnEnter:n,unmountOnExit:i}){const a=x.useRef(null),o=x.useRef(t),s=$t(r);x.useEffect(()=>{t?o.current=!0:s(a.current)},[t,s]);const l=bs(a,e.ref),u=x.cloneElement(e,{ref:l});return t?u:i||!o.current&&n?null:u}function GO({in:e,onTransition:t}){const r=x.useRef(null),n=x.useRef(!0),i=$t(t);return v0(()=>{if(!r.current)return;let a=!1;return i({in:e,element:r.current,initial:n.current,isStale:()=>a}),()=>{a=!0}},[e,i]),v0(()=>(n.current=!1,()=>{n.current=!0}),[]),r}function WO({children:e,in:t,onExited:r,onEntered:n,transition:i}){const[a,o]=x.useState(!t);t&&a&&o(!1);const s=GO({in:!!t,onTransition:u=>{const c=()=>{u.isStale()||(u.in?n==null||n(u.element,u.initial):(o(!0),r==null||r(u.element)))};Promise.resolve(i(u)).then(c,d=>{throw u.in||o(!0),d})}}),l=bs(s,e.ref);return a&&!t?null:x.cloneElement(e,{ref:l})}function F1(e,t,r){return e?f(e,Object.assign({},r)):t?f(WO,Object.assign({},r,{transition:t})):f(qO,Object.assign({},r))}function QO(e){return e.code==="Escape"||e.keyCode===27}const YO=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function XO(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}let xh;function JO(e){return xh||(xh=new Ig({ownerDocument:e==null?void 0:e.document})),xh}function ZO(e){const t=wf(),r=e||JO(t),n=x.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>r.add(n.current),remove:()=>r.remove(n.current),isTopModal:()=>r.isTopModal(n.current),setDialogRef:x.useCallback(i=>{n.current.dialog=i},[]),setBackdropRef:x.useCallback(i=>{n.current.backdrop=i},[])})}const ub=x.forwardRef((e,t)=>{let{show:r=!1,role:n="dialog",className:i,style:a,children:o,backdrop:s=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:d,runTransition:p,backdropTransition:C,runBackdropTransition:h,autoFocus:v=!0,enforceFocus:S=!0,restoreFocus:m=!0,restoreFocusOptions:g,renderDialog:y,renderBackdrop:w=Ce=>f("div",Object.assign({},Ce)),manager:E,container:b,onShow:T,onHide:_=()=>{},onExit:M,onExited:D,onExiting:A,onEnter:B,onEntering:F,onEntered:L}=e,P=XO(e,YO);const $=wf(),K=zO(b),H=ZO(E),j=gg(),q=S2(r),[te,G]=x.useState(!r),ne=x.useRef(null);x.useImperativeHandle(t,()=>H,[H]),Es&&!q&&r&&(ne.current=Sh($==null?void 0:$.document)),r&&te&&G(!1);const Q=$t(()=>{if(H.add(),$e.current=Yi(document,"keydown",Ee),be.current=Yi(document,"focus",()=>setTimeout(ve),!0),T&&T(),v){var Ce,Et;const ut=Sh((Ce=(Et=H.dialog)==null?void 0:Et.ownerDocument)!=null?Ce:$==null?void 0:$.document);H.dialog&&ut&&!yd(H.dialog,ut)&&(ne.current=ut,H.dialog.focus())}}),ee=$t(()=>{if(H.remove(),$e.current==null||$e.current(),be.current==null||be.current(),m){var Ce;(Ce=ne.current)==null||Ce.focus==null||Ce.focus(g),ne.current=null}});x.useEffect(()=>{!r||!K||Q()},[r,K,Q]),x.useEffect(()=>{te&&ee()},[te,ee]),kg(()=>{ee()});const ve=$t(()=>{if(!S||!j()||!H.isTopModal())return;const Ce=Sh($==null?void 0:$.document);H.dialog&&Ce&&!yd(H.dialog,Ce)&&H.dialog.focus()}),ye=$t(Ce=>{Ce.target===Ce.currentTarget&&(u==null||u(Ce),s===!0&&_())}),Ee=$t(Ce=>{l&&QO(Ce)&&H.isTopModal()&&(c==null||c(Ce),Ce.defaultPrevented||_())}),be=x.useRef(),$e=x.useRef(),oe=(...Ce)=>{G(!0),D==null||D(...Ce)};if(!K)return null;const Be=Object.assign({role:n,ref:H.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},P,{style:a,className:i,tabIndex:-1});let Oe=y?y(Be):f("div",Object.assign({},Be,{children:x.cloneElement(o,{role:"document"})}));Oe=F1(d,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:M,onExiting:A,onExited:oe,onEnter:B,onEntering:F,onEntered:L,children:Oe});let Ue=null;return s&&(Ue=w({ref:H.setBackdropRef,onClick:ye}),Ue=F1(C,h,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ue})),f(Ht,{children:ko.createPortal(N(Ht,{children:[Ue,Oe]}),K)})});ub.displayName="Modal";const eP=Object.assign(ub,{Manager:Ig});function tP(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function rP(e,t){e.classList?e.classList.add(t):tP(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function U1(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nP(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=U1(e.className,t):e.setAttribute("class",U1(e.className&&e.className.baseVal||"",t))}const fo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class iP extends Ig{adjustAndStore(t,r,n){const i=r.style[t];r.dataset[t]=i,Ha(r,{[t]:`${parseFloat(Ha(r,t))+n}px`})}restore(t,r){const n=r.dataset[t];n!==void 0&&(delete r.dataset[t],Ha(r,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const r=this.getElement();if(rP(r,"modal-open"),!t.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ui(r,fo.FIXED_CONTENT).forEach(a=>this.adjustAndStore(n,a,t.scrollBarWidth)),Ui(r,fo.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-t.scrollBarWidth)),Ui(r,fo.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const r=this.getElement();nP(r,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Ui(r,fo.FIXED_CONTENT).forEach(a=>this.restore(n,a)),Ui(r,fo.STICKY_CONTENT).forEach(a=>this.restore(i,a)),Ui(r,fo.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let Eh;function aP(e){return Eh||(Eh=new iP(e)),Eh}const V1={disabled:!1},cb=Ze.createContext(null);var oP=function(t){return t.scrollTop},Js="unmounted",Ia="exited",ui="entering",Da="entered",wd="exiting",Ai=function(e){aO(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var o=i,s=o&&!o.isMounting?n.enter:n.appear,l;return a.appearStatus=null,n.in?s?(l=Ia,a.appearStatus=ui):l=Da:n.unmountOnExit||n.mountOnEnter?l=Js:l=Ia,a.state={status:l},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var o=i.in;return o&&a.status===Js?{status:Ia}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ui&&o!==Da&&(a=ui):(o===ui||o===Da)&&(a=wd)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,o,s;return a=o=s=i,i!=null&&typeof i!="number"&&(a=i.exit,o=i.enter,s=i.appear!==void 0?i.appear:o),{exit:a,enter:o,appear:s}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===ui){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ko.findDOMNode(this);o&&oP(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ia&&this.setState({status:Js})},r.performEnter=function(i){var a=this,o=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[ko.findDOMNode(this),s],u=l[0],c=l[1],d=this.getTimeouts(),p=s?d.appear:d.enter;if(!i&&!o||V1.disabled){this.safeSetState({status:Da},function(){a.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:ui},function(){a.props.onEntering(u,c),a.onTransitionEnd(p,function(){a.safeSetState({status:Da},function(){a.props.onEntered(u,c)})})})},r.performExit=function(){var i=this,a=this.props.exit,o=this.getTimeouts(),s=this.props.nodeRef?void 0:ko.findDOMNode(this);if(!a||V1.disabled){this.safeSetState({status:Ia},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:wd},function(){i.props.onExiting(s),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ia},function(){i.props.onExited(s)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,o=!0;return this.nextCallback=function(s){o&&(o=!1,a.nextCallback=null,i(s))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:ko.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!o||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Js)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var s=xf(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ze.createElement(cb.Provider,{value:null},typeof o=="function"?o(i,s):Ze.cloneElement(Ze.Children.only(o),s))},t}(Ze.Component);Ai.contextType=cb;Ai.propTypes={};function ho(){}Ai.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ho,onEntering:ho,onEntered:ho,onExit:ho,onExiting:ho,onExited:ho};Ai.UNMOUNTED=Js;Ai.EXITED=Ia;Ai.ENTERING=ui;Ai.ENTERED=Da;Ai.EXITING=wd;function K1(e,t){const r=Ha(e,t)||"",n=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*n}function sP(e,t){const r=K1(e,"transitionDuration"),n=K1(e,"transitionDelay"),i=lb(e,a=>{a.target===e&&(i(),t(a))},r+n)}function lP(e){e.offsetHeight}function uP(e){return e&&"setState"in e?ko.findDOMNode(e):e??null}const cP=Ze.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:n,onExiting:i,onExited:a,addEndListener:o,children:s,childRef:l,...u},c)=>{const d=x.useRef(null),p=bs(d,l),C=b=>{p(uP(b))},h=b=>T=>{b&&d.current&&b(d.current,T)},v=x.useCallback(h(e),[e]),S=x.useCallback(h(t),[t]),m=x.useCallback(h(r),[r]),g=x.useCallback(h(n),[n]),y=x.useCallback(h(i),[i]),w=x.useCallback(h(a),[a]),E=x.useCallback(h(o),[o]);return f(Ai,{ref:c,...u,onEnter:v,onEntered:m,onEntering:S,onExit:g,onExited:w,onExiting:y,addEndListener:E,nodeRef:d,children:typeof s=="function"?(b,T)=>s(b,{...T,ref:C}):Ze.cloneElement(s,{ref:C})})}),dP=cP,fP={[ui]:"show",[Da]:"show"},db=x.forwardRef(({className:e,children:t,transitionClasses:r={},onEnter:n,...i},a)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},s=x.useCallback((l,u)=>{lP(l),n==null||n(l,u)},[n]);return f(dP,{ref:a,addEndListener:sP,...o,onEnter:s,childRef:t.ref,children:(l,u)=>x.cloneElement(t,{...u,className:_e("fade",e,t.props.className,fP[l],r[l])})})});db.displayName="Fade";const Ng=db,fb=x.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=tt(t,"modal-body"),f(r,{ref:i,className:_e(e,t),...n})));fb.displayName="ModalBody";const hP=fb,pP=x.createContext({onHide(){}}),hb=pP,pb=x.forwardRef(({bsPrefix:e,className:t,contentClassName:r,centered:n,size:i,fullscreen:a,children:o,scrollable:s,...l},u)=>{e=tt(e,"modal");const c=`${e}-dialog`,d=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return f("div",{...l,ref:u,className:_e(c,t,i&&`${e}-${i}`,n&&`${c}-centered`,s&&`${c}-scrollable`,a&&d),children:f("div",{className:_e(`${e}-content`,r),children:o})})});pb.displayName="ModalDialog";const mb=pb,gb=x.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=tt(t,"modal-footer"),f(r,{ref:i,className:_e(e,t),...n})));gb.displayName="ModalFooter";const mP=gb,gP={"aria-label":at.string,onClick:at.func,variant:at.oneOf(["white"])},Rg=x.forwardRef(({className:e,variant:t,"aria-label":r="Close",...n},i)=>f("button",{ref:i,type:"button",className:_e("btn-close",t&&`btn-close-${t}`,e),"aria-label":r,...n}));Rg.displayName="CloseButton";Rg.propTypes=gP;const vb=Rg,vP=x.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:r=!1,onHide:n,children:i,...a},o)=>{const s=x.useContext(hb),l=$t(()=>{s==null||s.onHide(),n==null||n()});return N("div",{ref:o,...a,children:[i,r&&f(vb,{"aria-label":e,variant:t,onClick:l})]})}),yP=vP,yb=x.forwardRef(({bsPrefix:e,className:t,closeLabel:r="Close",closeButton:n=!1,...i},a)=>(e=tt(e,"modal-header"),f(yP,{ref:a,...i,className:_e(t,e),closeLabel:r,closeButton:n})));yb.displayName="ModalHeader";const CP=yb,SP=e=>x.forwardRef((t,r)=>f("div",{...t,ref:r,className:_e(t.className,e)})),wP=SP("h4"),Cb=x.forwardRef(({className:e,bsPrefix:t,as:r=wP,...n},i)=>(t=tt(t,"modal-title"),f(r,{ref:i,className:_e(e,t),...n})));Cb.displayName="ModalTitle";const xP=Cb;function EP(e){return f(Ng,{...e,timeout:null})}function bP(e){return f(Ng,{...e,timeout:null})}const Sb=x.forwardRef(({bsPrefix:e,className:t,style:r,dialogClassName:n,contentClassName:i,children:a,dialogAs:o=mb,"aria-labelledby":s,"aria-describedby":l,"aria-label":u,show:c=!1,animation:d=!0,backdrop:p=!0,keyboard:C=!0,onEscapeKeyDown:h,onShow:v,onHide:S,container:m,autoFocus:g=!0,enforceFocus:y=!0,restoreFocus:w=!0,restoreFocusOptions:E,onEntered:b,onExit:T,onExiting:_,onEnter:M,onEntering:D,onExited:A,backdropClassName:B,manager:F,...L},P)=>{const[$,K]=x.useState({}),[H,j]=x.useState(!1),q=x.useRef(!1),te=x.useRef(!1),G=x.useRef(null),[ne,Q]=w2(),ee=bs(P,Q),ve=$t(S),ye=yx();e=tt(e,"modal");const Ee=x.useMemo(()=>({onHide:ve}),[ve]);function be(){return F||aP({isRTL:ye})}function $e(Le){if(!Es)return;const bt=be().getScrollbarWidth()>0,Ot=Le.scrollHeight>fu(Le).documentElement.clientHeight;K({paddingRight:bt&&!Ot?O1():void 0,paddingLeft:!bt&&Ot?O1():void 0})}const oe=$t(()=>{ne&&$e(ne.dialog)});kg(()=>{p0(window,"resize",oe),G.current==null||G.current()});const Be=()=>{q.current=!0},Oe=Le=>{q.current&&ne&&Le.target===ne.dialog&&(te.current=!0),q.current=!1},Ue=()=>{j(!0),G.current=lb(ne.dialog,()=>{j(!1)})},Ce=Le=>{Le.target===Le.currentTarget&&Ue()},Et=Le=>{if(p==="static"){Ce(Le);return}if(te.current||Le.target!==Le.currentTarget){te.current=!1;return}S==null||S()},ut=Le=>{C?h==null||h(Le):(Le.preventDefault(),p==="static"&&Ue())},De=(Le,bt)=>{Le&&$e(Le),M==null||M(Le,bt)},Pe=Le=>{G.current==null||G.current(),T==null||T(Le)},Se=(Le,bt)=>{D==null||D(Le,bt),mg(window,"resize",oe)},ke=Le=>{Le&&(Le.style.display=""),A==null||A(Le),p0(window,"resize",oe)},Bt=x.useCallback(Le=>f("div",{...Le,className:_e(`${e}-backdrop`,B,!d&&"show")}),[d,B,e]),Ir={...r,...$};Ir.display="block";const dr=Le=>f("div",{role:"dialog",...Le,style:Ir,className:_e(t,e,H&&`${e}-static`,!d&&"show"),onClick:p?Et:void 0,onMouseUp:Oe,"aria-label":u,"aria-labelledby":s,"aria-describedby":l,children:f(o,{...L,onMouseDown:Be,className:n,contentClassName:i,children:a})});return f(hb.Provider,{value:Ee,children:f(eP,{show:c,ref:ee,backdrop:p,container:m,keyboard:!0,autoFocus:g,enforceFocus:y,restoreFocus:w,restoreFocusOptions:E,onEscapeKeyDown:ut,onShow:v,onHide:S,onEnter:De,onEntering:Se,onEntered:b,onExit:Pe,onExiting:_,onExited:ke,manager:be(),transition:d?EP:void 0,backdropTransition:d?bP:void 0,renderBackdrop:Bt,renderDialog:dr})})});Sb.displayName="Modal";const ae=Object.assign(Sb,{Body:hP,Header:CP,Title:xP,Footer:mP,Dialog:mb,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function gt(e){return N(Ze.Fragment,{children:[f("span",{className:"modal-cross d-md-none",onClick:e.onClose,children:""}),f("div",{className:"modal-cross d-none d-md-block",onClick:e.onClose,children:f("svg",{width:"32",height:"32",children:f("use",{href:"#f-cross"})})})]})}function Ei(e){const t=e.padding?e.padding:"11px 16px";return N("div",{className:"itemModalField",style:{padding:t,marginBottom:"16px",cursor:e.onClick?"pointer":""},onClick:e.onClick,children:[(e.value.length||e.children||!e.edit)&&e.label&&e.label.length>0&&N("div",{style:{display:"flex",justifyContent:"space-between"},children:[f("div",{style:{fontSize:"14px"},children:f("span",{style:{color:"#1b1b26",opacity:"0.7"},children:f("label",{htmlFor:e.id,style:{margin:0,color:"var(--item-modal-field-label)"},children:e.value.length?e.label:""})})}),f("div",{children:e.children})]}),f("div",{children:f("input",{id:e.id,onChange:e.onChange,onKeyUp:e.onKeyUp,readOnly:!e.edit,spellCheck:!1,value:e.value,placeholder:e.placeHolder?e.placeHolder:e.label,autoComplete:e.autoComplete?e.autoComplete:!1,autoFocus:e.autoFocus})})]})}function ha(e){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(e)}function TP(e,t){if(ha(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ha(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AP(e){var t=TP(e,"string");return ha(t)=="symbol"?t:String(t)}function An(e,t,r){return t=AP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){An(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kP(e){if(Array.isArray(e))return y0(e)}function IP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wb(e,t){if(e){if(typeof e=="string")return y0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y0(e,t)}}function NP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xi(e){return kP(e)||IP(e)||wb(e)||NP()}function RP(e){if(Array.isArray(e))return e}function _P(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function BP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $r(e,t){return RP(e)||_P(e,t)||wb(e,t)||BP()}function H1(e){var t=x.useRef();t.current=e;var r=x.useCallback(function(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(a))},[]);return r}function DP(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var j1=DP()?x.useLayoutEffect:x.useEffect,LP=function(t,r){var n=x.useRef(!0);j1(function(){return t(n.current)},r),j1(function(){return n.current=!1,function(){n.current=!0}},[])},z1=function(t,r){LP(function(n){if(!n)return t()},r)};function q1(e){var t=x.useRef(!1),r=x.useState(e),n=$r(r,2),i=n[0],a=n[1];x.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]);function o(s,l){l&&t.current||a(s)}return[i,o]}function bh(e){return e!==void 0}function MP(e,t){var r=t||{},n=r.defaultValue,i=r.value,a=r.onChange,o=r.postState,s=q1(function(){return bh(i)?i:bh(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),l=$r(s,2),u=l[0],c=l[1],d=i!==void 0?i:u,p=o?o(d):d,C=H1(a),h=q1([d]),v=$r(h,2),S=v[0],m=v[1];z1(function(){var y=S[0];u!==y&&C(u,y)},[S]),z1(function(){bh(i)||c(i)},[i]);var g=H1(function(y,w){c(y,w),m([d],w)});return[p,g]}var C0={},OP=function(t){};function PP(e,t){}function FP(e,t){}function UP(){C0={}}function xb(e,t,r){!t&&!C0[r]&&(e(!1,r),C0[r]=!0)}function pu(e,t){xb(PP,e,t)}function VP(e,t){xb(FP,e,t)}pu.preMessage=OP;pu.resetWarned=UP;pu.noteOnce=VP;function KP(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=new Set;function i(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=n.has(a);if(pu(!l,"Warning: There may be circular references"),l)return!1;if(a===o)return!0;if(r&&s>1)return!1;n.add(a);var u=s+1;if(Array.isArray(a)){if(!Array.isArray(o)||a.length!==o.length)return!1;for(var c=0;c<a.length;c++)if(!i(a[c],o[c],u))return!1;return!0}if(a&&o&&ha(a)==="object"&&ha(o)==="object"){var d=Object.keys(a);return d.length!==Object.keys(o).length?!1:d.every(function(p){return i(a[p],o[p],u)})}return!1}return i(e,t)}var no=x.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});function Eb(e,t){if(e==null)return{};var r=xf(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var me={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var r=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||r>=me.F1&&r<=me.F12)return!1;switch(r){case me.ALT:case me.CAPS_LOCK:case me.CONTEXT_MENU:case me.CTRL:case me.DOWN:case me.END:case me.ESC:case me.HOME:case me.INSERT:case me.LEFT:case me.MAC_FF_META:case me.META:case me.NUMLOCK:case me.NUM_CENTER:case me.PAGE_DOWN:case me.PAGE_UP:case me.PAUSE:case me.PRINT_SCREEN:case me.RIGHT:case me.SHIFT:case me.UP:case me.WIN_KEY:case me.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=me.ZERO&&t<=me.NINE||t>=me.NUM_ZERO&&t<=me.NUM_MULTIPLY||t>=me.A&&t<=me.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&t===0)return!0;switch(t){case me.SPACE:case me.QUESTION_MARK:case me.NUM_PLUS:case me.NUM_MINUS:case me.NUM_PERIOD:case me.NUM_DIVISION:case me.SEMICOLON:case me.DASH:case me.EQUALS:case me.COMMA:case me.PERIOD:case me.SLASH:case me.APOSTROPHE:case me.SINGLE_QUOTE:case me.OPEN_SQUARE_BRACKET:case me.BACKSLASH:case me.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};function S0(e,t,r){return(e-t)/(r-t)}function _g(e,t,r,n){var i=S0(t,r,n),a={};switch(e){case"rtl":a.right="".concat(i*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(i*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(i*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(i*100,"%"),a.transform="translateX(-50%)";break}return a}function _o(e,t){return Array.isArray(e)?e[t]:e}var $P=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete"],HP=x.forwardRef(function(e,t){var r,n,i=e.prefixCls,a=e.value,o=e.valueIndex,s=e.onStartMove,l=e.style,u=e.render,c=e.dragging,d=e.onOffsetChange,p=e.onChangeComplete,C=Eb(e,$P),h=x.useContext(no),v=h.min,S=h.max,m=h.direction,g=h.disabled,y=h.keyboard,w=h.range,E=h.tabIndex,b=h.ariaLabelForHandle,T=h.ariaLabelledByForHandle,_=h.ariaValueTextFormatterForHandle,M=h.styles,D=h.classNames,A="".concat(i,"-handle"),B=function(H){g||s(H,o)},F=function(H){if(!g&&y){var j=null;switch(H.which||H.keyCode){case me.LEFT:j=m==="ltr"||m==="btt"?-1:1;break;case me.RIGHT:j=m==="ltr"||m==="btt"?1:-1;break;case me.UP:j=m!=="ttb"?1:-1;break;case me.DOWN:j=m!=="ttb"?-1:1;break;case me.HOME:j="min";break;case me.END:j="max";break;case me.PAGE_UP:j=2;break;case me.PAGE_DOWN:j=-2;break}j!==null&&(H.preventDefault(),d(j,o))}},L=function(H){switch(H.which||H.keyCode){case me.LEFT:case me.RIGHT:case me.UP:case me.DOWN:case me.HOME:case me.END:case me.PAGE_UP:case me.PAGE_DOWN:p==null||p();break}},P=_g(m,a,v,S),$=x.createElement("div",Qa({ref:t,className:_e(A,(r={},An(r,"".concat(A,"-").concat(o+1),w),An(r,"".concat(A,"-dragging"),c),r),D.handle),style:br(br(br({},P),l),M.handle),onMouseDown:B,onTouchStart:B,onKeyDown:F,onKeyUp:L,tabIndex:g?null:_o(E,o),role:"slider","aria-valuemin":v,"aria-valuemax":S,"aria-valuenow":a,"aria-disabled":g,"aria-label":_o(b,o),"aria-labelledby":_o(T,o),"aria-valuetext":(n=_o(_,o))===null||n===void 0?void 0:n(a),"aria-orientation":m==="ltr"||m==="rtl"?"horizontal":"vertical"},C));return u&&($=u($,{index:o,prefixCls:i,value:a,dragging:c})),$}),jP=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],zP=x.forwardRef(function(e,t){var r=e.prefixCls,n=e.style,i=e.onStartMove,a=e.onOffsetChange,o=e.values,s=e.handleRender,l=e.draggingIndex,u=Eb(e,jP),c=x.useRef({});return x.useImperativeHandle(t,function(){return{focus:function(p){var C;(C=c.current[p])===null||C===void 0||C.focus()}}}),x.createElement(x.Fragment,null,o.map(function(d,p){return x.createElement(HP,Qa({ref:function(h){h?c.current[p]=h:delete c.current[p]},dragging:l===p,prefixCls:r,style:_o(n,p),key:p,value:d,valueIndex:p,onStartMove:i,onOffsetChange:a,render:s},u))}))});function G1(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function qP(e,t,r,n,i,a,o,s,l){var u=x.useState(null),c=$r(u,2),d=c[0],p=c[1],C=x.useState(-1),h=$r(C,2),v=h[0],S=h[1],m=x.useState(r),g=$r(m,2),y=g[0],w=g[1],E=x.useState(r),b=$r(E,2),T=b[0],_=b[1],M=x.useRef(null),D=x.useRef(null);x.useEffect(function(){v===-1&&w(r)},[r,v]),x.useEffect(function(){return function(){document.removeEventListener("mousemove",M.current),document.removeEventListener("mouseup",D.current),document.removeEventListener("touchmove",M.current),document.removeEventListener("touchend",D.current)}},[]);var A=function(K,H){y.some(function(j,q){return j!==K[q]})&&(H!==void 0&&p(H),w(K),o(K))},B=function(K,H){if(K===-1){var j=T[0],q=T[T.length-1],te=n-j,G=i-q,ne=H*(i-n);ne=Math.max(ne,te),ne=Math.min(ne,G);var Q=a(j+ne);ne=Q-j;var ee=T.map(function(be){return be+ne});A(ee)}else{var ve=(i-n)*H,ye=Xi(y);ye[K]=T[K];var Ee=l(ye,ve,K,"dist");A(Ee.values,Ee.value)}},F=x.useRef(B);F.current=B;var L=function(K,H,j){K.stopPropagation();var q=j||r,te=q[H];S(H),p(te),_(q);var G=G1(K),ne=G.pageX,Q=G.pageY,ee=function(Ee){Ee.preventDefault();var be=G1(Ee),$e=be.pageX,oe=be.pageY,Be=$e-ne,Oe=oe-Q,Ue=e.current.getBoundingClientRect(),Ce=Ue.width,Et=Ue.height,ut;switch(t){case"btt":ut=-Oe/Et;break;case"ttb":ut=Oe/Et;break;case"rtl":ut=-Be/Ce;break;default:ut=Be/Ce}F.current(H,ut)},ve=function ye(Ee){Ee.preventDefault(),document.removeEventListener("mouseup",ye),document.removeEventListener("mousemove",ee),document.removeEventListener("touchend",ye),document.removeEventListener("touchmove",ee),M.current=null,D.current=null,S(-1),s()};document.addEventListener("mouseup",ve),document.addEventListener("mousemove",ee),document.addEventListener("touchend",ve),document.addEventListener("touchmove",ee),M.current=ee,D.current=ve},P=x.useMemo(function(){var $=Xi(r).sort(function(H,j){return H-j}),K=Xi(y).sort(function(H,j){return H-j});return $.every(function(H,j){return H===K[j]})?y:r},[r,y]);return[v,d,P,L]}function GP(e,t,r,n,i,a){var o=x.useCallback(function(C){var h=isFinite(C)?C:e;return h=Math.min(t,C),h=Math.max(e,h),h},[e,t]),s=x.useCallback(function(C){if(r!==null){var h=e+Math.round((o(C)-e)/r)*r,v=function(y){return(String(y).split(".")[1]||"").length},S=Math.max(v(r),v(t),v(e)),m=Number(h.toFixed(S));return e<=m&&m<=t?m:null}return null},[r,e,t,o]),l=x.useCallback(function(C){var h=o(C),v=n.map(function(g){return g.value});r!==null&&v.push(s(C)),v.push(e,t);var S=v[0],m=t-e;return v.forEach(function(g){var y=Math.abs(h-g);y<=m&&(S=g,m=y)}),S},[e,t,n,r,o,s]),u=function C(h,v,S){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof v=="number"){var g,y=h[S],w=y+v,E=[];n.forEach(function(D){E.push(D.value)}),E.push(e,t),E.push(s(y));var b=v>0?1:-1;m==="unit"?E.push(s(y+b*r)):E.push(s(w)),E=E.filter(function(D){return D!==null}).filter(function(D){return v<0?D<=y:D>=y}),m==="unit"&&(E=E.filter(function(D){return D!==y}));var T=m==="unit"?y:w;g=E[0];var _=Math.abs(g-T);if(E.forEach(function(D){var A=Math.abs(D-T);A<_&&(g=D,_=A)}),g===void 0)return v<0?e:t;if(m==="dist")return g;if(Math.abs(v)>1){var M=Xi(h);return M[S]=g,C(M,v-b,S,m)}return g}else{if(v==="min")return e;if(v==="max")return t}},c=function(h,v,S){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",g=h[S],y=u(h,v,S,m);return{value:y,changed:y!==g}},d=function(h){return a===null&&h===0||typeof a=="number"&&h<a},p=function(h,v,S){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",g=h.map(l),y=g[S],w=u(g,v,S,m);if(g[S]=w,i===!1){var E=a||0;S>0&&g[S-1]!==y&&(g[S]=Math.max(g[S],g[S-1]+E)),S<g.length-1&&g[S+1]!==y&&(g[S]=Math.min(g[S],g[S+1]-E))}else if(typeof a=="number"||a===null){for(var b=S+1;b<g.length;b+=1)for(var T=!0;d(g[b]-g[b-1])&&T;){var _=c(g,1,b);g[b]=_.value,T=_.changed}for(var M=S;M>0;M-=1)for(var D=!0;d(g[M]-g[M-1])&&D;){var A=c(g,-1,M-1);g[M-1]=A.value,D=A.changed}for(var B=g.length-1;B>0;B-=1)for(var F=!0;d(g[B]-g[B-1])&&F;){var L=c(g,-1,B-1);g[B-1]=L.value,F=L.changed}for(var P=0;P<g.length-1;P+=1)for(var $=!0;d(g[P+1]-g[P])&&$;){var K=c(g,1,P+1);g[P+1]=K.value,$=K.changed}}return{value:g[S],values:g}};return[l,p]}function WP(e){var t=e.prefixCls,r=e.style,n=e.children,i=e.value,a=e.onClick,o=x.useContext(no),s=o.min,l=o.max,u=o.direction,c=o.includedStart,d=o.includedEnd,p=o.included,C="".concat(t,"-text"),h=_g(u,i,s,l);return x.createElement("span",{className:_e(C,An({},"".concat(C,"-active"),p&&c<=i&&i<=d)),style:br(br({},h),r),onMouseDown:function(S){S.stopPropagation()},onClick:function(){a(i)}},n)}function QP(e){var t=e.prefixCls,r=e.marks,n=e.onClick,i="".concat(t,"-mark");return r.length?x.createElement("div",{className:i},r.map(function(a){var o=a.value,s=a.style,l=a.label;return x.createElement(WP,{key:o,prefixCls:i,style:s,value:o,onClick:n},l)})):null}function YP(e){var t=e.prefixCls,r=e.value,n=e.style,i=e.activeStyle,a=x.useContext(no),o=a.min,s=a.max,l=a.direction,u=a.included,c=a.includedStart,d=a.includedEnd,p="".concat(t,"-dot"),C=u&&c<=r&&r<=d,h=br(br({},_g(l,r,o,s)),typeof n=="function"?n(r):n);return C&&(h=br(br({},h),typeof i=="function"?i(r):i)),x.createElement("span",{className:_e(p,An({},"".concat(p,"-active"),C)),style:h})}function XP(e){var t=e.prefixCls,r=e.marks,n=e.dots,i=e.style,a=e.activeStyle,o=x.useContext(no),s=o.min,l=o.max,u=o.step,c=x.useMemo(function(){var d=new Set;if(r.forEach(function(C){d.add(C.value)}),n&&u!==null)for(var p=s;p<=l;)d.add(p),p+=u;return Array.from(d)},[s,l,u,n,r]);return x.createElement("div",{className:"".concat(t,"-step")},c.map(function(d){return x.createElement(YP,{prefixCls:t,key:d,value:d,style:i,activeStyle:a})}))}function W1(e){var t,r=e.prefixCls,n=e.style,i=e.start,a=e.end,o=e.index,s=e.onStartMove,l=e.replaceCls,u=x.useContext(no),c=u.direction,d=u.min,p=u.max,C=u.disabled,h=u.range,v=u.classNames,S="".concat(r,"-track"),m=S0(i,d,p),g=S0(a,d,p),y=function(T){!C&&s&&s(T,-1)},w={};switch(c){case"rtl":w.right="".concat(m*100,"%"),w.width="".concat(g*100-m*100,"%");break;case"btt":w.bottom="".concat(m*100,"%"),w.height="".concat(g*100-m*100,"%");break;case"ttb":w.top="".concat(m*100,"%"),w.height="".concat(g*100-m*100,"%");break;default:w.left="".concat(m*100,"%"),w.width="".concat(g*100-m*100,"%")}var E=l||_e(S,(t={},An(t,"".concat(S,"-").concat(o+1),o!==null&&h),An(t,"".concat(r,"-track-draggable"),s),t),v.track);return x.createElement("div",{className:E,style:br(br({},w),n),onMouseDown:y,onTouchStart:y})}function JP(e){var t=e.prefixCls,r=e.style,n=e.values,i=e.startPoint,a=e.onStartMove,o=x.useContext(no),s=o.included,l=o.range,u=o.min,c=o.styles,d=o.classNames,p=x.useMemo(function(){if(!l){if(n.length===0)return[];var h=i??u,v=n[0];return[{start:Math.min(h,v),end:Math.max(h,v)}]}for(var S=[],m=0;m<n.length-1;m+=1)S.push({start:n[m],end:n[m+1]});return S},[n,l,i,u]),C=null;return(d.tracks||c.tracks)&&(C=x.createElement(W1,{index:null,prefixCls:t,start:p[0].start,end:p[p.length-1].end,replaceCls:_e(d.tracks,"".concat(t,"-tracks")),style:c.tracks})),s?x.createElement(x.Fragment,null,C,p.map(function(h,v){var S=h.start,m=h.end;return x.createElement(W1,{index:v,prefixCls:t,style:br(br({},_o(r,v)),c.track),start:S,end:m,key:v,onStartMove:a})})):null}var bb=x.forwardRef(function(e,t){var r,n=e.prefixCls,i=n===void 0?"rc-slider":n,a=e.className,o=e.style,s=e.classNames,l=e.styles,u=e.disabled,c=u===void 0?!1:u,d=e.keyboard,p=d===void 0?!0:d,C=e.autoFocus,h=e.onFocus,v=e.onBlur,S=e.min,m=S===void 0?0:S,g=e.max,y=g===void 0?100:g,w=e.step,E=w===void 0?1:w,b=e.value,T=e.defaultValue,_=e.range,M=e.count,D=e.onChange,A=e.onBeforeChange,B=e.onAfterChange,F=e.onChangeComplete,L=e.allowCross,P=L===void 0?!0:L,$=e.pushable,K=$===void 0?!1:$,H=e.draggableTrack,j=e.reverse,q=e.vertical,te=e.included,G=te===void 0?!0:te,ne=e.startPoint,Q=e.trackStyle,ee=e.handleStyle,ve=e.railStyle,ye=e.dotStyle,Ee=e.activeDotStyle,be=e.marks,$e=e.dots,oe=e.handleRender,Be=e.tabIndex,Oe=Be===void 0?0:Be,Ue=e.ariaLabelForHandle,Ce=e.ariaLabelledByForHandle,Et=e.ariaValueTextFormatterForHandle,ut=x.useRef(),De=x.useRef(),Pe=x.useMemo(function(){return q?j?"ttb":"btt":j?"rtl":"ltr"},[j,q]),Se=x.useMemo(function(){return isFinite(m)?m:0},[m]),ke=x.useMemo(function(){return isFinite(y)?y:100},[y]),Bt=x.useMemo(function(){return E!==null&&E<=0?1:E},[E]),Ir=x.useMemo(function(){return typeof K=="boolean"?K?Bt:!1:K>=0?K:!1},[K,Bt]),dr=x.useMemo(function(){var Pt=Object.keys(be||{});return Pt.map(function(it){var Ve=be[it],Wt={value:Number(it)};return Ve&&ha(Ve)==="object"&&!x.isValidElement(Ve)&&("label"in Ve||"style"in Ve)?(Wt.style=Ve.style,Wt.label=Ve.label):Wt.label=Ve,Wt}).filter(function(it){var Ve=it.label;return Ve||typeof Ve=="number"}).sort(function(it,Ve){return it.value-Ve.value})},[be]),Le=GP(Se,ke,Bt,dr,P,Ir),bt=$r(Le,2),Ot=bt[0],tr=bt[1],Sa=MP(T,{value:b}),ki=$r(Sa,2),Ur=ki[0],Ts=ki[1],Jr=x.useMemo(function(){var Pt=Ur==null?[]:Array.isArray(Ur)?Ur:[Ur],it=$r(Pt,1),Ve=it[0],Wt=Ve===void 0?Se:Ve,zt=Ur===null?[]:[Wt];if(_){if(zt=Xi(Pt),M||Ur===void 0){var Ln=M>=0?M+1:2;for(zt=zt.slice(0,Ln);zt.length<Ln;){var Ea;zt.push((Ea=zt[zt.length-1])!==null&&Ea!==void 0?Ea:Se)}}zt.sort(function(ba,Ni){return ba-Ni})}return zt.forEach(function(ba,Ni){zt[Ni]=Ot(ba)}),zt},[Ur,_,Se,M,Ot]),wa=x.useRef(Jr);wa.current=Jr;var Ii=function(it){return _?it:it[0]},As=function(it){var Ve=Xi(it).sort(function(Wt,zt){return Wt-zt});D&&!KP(Ve,wa.current,!0)&&D(Ii(Ve)),Ts(Ve)},gu=function(){B==null||B(Ii(wa.current)),pu(!B,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),F==null||F(Ii(wa.current))},bf=qP(De,Pe,Jr,Se,ke,Ot,As,gu,tr),xa=$r(bf,4),ks=xa[0],vu=xa[1],Is=xa[2],yu=xa[3],Ns=function(it,Ve){if(!c){var Wt=0,zt=ke-Se;Jr.forEach(function(Ea,ba){var Ni=Math.abs(it-Ea);Ni<=zt&&(zt=Ni,Wt=ba)});var Ln=Xi(Jr);Ln[Wt]=it,_&&!Jr.length&&M===void 0&&Ln.push(it),A==null||A(Ii(Ln)),As(Ln),Ve&&yu(Ve,Wt,Ln)}},Cu=function(it){it.preventDefault();var Ve=De.current.getBoundingClientRect(),Wt=Ve.width,zt=Ve.height,Ln=Ve.left,Ea=Ve.top,ba=Ve.bottom,Ni=Ve.right,$g=it.clientX,Hg=it.clientY,Rs;switch(Pe){case"btt":Rs=(ba-Hg)/zt;break;case"ttb":Rs=(Hg-Ea)/zt;break;case"rtl":Rs=(Ni-$g)/Wt;break;default:Rs=($g-Ln)/Wt}var wT=Se+Rs*(ke-Se);Ns(Ot(wT),it)},Tf=x.useState(null),Su=$r(Tf,2),rr=Su[0],ue=Su[1],fr=function(it,Ve){if(!c){var Wt=tr(Jr,it,Ve);A==null||A(Ii(Jr)),As(Wt.values),ue(Wt.value)}};x.useEffect(function(){if(rr!==null){var Pt=Jr.indexOf(rr);Pt>=0&&ut.current.focus(Pt)}ue(null)},[rr]);var io=x.useMemo(function(){return H&&Bt===null?!1:H},[H,Bt]),Pg=function(it,Ve){yu(it,Ve),A==null||A(Ii(wa.current))},Fg=ks!==-1;x.useEffect(function(){if(!Fg){var Pt=Jr.lastIndexOf(vu);ut.current.focus(Pt)}},[Fg]);var ao=x.useMemo(function(){return Xi(Is).sort(function(Pt,it){return Pt-it})},[Is]),CT=x.useMemo(function(){return _?[ao[0],ao[ao.length-1]]:[Se,ao[0]]},[ao,_,Se]),Ug=$r(CT,2),Vg=Ug[0],Kg=Ug[1];x.useImperativeHandle(t,function(){return{focus:function(){ut.current.focus(0)},blur:function(){var it=document,Ve=it.activeElement;De.current.contains(Ve)&&(Ve==null||Ve.blur())}}}),x.useEffect(function(){C&&ut.current.focus(0)},[]);var ST=x.useMemo(function(){return{min:Se,max:ke,direction:Pe,disabled:c,keyboard:p,step:Bt,included:G,includedStart:Vg,includedEnd:Kg,range:_,tabIndex:Oe,ariaLabelForHandle:Ue,ariaLabelledByForHandle:Ce,ariaValueTextFormatterForHandle:Et,styles:l||{},classNames:s||{}}},[Se,ke,Pe,c,p,Bt,G,Vg,Kg,_,Oe,Ue,Ce,Et,l,s]);return x.createElement(no.Provider,{value:ST},x.createElement("div",{ref:De,className:_e(i,a,(r={},An(r,"".concat(i,"-disabled"),c),An(r,"".concat(i,"-vertical"),q),An(r,"".concat(i,"-horizontal"),!q),An(r,"".concat(i,"-with-marks"),dr.length),r)),style:o,onMouseDown:Cu},x.createElement("div",{className:_e("".concat(i,"-rail"),s==null?void 0:s.rail),style:br(br({},ve),l==null?void 0:l.rail)}),x.createElement(JP,{prefixCls:i,style:Q,values:ao,startPoint:ne,onStartMove:io?Pg:null}),x.createElement(XP,{prefixCls:i,marks:dr,dots:$e,style:ye,activeStyle:Ee}),x.createElement(zP,{ref:ut,prefixCls:i,style:ee,values:Is,draggingIndex:ks,onStartMove:Pg,onOffsetChange:fr,onFocus:h,onBlur:v,handleRender:oe,onChangeComplete:gu}),x.createElement(QP,{prefixCls:i,marks:dr,onClick:Ns})))});const ZP="/frontend/assets/knot1-88023be4.svg",e8="/frontend/assets/knot2-4b76f6ce.svg",t8="/frontend/assets/knot3-ae77c9b2.svg";function r8(e){if(!e.show)return null;const t=is().desktop_inactivity,[r,n]=x.useState(t),[i,a]=x.useState(1),o=is(),s=E=>{e.onClose(E,"upgrade")},l=()=>{o.business||e.onClose("dummy","email")},u=E=>{n(E*60),oL(E*60),Te.post(`${Re()}account.php`,{verifier:ge(),operation:"setInactivityTimeout",value:E*60}).then(b=>{const T=b.data;if(T.status!=="Ok"&&T.status==="login"){window.location.href="expired.php";return}})},c=E=>{let b=240;E.target.value=="1 hour"?b=1*60:E.target.value=="15 min"&&(b=15),u(b)},d=()=>{e.accountOperation({verifier:ge(),operation:"cancelSubscription"}),Te.post(`${Re()}account.php`,{verifier:ge(),operation:"cancelSubscription"}).then(E=>{const b=E.data;if(b.status==="Ok"){typeof b.autorenew>"u"&&(aL(),a(i+1));return}if(b.status==="login"){window.location.href="expired.php";return}})},p={15:"15 min",60:"1 hour",240:"4 hours"};let C=240;const{desktop_inactivity:h}=o;h&&(h<50*60?C=15:h<110*60&&(C=60));const v=o.plan&&o.plan.toUpperCase()=="FREE";let S="";o.business||(v?S="FREE":S="PREMIUM");let m=null;if(typeof o.expires=="number"){let E="";o.autorenew?E="Subscription next auto-renewal date":E="expires at";const b=new Date(o.expires*1e3).toISOString().substring(0,10);m=N("div",{style:{padding:"1em 9px 9px 30px",marginBottom:35,borderRadius:"12px",border:"1px solid var(--account-block-border)"},children:[N("div",{children:[E," ",f("span",{style:{marginLeft:"8px"},children:f("b",{children:b})})]}),(o.autorenew||o.receipt_url)&&N("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:"2em;",marginTop:"2em"},children:[N("div",{children:[f("div",{children:o.receipt_url&&f("a",{href:o.receipt_url,style:{color:"var(--link-color)"},target:"_blank",children:"Your latest payment receipt"})}),f("div",{children:o.autorenew&&f("a",{href:"#",onClick:()=>{window.open("payments/update_card.php","passhub_payment"),e.onClose()},style:{color:"var(--link-color)"},children:" Update payment card data"})})]}),f("div",{children:o.autorenew&&f("button",{className:"btn btn-outline-danger",onClick:d,children:"Cancel auto-renew"})})]})]})}let g=t8;r>=1e3&&r<2*60*60&&(g=e8),r<1e3&&(g=ZP);function y(E){return E.upper&&E.upper>=r?E.lower?E.lower<=r:!0:E.upper&&E.upper<=r?!1:E.lower<=r}function w(E){return console.log("choice"),console.log(E),console.log("inactiveTimeout",r),console.log(y(E)?"true":"false"),y(E)}return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"Account settings"})}),N(ae.Body,{style:{marginBottom:"24px"},children:[!o.business&&N("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[N("div",{style:{marginBottom:37},children:["Accout type:"," ",f("b",{children:S})]}),v&&f(pe,{variant:"primary",onClick:s,children:"Upgrade to Premium"})]}),!o.business&&o.plan.toUpperCase()=="PREMIUM"&&m,N("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",rowGap:16,margin:"0 30px 37px 30px"},children:[f("div",{style:{margin:"0 0 12px 0"},children:"Inactivitytimeout"}),N("div",{style:{display:"flex",justifyContent:"center",gap:"65px"},children:[f("img",{src:g,alt:"knot",style:{height:"120px",opacity:"50%"}}),f("div",{className:"inactivity-radio-div",children:[{duration:15,txt:"15 min",upper:1e3},{duration:60,txt:"1 hour",upper:2*60*60,lower:1e3},{duration:4*60,txt:"4 hours",lower:2*60*60}].map(E=>f("div",{children:N("label",{children:[f("svg",{width:"22",height:"22",fill:"none",style:{marginRight:"14px"},children:f("use",{href:w(E)?"#f-radio-checked":"#f-radio"})}),f("input",{type:"radio",name:"inactivity",value:E.txt,onChange:c,checked:w(E)}),E.txt]})}))})]})]}),f("div",{style:{marginBottom:"64px",padding:"0 32px",display:"none"},children:f(bb,{value:C,min:15,max:240,marks:p,step:null,onChange:u,trackStyle:{background:"#00BC62"},handleStyle:{borderColor:"#00BC62"}})}),o.email.length?f(Ei,{label:"Email",readonly:!0,padding:"11px 30px",value:o.email,onClick:l,children:!o.business&&N("div",{children:[f("span",{className:"iconTitle",style:{marginRight:0},children:"Edit"}),f("svg",{width:"24",height:"24",title:"Edt",style:{opacity:"0.5",stroke:"black",fill:"none",display:"none"},children:f("use",{href:"#f-edit"})})]})}):f("div",{className:"itemModalField",style:{marginBottom:62,position:"relative",background:"#E6F8EF",cursor:"pointer",padding:"11px 30px"},onClick:l,children:N("div",{style:{color:"var(--link-color)",display:"table"},children:[N("div",{style:{marginBottom:"10px"},children:[f("svg",{width:"24",height:"24",style:{marginRight:"10px"},children:f("use",{href:"#f-add"})}),"Add email"]}),f("div",{style:{fontSize:"14px"},children:"an email is needed so that other users can share safes with you, as well as to subscribe to news and updates"})]})}),N("div",{onClick:()=>{e.onClose("dummy","delete account")},children:[N("div",{style:{color:"var(--danger-color)",marginTop:"32px",cursor:"pointer"},children:[f("svg",{width:"24",height:"24",style:{marginRight:"8px"},children:f("use",{href:"#f-trash-red"})}),"Delete Account"]}),f("div",{style:{color:"var(--body-color)",opacity:.7,fontSize:"14px"},children:"Once deleted, your records, files, safes and folders cannot be recovered"})]})]}),f(ae.Footer,{children:f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Close"})})]})}function n8(e){return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),N("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"48px 0 0 0"},children:[f("svg",{style:{width:80,height:80,fill:"red"},children:f("use",{href:"#a-danger"})}),f("div",{style:{margin:"24px 0 32px 0",fontSize:"32px"},children:"Before shutting down your account"})]}),N("div",{style:{marginBottom:"8px"},children:[f("b",{children:"Be sure"})," to transfer ownership of your shared safes to your peers."]}),N("div",{style:{marginBottom:"48px"},children:[f("b",{children:"Please note"})," it is the last chance to backup (export) all your data."]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"danger",onClick:()=>e.onClose("dummy","delete account final"),children:"Next"})]})]})}function i8(e){if(!e.show)return null;const[t,r]=x.useState(""),n=()=>{Te.post(`${Re()}close_account.php`,{verifier:ge(),operation:"delete"}).then(i=>{const a=i.data;if(a.status==="Ok"){e.onClose(1,"account deleted");return}if(a.status==="login"){window.location.href="expired.php";return}r(a.status)}).catch(i=>{r("Server error. Please try again later")})};return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),N("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"48px 0 0 0"},children:[f("svg",{style:{width:80,height:80,fill:"red"},children:f("use",{href:"#a-danger"})}),f("div",{style:{margin:"24px 0 32px 0",fontSize:"32px"},children:"Close my account"})]}),f("div",{style:{marginBottom:"48px"},children:"You are about to lose all your data stored in PassHub and you will be unable to restore it."}),t.length>0&&f("div",{style:{color:"red"},children:t}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"danger",onClick:n,children:"Close account"})]})]})}function w0(e,t){for(const n of e.folders)if(n.name==t.path[0]){t.path.shift(),w0(n,t);return}if(t.path.length==1){t.name=t.path[0],e.folders.push(t);return}const r={name:t.path[0],folders:[],items:[]};e.folders.push(r),t.path.shift(),w0(r,t)}function a8(e){e.sort((r,n)=>r.name.localeCompare(n.name));const t={folders:[]};for(let r of e)r.path=r.name.split("/"),w0(t,r);return t}function o8(e){const t=JSON.parse(e),r={items:[],folders:[]},n={};try{if("folders"in t)for(const a of t.folders){const o={name:a.name,id:a.id,items:[],folders:[]};r.folders.push(o),n[a.id]=o}if("collections"in t)for(const a of t.collections){const o={name:a.name,id:a.id,items:[],folders:[]};r.folders.push(o),n[a.id]=o}for(const a of t.items){const o={};if(a.type==1){let s="";if(Array.isArray(a.login.uris)&&a.login.uris.length){let l=[];for(let u of a.login.uris)l.push(u.uri);s=l.join("")}o.cleartext=[a.name,a.login.username,a.login.password,s,a.notes],a.login.totp&&o.cleartext.push(a.login.totp.trim()),o.options={}}else if(a.type==2)o.cleartext=[a.name,"","","",a.notes],o.options={note:1};else if(a.type==3)o.cleartext=["card",a.name,a.notes,a.card.number,a.card.cardholderName,a.card.expMonth,a.card.expYear,a.card.code],o.version=5;else if(a.type==4)o.cleartext=[a.name,"","","",`${a.notes} ${JSON.stringify(a.identity,null,2)}`],o.options={note:1};else{console.log("unknown ityem type ",a.type);continue}if(a.folderId)n[a.folderId].items.push(o);else if(Array.isArray(a.collectionIds))for(const s of a.collectionIds)n[s].items.push(o);else r.items.push(o)}return{folders:a8(r.folders).folders,items:r.items}}catch(i){console.log("caught",i)}}function s8(e,t){t=t||",";for(var r=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),n=[[]],i=null;i=r.exec(e);){var a=i[1];if(a.length&&a!=t&&n.push([]),i[2])var o=i[2].replace(new RegExp('""',"g"),'"');else var o=i[3];n[n.length-1].push(o)}return n.length>0&&n[n.length-1].length===1&&n[n.length-1]===""&&n.pop(),n}function x0(e,t){for(let n=0;n<e.length;n++)if(e[n].name==t[0])return t.length===1?e[n]:(t.shift(),x0(e[n].folders,t));const r={name:t[0],folders:[],items:[]};return e.push(r),t.length===1?r:(t.shift(),x0(r.folders,t))}function Q1(e,t,r){if(r.length===0){e.items.push(t);return}x0(e.folders,r).items.push(t)}function Zr(e,t,r={}){const n=t.shift().split("/");for(let a=0;a<e.length;a++)if(e[a].name==n[0]){n.shift(),Q1(e[a],{cleartext:t,options:r},n);return}const i={name:n[0],folders:[],items:[]};e.push(i),n.shift(),Q1(i,{cleartext:t,options:r},n)}function l8(e){let t=e.substring(0,3).toLowerCase();const r={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12"};return t in r?r[t]:e}function u8(e){let t=s8(e);const r=[],n=t.shift();if(n.length===1){const i=t.shift();if(t.unshift(i),i.length===7)return t.forEach(a=>{if(a.length===7){const o=[n[0],a[0],a[2],a[5],a[1],a[6]];Zr(r,o)}}),r}return n.length===9&&n[0]==="username"&&n[1]==="username2"&&n[2]==="username3"&&n[3]==="title"&&n[4]==="password"&&n[5]==="note"&&n[6]==="url"&&n[7]==="category"&&n[8]==="otpSecret"?(t.forEach(i=>{if(i.length===9){let a=i[3]==""?"unnamed":i[3],o=i[7]==""?"dashlane":`dashlane/${i[7]}`;Zr(r,[o,a,i[0],i[4],i[6],i[5]])}}),r):n.length===8&&n[0]==="url"&&n[1]==="username"&&n[2]==="password"&&n[3]==="totp"&&n[4]==="extra"&&n[5]==="name"&&n[6]==="grouping"&&n[7]==="fav"?(t.forEach(i=>{if(i.length===8){const a=i[6].replaceAll("\\","/"),o=a==""?"lastpass":`lastpass/${a}`;let s={};if(i[0]=="http://sn"&&i[1]==""&&i[2]=="")if(s={note:1},i[4].startsWith(`NoteType:Credit Card
`)){let l=i[4].split(`
`),[u,c,d,p,C,h]=["","","","","","",""];for(let S of l){let[m,g]=S.split(":");if(typeof m=="string"&&typeof g=="string")switch(m){case"Name on Card":u=g;break;case"Number":c=g;break;case"Security Code":C=g;break;case"Expiration Date":[d,p]=g.split(","),d=l8(d);break;case"Notes":h=g}}console.log(u,c,d,p,C,h);const v=[o,"card",i[5],h,c,u,d,p,C];Zr(r,v,{version:5})}else Zr(r,[o,i[5],i[1],i[2],i[0],i[4]],s);else i[3].trim()===""?Zr(r,[o,i[5],i[1],i[2],i[0],i[4]],s):Zr(r,[o,i[5],i[1],i[2],i[0],i[4],i[3]],s)}}),r):n.length===7&&n[0]==="url"&&n[1]==="username"&&n[2]==="password"&&n[3]==="extra"&&n[4]==="name"&&n[5]==="grouping"&&n[6]==="fav"?(t.forEach(i=>{if(i.length===7){const a=i[5].replaceAll("\\","/");Zr(r,[a,i[4],i[1],i[2],i[0],i[3]])}}),r):n.length===4&&n[0]==="name"&&n[1]==="url"&&n[2]==="username"&&n[3]==="password"?(t.forEach(i=>{if(i.length===4){const a=["chrome",i[0],i[2],i[3],i[1],""];Zr(r,a)}}),r):n.length===5&&n[0]==="name"&&n[1]==="url"&&n[2]==="username"&&n[3]==="password"&&n[4]==="note"?(t.forEach(i=>{if(i.length===5){const a=["chrome",i[0],i[2],i[3],i[1],i[4]];Zr(r,a)}}),r):n.length===6&&n[0].toLowerCase()==="title"&&n[1].toLowerCase()==="url"&&n[2].toLowerCase()==="username"&&n[3].toLowerCase()==="password"&&n[4].toLowerCase()==="notes"&&n[5].toLowerCase()==="otpauth"?(t.forEach(i=>{if(i.length===6){const a=["safari",i[0],i[2],i[3],i[1],i[4]];Zr(r,a)}}),r):n.length===9&&n[0]==="url"&&n[1]==="username"&&n[2]==="password"&&n[3]==="httpRealm"&&n[4]==="formActionOrigin"&&n[5]==="guid"&&n[6]==="timeCreated"&&n[7]==="timeLastUsed"&&n[8]==="timePasswordChanged"?(t.forEach(i=>{if(i.length===9){const s=["firefox",new URL(i[0]).hostname,i[1],i[2],i[0],""];Zr(r,s)}}),r):n.length!==6?"Unknown file format":(t.forEach(i=>{i.length===6&&Zr(r,i)}),r)}function c8(e,t){for(let r=0;r<e.length;r++)if(e[r].name===t)return e[r];return null}function Y1(e,t){let r=!1;for(let n=0;n<e.items.length;n++){const{cleartext:i}=e.items[n];if(i[0]==t.cleartext[0]){if(i[1]==t.cleartext[1]&&i[2]==t.cleartext[2]&&i[3]==t.cleartext[3]&&i[4]==t.cleartext[4])return"equal";r=!0}}return r?"different":"absent"}function Tb(e,t){const r=[];for(let n=0;n<t.items.length;n++){const i=Y1(e,t.items[n]);if(i==="absent"){r.push(t.items[n]);continue}else if(i==="equal")continue;const a=t.items[n].cleartext[0];for(let o=1;;o++){if(o>100){alert("error 601");break}t.items[n].cleartext[0]=`${a}(${o})`;const s=Y1(e,t.items[n]);if(s==="absent"){r.push(t.items[n]);break}if(s==="equal")break}}return r}function Ab(e,t){const r=[];if("folders"in t)for(let n=0;n<t.folders.length;n++){let i=!1;for(let a=0;a<e.folders.length;a++)if(t.folders[n].name==e.folders[a].cleartext[0]){i=!0;const o=Tb(e.folders[a],t.folders[n]),s=Ab(e.folders[a],t.folders[n]);(o.length!==0||s.length!==0)&&r.push({_id:e.folders[a]._id,items:o,folders:s})}i||r.push(t.folders[n])}return r}function d8(e,t){const r=Tb(e,t),n=Ab(e,t);return r.length===0&&n.length===0?null:{id:e.id,items:r,folders:n}}function f8(e,t){const r={items:[],folders:[]},n=e.items;for(let a=0;a<n.length;a++)r.items.push(Rn(n[a].cleartext,t,n[a].options));const i=e.folders;for(let a=0;a<i.length;a++)r.folders.push(mf(i[a],t));return{id:e.id,items:r.items,folders:r.folders}}function h8(e,t){const r=[];for(let n=0;n<e.length;n++){const i=c8(t,e[n].name);if(!i){r.push(md(e[n]));continue}const a=d8(i,e[n]);if(!a)continue;const o=f8(a,i.bstringKey);r.push(o)}return r}let Sc;function p8(e,t){Sc&&clearTimeout(Sc);let r=30;e!==void 0&&(r=e),t===void 0&&(t=""),console.log("progress -"+t+" timeout "+r),document.querySelector(".progress-lock__message > span").innerText=`${t} Please wait`,document.querySelector("#progress-lock").style.display="block",r&&(Sc=window.setTimeout(()=>{window.location.href="error_page.php?js=timeout"},r*1e3))}function m8(){clearTimeout(Sc),document.querySelector("#progress-lock").style.display="none"}const st={lock:p8,unlock:m8};function g8(e){if(!e.show)return null;const[t,r]=x.useState("new safe"),[n,i]=x.useState(null),[a,o]=x.useState(""),s=mt(),l=p=>{r(p)},u=p=>{i(p.target.files[0]),o("")},c=p=>{if(p.length===0){st.unlock(),e.onClose(!0);return}Te.post(`${Re()}impex.php`,{verifier:ge(),import:p}).then(C=>{const h=C.data;if(st.unlock(),h.status==="Ok"){s.invalidateQueries(["userData"],{exact:!0}),e.onClose(!0);return}st.unlock(),o(h.status)}).catch(C=>{st.unlock(),o("Server error. Please try again later")})},d=()=>{if(!n){o("Please select a backup file");return}const p=n.name.split(".").pop().toLowerCase();if(!["csv","xml","json"].includes(p)){o("Unsupported file type, only XML and CSV are allowed");return}if(n.size>3e6){o("File too large");return}const C=new FileReader;C.onerror=h=>{console.log(h,h.loaded,h.loaded===0,n.name),o("Error loading file")},C.onload=()=>{const h=C.result;let v={};try{if(p==="xml")v=KE(h);else if(p==="json")v=o8(h),v.name=n.name;else{v.name=n.name,v.items=[];const S=u8(h);if(typeof S=="string"){st.unlock(),console.log("Import result "+S),o(S);return}v.folders=S}}catch(S){st.unlock(),o(S);return}if(console.log(v),t!=="restore"){let S;v.folders.length==1&&v.folders[0].name=="lastpass"?(v.folders[0].name=v.name,S=md(v.folders[0])):S=md(v),console.log(S),c([S])}else{const S=h8(v.folders,e.safes);c(S)}},st.lock(),C.readAsText(n)};return console.log("ImportModal start draw"),N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"Import"})}),N(ae.Body,{children:[a!=""?f("p",{style:{color:"red"},children:a}):"",N("div",{className:"import-modal-file-field",children:[f("div",{style:{flexGrow:1,fontSize:"18px",lineHeight:"24px",padding:"12px 0 0 12px"},children:n?n.name:"Choose file"}),f(pe,{variant:"primary",type:"submit",onClick:d,children:"Browse"}),f("input",{type:"file",accept:".xml,.csv,.json",id:"inputFileModal",onChange:u})]}),N("div",{style:{fontSize:13,lineHeight:"22px",color:"rgba(27, 27, 38, 0.7)",marginBottom:32},children:[f("b",{children:"Supports:"})," KeePass2.xXML, BitwardenJSON, KeePassXCSV, ChromepasswordsCSV, FirefoxpasswordsCSV, SafaripasswordsCSV, LastpassCSV, DashLaneCSV"]}),f("div",{style:{marginBottom:0},children:[{mode:"restore",comment:"Restore. Merge into existing safes where possible"},{mode:"new safe",comment:"Import into a new safe"}].map(p=>N("div",{style:{display:"flex",marginBottom:12},onClick:()=>{l(p.mode)},children:[f("div",{children:f("svg",{width:"22",height:"22",fill:"none",style:{margin:"0 14px 3px 0"},children:f("use",{href:t==p.mode?"#f-radio-checked":"#f-radio"})})}),f("div",{style:{cursor:"default"},children:t==p.mode?f("div",{children:f("b",{children:p.comment})}):f("div",{children:p.comment})})]},p.mode))})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"primary",type:"submit",onClick:d,children:"Import"})]})]})}var kb={exports:{}};(function(e,t){(function(r,n){n()})(ci,function(){function r(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,c,d){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,c,d)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ci=="object"&&ci.global===ci?ci:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(u,c,d){var p=o.URL||o.webkitURL,C=document.createElement("a");c=c||u.name||"download",C.download=c,C.rel="noopener",typeof u=="string"?(C.href=u,C.origin===location.origin?a(C):i(C.href)?n(u,c,d):a(C,C.target="_blank")):(C.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(C.href)},4e4),setTimeout(function(){a(C)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,d){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,d),c);else if(i(u))n(u,c,d);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){a(p)})}}:function(u,c,d,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return n(u,c,d);var C=u.type==="application/octet-stream",h=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||C&&h||s)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var y=S.result;y=v?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=y:location=y,p=null},S.readAsDataURL(u)}else{var m=o.URL||o.webkitURL,g=m.createObjectURL(u);p?p.location=g:location.href=g,p=null,setTimeout(function(){m.revokeObjectURL(g)},4e4)}});o.saveAs=l.saveAs=l,e.exports=l})})(kb);var xd=kb.exports;let se="";function v8(e,t){if(e.hasOwnProperty("file"))return;se+=t+`<Entry>\r
`;const r=t+"    ",n=r+"    ";e.hasOwnProperty("lastModified")&&(se+=r+`<Times>\r
`,se+=n+"<LastModificationTime>"+nr(e.lastModified)+`</LastModificationTime>\r
`,se+=r+`</Times>\r
`);let i,a,o,s,l;if(e.version!=5){i=e.cleartext[0],a=e.cleartext[1],o=e.cleartext[2],s=e.cleartext[3],l=e.cleartext[4];let u=e.cleartext[3].split("");l!=""&&(se+=r+`<String>\r
`,se+=n+`<Key>Notes</Key>\r
`,se+=n+"<Value>"+nr(l)+`</Value>\r
`,se+=r+`</String>\r
`),o!=""&&(se+=r+`<String>\r
`,se+=n+`<Key>Password</Key>\r
`,se+=n+'<Value ProtectInMemory="True">'+nr(o)+`</Value>\r
`,se+=r+`</String>\r
`),i!=""&&(se+=r+`<String>\r
`,se+=n+`<Key>Title</Key>\r
`,se+=n+"<Value>"+nr(i)+`</Value>\r
`,se+=r+`</String>\r
`),s!=""&&(se+=r+`<String>\r
`,se+=n+`<Key>URL</Key>\r
`,se+=n+"<Value>"+nr(u[0])+`</Value>\r
`,se+=r+`</String>\r
`),a!=""&&(se+=r+`<String>\r
`,se+=n+`<Key>UserName</Key>\r
`,se+=n+"<Value>"+nr(a)+`</Value>\r
`,se+=r+`</String>\r
`),e.hasOwnProperty("note")&&(se+=r+`<String>\r
`,se+=n+`<Key>Note</Key>\r
`,se+=n+`<Value>1</Value>\r
`,se+=r+`</String>\r
`),e.cleartext.length==6&&(se+=r+`<String>\r
`,se+=n+`<Key>TOTP</Key>\r
`,se+=n+"<Value>"+nr(e.cleartext[5])+`</Value>\r
`,se+=r+`</String>\r
`);for(let c=1;c<u.length;c++)se+=r+`<String>\r
`,c==1?se+=n+`<Key>KP2A_URL</Key>\r
`:se+=n+`<Key>KP2A_URL_${c-1}</Key>\r
`,se+=n+"<Value>"+nr(u[c])+`</Value>\r
`,se+=r+`</String>\r
`;se+=t+`</Entry>\r
`;return}i=e.cleartext[1],a="",o="",s="",l=e.cleartext[2],l!=""&&(se+=r+`<String>\r
`,se+=n+`<Key>Notes</Key>\r
`,se+=n+"<Value>"+nr(l)+`</Value>\r
`,se+=r+`</String>\r
`),i!=""&&(se+=r+`<String>\r
`,se+=n+`<Key>Title</Key>\r
`,se+=n+"<Value>"+nr(i)+`</Value>\r
`,se+=r+`</String>\r
`),se+=r+`<String>\r
`,se+=n+"<Key>card_code</Key>",se+=n+"<Value>"+nr(e.cleartext[7])+`</Value>\r
`,se+=r+`</String>\r
`,se+=r+`<String>\r
`,se+=n+"<Key>card_name</Key>",se+=n+"<Value>"+nr(e.cleartext[4])+`</Value>\r
`,se+=r+`</String>\r
`,se+=r+`<String>\r
`,se+=n+"<Key>card_num</Key>",se+=n+"<Value>"+nr(e.cleartext[3])+`</Value>\r
`,se+=r+`</String>\r
`,se+=r+`<String>\r
`,se+=n+"<Key>exp_month</Key>",se+=n+"<Value>"+nr(e.cleartext[5])+`</Value>\r
`,se+=r+`</String>\r
`,se+=r+`<String>\r
`,se+=n+"<Key>exp_year</Key>",se+=n+"<Value>"+nr(e.cleartext[6])+`</Value>\r
`,se+=r+`</String>\r
`,se+=t+`</Entry>\r
`}function E0(e,t){se+=t+`<Group>\r
`,e.safe?se+=t+"    <Name>"+nr(e.cleartext[0])+`</Name>\r
`:se+=t+"    <Name>"+nr(e.name)+`</Name>\r
`;for(let r=0;r<e.items.length;r++)v8(e.items[r],t+"    ");for(let r=0;r<e.folders.length;r++)E0(e.folders[r],t+"    ");se+=t+`</Group>\r
`}function y8(e){if(se=`<?xml version="1.0" encoding="utf-8" standalone="yes"?>\r
<KeePassFile>\r
    <Root>\r
`,se+=`        <Group>\r
`,se+=`            <Name>Passhub</Name>\r
`,Array.isArray(e))for(let r=0;r<e.length;r++)e[r].user_role!="limited view"?E0(e[r],"            "):console.log("limited view safe not exported");else e.user_role!="limited view"?E0(e,"            "):console.log("limited view safe not exported");return se+=`        </Group>\r
`,se+=`     </Root>\r
</KeePassFile>\r
`,new Blob([se],{type:"text/xml"})}const X1={separator:",",delimiter:'"'};function Ib(e,t,r){if(t!==void 0&&typeof t=="function"){if(r!==void 0)return console.error("You cannot 3 arguments with the 2nd argument being a function");r=t,t={}}t=t!==void 0?t:{};var n={};n.callback=r!==void 0&&typeof r=="function"?r:!1,n.separator="separator"in t?t.separator:X1.separator,n.delimiter="delimiter"in t?t.delimiter:X1.delimiter;var i="",a,o,s,l;for(s=0;s<e.length;s++){for(a=e[s],o=[],l=0;l<a.length;l++){var u=a[l]===void 0||a[l]===null?"":a[l].toString();u.indexOf(n.delimiter)>-1&&(u=u.replace(new RegExp(n.delimiter,"g"),n.delimiter+n.delimiter));var c=`
|\r|S|D`;c=c.replace("S",n.separator),c=c.replace("D",n.delimiter),u.search(c)>-1&&(u=n.delimiter+u+n.delimiter),o.push(u)}i+=o.join(n.separator)+`\r
`}if(n.callback)n.callback("",i);else return i}let b0="";function T0(e){const t=e.path.join("/");for(let r=0;r<e.items.length;r++){if(e.items[r].hasOwnProperty("file"))continue;let n=e.items[r].cleartext[3].split("");n=n.join(" "),b0+=Ib([[t,e.items[r].cleartext[0],e.items[r].cleartext[1],e.items[r].cleartext[2],n,e.items[r].cleartext[4]]])}for(let r=0;r<e.folders.length;r++)T0(e.folders[r])}function C8(e){if(b0=`path,title,username,password,url,notes\r
`,Array.isArray(e))for(let r=0;r<e.length;r++)e[r].user_role!="limited view"?T0(e[r]):console.log("limited view safe not exported");else e.user_role!="limited view"?T0(e):console.log("limited view safe not exported");return new Blob([b0],{type:"text/csv;charset=utf-8"})}function Nb(e){if(!e.show)return null;const[t,r]=x.useState("XML"),n=l=>{r(l)},i=()=>{e.onClose()},a=()=>{let l=e.folder?e.folder:Bn().safes;if(t==="XML"){const u=y8(l);xd.saveAs(u,"passhub.xml")}else{const u=C8(l);xd.saveAs(u,"passhub.csv")}e.onClose()},o=[{format:"XML",comment:"KeePass 2.0 compatible, RECOMMENDED"},{format:"CSV",comment:"Readable, Excel compatible"}];let s="Export all safes and folders";if(e.show&&e.folder&&!Array.isArray(e.folder)){const l=e.folder.path[e.folder.path.length-1][0];s=`Export ${e.folder.path.length<2?"Safe":"Folder"}: ${l}`}return N(ae,{show:e.show,onHide:i,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:s})}),N(ae.Body,{children:[f("div",{style:{marginBottom:12},children:o.map(l=>N("div",{style:{display:"flex",marginBottom:12},onClick:()=>{n(l.format)},children:[f("div",{children:f("svg",{width:"22",height:"22",fill:"none",style:{marginRight:"14px"},children:f("use",{href:t===l.format?"#f-radio-checked":"#f-radio"})})}),N("div",{children:[f("div",{children:f("b",{children:l.format})}),f("div",{style:{fontSize:13,opacity:.7},children:l.comment})]})]},l.format))}),N("div",{style:{display:"flex",color:"var(--warning-color)"},children:[f("div",{children:f("svg",{width:"22",height:"22",fill:"none",stroke:"var(--warning-color)",style:{marginRight:"14px"},children:f("use",{href:"#no-files-exported"})})}),f("div",{children:N("b",{children:["Files and images will not be exported.",f("br",{})," Unfortunately, you need to download them manually"]})})]})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:i,children:"Cancel"}),f(pe,{variant:"primary",type:"submit",onClick:a,children:"Export"})]})]})}function S8(e){if(!e.show)return null;const t=is(),[r,n]=x.useState(t.email?t.email:""),[i,a]=x.useState(""),o=()=>{const u=r.trim();if(u.length==0){a("Please fill the email field");return}st.lock(),Te.post(`${Re()}change_mail.php`,{verifier:ge(),email:u,host:F_()}).then(c=>{st.unlock();const d=c.data;if(d.status==="Ok"){e.onClose("dummy","verifyEmail",r);return}if(d.status==="login"){window.location.href="expired.php";return}a(d.status)}).catch(c=>{st.unlock(),a("Server error. Please try again later")})},s=u=>{n(u.target.value),a("")};let l="Add your email address";return t.email&&t.email.length>0&&(l="Change email address"),N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:l})}),N(ae.Body,{className:"edit mb32",children:[f(Ei,{id:"mailModalInput",label:"Email",value:r,edit:!0,onChange:s}),i.length>0&&f("div",{className:"error-message",children:i})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"primary",onClick:o,children:"Submit"})]})]})}function w8(e){if(!e.show)return null;const[t,r]=x.useState(""),[n,i]=x.useState(""),a=l=>{r(l.target.value),i("")},o=()=>{e.onClose("dummy","Contact us")},s=()=>{const l=t.trim();if(console.log("Submit"),l.length==0){i("Please fill the code field");return}Te.post("registration_action.php",{code6:l,purpose:"change"}).then(u=>{const c=u.data;if(c.status==="Ok"){"email"in c&&iL(c.email),e.onClose();return}i(c.status)}).catch(u=>{console.log(u),i("Server error. Please try again later")})};return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"Check your mailbox"})}),N(ae.Body,{className:"edit mb24",children:[N("div",{className:"mb32",children:["Please enter the code weve sent to"," ",f("b",{children:e.emailToVerify})]}),f(Ei,{id:"mailModalInput",label:"Code",value:t,edit:!0,onChange:a}),n.length>0&&f("div",{className:"error-message",children:n}),N("div",{className:"dark50",children:["If you do not receive this email, please check your Spam folder, make sure the provided email address is correct, or"," ",f("a",{style:{color:"var(--link-color)"},href:"#",onClick:o,children:"contact us"})]})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"primary",onClick:s,children:"Verify"})]})]})}var x8=x.useLayoutEffect,E8=function(t){var r=x.useRef(t);return x8(function(){r.current=t}),r},J1=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},b8=function(t,r){var n=x.useRef();return x.useCallback(function(i){t.current=i,n.current&&J1(n.current,null),n.current=r,r&&J1(r,i)},[r])},Z1={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},T8=function(t){Object.keys(Z1).forEach(function(r){t.style.setProperty(r,Z1[r],"important")})},eC=T8,yr=null,tC=function(t,r){var n=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?n+r.borderSize:n-r.paddingSize};function A8(e,t,r,n){r===void 0&&(r=1),n===void 0&&(n=1/0),yr||(yr=document.createElement("textarea"),yr.setAttribute("tabindex","-1"),yr.setAttribute("aria-hidden","true"),eC(yr)),yr.parentNode===null&&document.body.appendChild(yr);var i=e.paddingSize,a=e.borderSize,o=e.sizingStyle,s=o.boxSizing;Object.keys(o).forEach(function(p){var C=p;yr.style[C]=o[C]}),eC(yr),yr.value=t;var l=tC(yr,e);yr.value=t,l=tC(yr,e),yr.value="x";var u=yr.scrollHeight-i,c=u*r;s==="border-box"&&(c=c+i+a),l=Math.max(c,l);var d=u*n;return s==="border-box"&&(d=d+i+a),l=Math.min(d,l),[l,u]}var rC=function(){},k8=function(t,r){return t.reduce(function(n,i){return n[i]=r[i],n},{})},I8=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],N8=!!document.documentElement.currentStyle,R8=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var n=k8(I8,r),i=n.boxSizing;if(i==="")return null;N8&&i==="border-box"&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var a=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),o=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:a,borderSize:o}},_8=R8;function Rb(e,t,r){var n=E8(r);x.useLayoutEffect(function(){var i=function(o){return n.current(o)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var B8=function(t){Rb(window,"resize",t)},D8=function(t){Rb(document.fonts,"loadingdone",t)},L8=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],M8=function(t,r){var n=t.cacheMeasurements,i=t.maxRows,a=t.minRows,o=t.onChange,s=o===void 0?rC:o,l=t.onHeightChange,u=l===void 0?rC:l,c=xf(t,L8),d=c.value!==void 0,p=x.useRef(null),C=b8(p,r),h=x.useRef(0),v=x.useRef(),S=function(){var y=p.current,w=n&&v.current?v.current:_8(y);if(w){v.current=w;var E=A8(w,y.value||y.placeholder||"x",a,i),b=E[0],T=E[1];h.current!==b&&(h.current=b,y.style.setProperty("height",b+"px","important"),u(b,{rowHeight:T}))}},m=function(y){d||S(),s(y)};return x.useLayoutEffect(S),B8(S),D8(S),x.createElement("textarea",Qa({},c,{onChange:m,ref:C}))},ql=x.forwardRef(M8);function O8(e){if(!e.show)return null;const[t,r]=x.useState(""),[n,i]=x.useState(""),[a,o]=x.useState(""),[s,l]=x.useState(""),u=C=>{r(C.target.value),l("")},c=C=>{i(C.target.value),l("")},d=C=>{o(C.target.value),l("")},p=()=>{if(a.trim().length==0){l("please fill in the message field");return}st.lock(),Te.post(`${Re()}contact_us.php`,{verifier:ge(),name:t,email:n,message:a}).then(C=>{st.unlock();const h=C.data;if(h.status==="Ok"){e.onClose(1,"success");return}if(h.status==="login"){window.location.href="expired.php";return}l(h.status)}).catch(C=>{st.unlock(),l("Error sending email. Please try again later")})};return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"Contact us"})}),N(ae.Body,{className:"edit",style:{marginBottom:"24px"},children:[s.length>0?N("div",{style:{color:"red",margin:"0 16px 16px"},children:[f("svg",{style:{width:"24px",height:"24px",fill:"red",marginRight:"16px"},children:f("use",{href:"#a-error"})}),s]}):"",f(Ei,{value:t,id:"contact-us-name",label:"Name",onChange:u,edit:!0}),f(Ei,{value:n,id:"contact-us-email",label:"Email",onChange:c,edit:!0}),f("div",{className:"itemNoteModalField",children:f(ql,{id:"contact-us-message",value:a,onChange:d,placeholder:"Type message here"})})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"primary",type:"button",onClick:p,children:"Send"})]})]})}function Gl(e){let t="#f-success",r={width:"112px",height:"112px"},n="Success";return e.error?(t="#a-error",n="Error"):e.norights?(t="#a-forbidden",r.fill="red",r.margin="1em",n="Forbidden"):e.thankyou?n="Thank you":r.fill="none",f(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:f(ae.Body,{children:N("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[f("svg",{style:r,children:f("use",{href:t})}),f("div",{className:"h2",style:{marginBottom:"1em"},children:n}),f("div",{style:{marginBottom:"108px"},children:e.children}),f(pe,{variant:"primary",type:"submit",style:{minWidth:"168px",marginLeft:"12px"},onClick:e.onClose,children:"Close"})]})})})}function cn(e){let t=null;const r=e.margin27?{marginRight:"27px"}:{};return e.copy?t=N("div",{children:[f("span",{className:"iconTitle",style:r,children:"Copy"}),f("svg",{width:"24",height:"24",fill:"none",stroke:"#1b1b26",title:"Copy",children:f("use",{href:"#f-copy"})})]}):e.gotowebsite&&(t=N("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[f("div",{className:"iconTitle",children:"Go to website"}),f("div",{className:"gotowebsite"})]})),N("div",{style:{display:"flex",justifyContent:"space-between"},children:[f("div",{className:"label",children:f("label",{htmlFor:e.htmlFor,children:e.name})}),t]})}function P8(e){if(!e.show)return null;x.useState("");const[t,r]=x.useState(""),n=!1,i=o=>{if(o==0)return"0";if(o<1024)return`${o} B`;const s=Math.floor(Math.log(o)/Math.log(1024));let l=o/Math.pow(1024,s);return`${Math.round(l)} ${"KMGTPEZY"[s-1]}B`},a=is();return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"Upgrade to Premium"})}),N(ae.Body,{className:"edit",style:{marginBottom:"24px"},children:[N("div",{style:{marginBottom:"32px"},children:[ky()&&N("p",{style:{color:"red"},children:["Maximum storage size for your FREE plan is ",i(e.accountData.maxStorage),". You have alreaady used ",Pl(zx()),"."]}),rd()&&N("p",{style:{color:"red"},children:["Maximum number of passwords, notes, and bank card records for your"," ",f("b",{children:"FREE"})," plan is ",f("b",{children:e.accountData.maxRecords})," records. You already have ",f("b",{children:jx()})," records."]}),!ky()&&!rd()&&N("p",{children:["Your ",f("b",{children:"FREE"})," account is limited to ",a.maxRecords," records,"," ",i(a.maxStorage)," storage, and",i(a.maxFileSize)," file size."]}),N("p",{children:["Get ",f("b",{children:"PREMIUM"})," plan for:"]}),N("ul",{children:[f("li",{children:"unlimited records"}),N("li",{children:[i(a.upgrade.maxStorage)," of storage space"]}),N("li",{children:[i(a.upgrade.maxFileSize)," max file size"]})]}),f("p",{children:"for only"}),N("div",{children:[N("span",{style:{fontSize:"36px",fontWeight:700},children:[" $",(a.upgrade.price/12).toFixed(2)]}),f("b",{children:" /month"}),"."]}),N("div",{style:{color:"grey"},children:["$",a.upgrade.price,".00 billed annualy"]})]}),n,!1,t.length>0&&f("p",{style:{color:"red"},children:t})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"primary",onClick:()=>{window.open("payments/checkout.php","passhub_payment"),e.onClose()},children:"Continue"})]})]})}function F8(e){const t={business:!1,email:"mymail@gmail.com",plan:"FREE",totalStotrage:10485760},[r,n]=x.useState(""),[i,a]=x.useState(t),[o,s]=x.useState(""),{isLoading:l,error:u,data:c}=ps({queryKey:["accountData"],queryFn:()=>Promise.resolve(2).then(h=>h),onSuccess:()=>{}});l||u||is()!=i&&a(is());const d=h=>{const v=h||{verifier:ge()};Te.post(`${Re()}account.php`,v).then(S=>{const m=S.data;if(m.status!=="Ok"&&m.status==="login"){window.location.href="expired.php";return}})},p=h=>{h.stopPropagation(),n("AccountDropDown")},C=h=>{if(h==="Contact us"){n("Contact us");return}if(h==="Account settings"){n("Account settings");return}if(h==="upgrade"){n("upgrade");return}if(h==="Export"){n("Export");return}if(h==="Import"){n("Import");return}if(h==="Help"){window.open("https://passhub.net/doc","passhub_doc",[]);return}h==="Iam"&&e.gotoIam(),h==="Msp"&&e.gotoMsp()};return f(Ht,{children:N(Ht,{children:[f(Jc,{children:N("div",{style:{display:"flex",paddingLeft:24,paddingRight:16,justifyContent:"space-between",marginBottom:16,marginTop:16,alignItems:"center"},children:[N("div",{style:{marginRight:37},children:[f("span",{onClick:e.gotoMain,style:{cursor:e.page==="Main"?"default":"pointer"},children:f("svg",{style:{fill:"var(--logo-color)",width:133,height:26.5},children:f("use",{href:"#ph-logo"})})}),f("span",{className:"d-md-none",id:"xs_indicator"})]}),f(_1,{onSearchTypeChange:e.onSearchTypeChange,searchType:e.searchType,onSearchChange:e.onSearchChange,onSearchClear:e.onSearchClear,searchString:e.searchString,desktop:!0,page:e.page}),(e.page=="Iam"||e.page=="Msp")&&f("div",{onClick:e.gotoMain,style:{cursor:"pointer"},children:f("svg",{width:"32",height:"32",children:f("use",{href:"#f-cross"})})}),e.page!=="Login"&&e.page!=="Iam"&&e.page!=="Msp"&&N("div",{style:{display:"flex",marginLeft:37},children:[f("div",{className:"account-dropdown-button",onClick:p,children:f("svg",{width:"40",height:"34",style:{opacity:.7},children:f("use",{href:"#f-account"})})}),f("span",{className:"d-none d-sm-inline",onClick:p,style:{padding:"8px 0 0 0",cursor:"pointer"},children:f("svg",{width:"24",height:"24",fill:"white",children:f("use",{href:"#angle"})})})]})]})}),f(Jc,{className:"d-sm-none",children:f(_1,{onSearchTypeChange:e.onSearchTypeChange,searchType:e.searchType,onSearchChange:e.onSearchChange,onSearchClear:e.onSearchClear,searchString:e.searchString,page:e.page})}),f(_O,{show:r=="AccountDropDown",onClose:()=>n(""),onMenuCommand:C,accountData:i}),f(r8,{show:r==="Account settings",accountData:i,accountOperation:d,onClose:(h,v)=>{n(v||"")}}),f(n8,{show:r==="delete account",onClose:(h,v)=>{n(v||"")}}),f(i8,{show:r==="delete account final",onClose:(h,v)=>{n(v||"")}}),f(Gl,{show:r==="success",onClose:()=>{n("")},children:"Your message has been sent"}),f(Gl,{show:r==="account deleted",onClose:()=>{n(""),window.location.href="logout.php"},children:"Your account has been deleted"}),f(P8,{show:r==="upgrade",onClose:()=>{n("")}}),f(S8,{show:r==="email",onClose:(h,v,S)=>{n(v?"verifyEmail":""),s(S)}}),f(w8,{show:r==="verifyEmail",emailToVerify:o,onClose:(h,v)=>{n(v?"Contact us":"")}}),f(g8,{show:r==="Import",onClose:(h,v)=>{n(v||"")}}),f(Nb,{show:r=="Export",onClose:()=>{n("")}}),f(O8,{show:r==="Contact us",onClose:(h,v)=>{n(v||"")}})]})})}function _b(e){if(!e.show)return null;const t=m=>Te.post(`${Re()}${m.url}`,m.args).then(g=>{const y=g.data;if(y.status==="Ok")return e.onClose(!0,y.id),"Ok";if(y.status==="group safe")return e.onClose(y.status),"Ok";if(y.status==="login"){window.location.href="expired.php";return}s(y.status)}).catch(g=>{console.log(g),s("Server error. Please try again later")}),r=mt(),n=Mt({mutationFn:t,onSuccess:m=>{r.invalidateQueries(["userData"],{exact:!0})}}),[i,a]=x.useState(e.args.folder?e.args.folder.path[e.args.folder.path.length-1][0]:""),[o,s]=x.useState("");let l="";const u=()=>{e.onClose()},c=()=>{const m=i.trim();if(m.length==0){a(m),s("* Please fill in the name field");return}if(l=="Create Safe"){const y=VD(m);n.mutate({url:"create_safe.php",args:{verifier:ge(),safe:y}});return}if(l=="Create Folder"){const y=e.args.parent,[w,E,b]=y.safe?[y.safe.bstringKey,y.safe.id,y.id]:[y.bstringKey,y.id,0],T=a0(m,w);n.mutate({url:"folder_ops.php",args:{operation:"create",verifier:ge(),SafeID:E,folderID:b,name:T}});return}if(e.args.folder.path[e.args.folder.path.length-1][0]==i){e.onClose();return}if(l=="Rename Safe"){const y=ws(m,e.args.folder.bstringKey);n.mutate({url:"update_vault.php",args:{vault:e.args.folder.id,verifier:ge(),eName:y,version:3}});return}if(l=="Rename Folder"){const y=a0(m,e.args.folder.safe.bstringKey);n.mutate({url:"folder_ops.php",args:{operation:"rename",verifier:ge(),SafeID:e.args.folder.safe.id,folderID:e.args.folder.id,name:y}});return}},d=m=>{a(m.target.value),s("")},p=m=>{m.key==="Enter"&&c()};l="Create";let C="#f-safe",h="safe-name-title",v="";e.args.folder?[l,C,h,v]=e.args.folder.path.length<2?["Rename Safe","#f-safe","safe-name-title","Safe name"]:["Rename Folder","#f-folderSimplePlus","","Folder name"]:[l,C,h,v]=e.args.parent?["Create Folder","#f-folderSimplePlus","","Folder name"]:["Create Safe","#f-safe","safe-name-title","Safe name"];let S="";return e.args.parent?S=e.args.parent.path.map(m=>m[0]).join(" > "):e.args.folder&&e.args.folder.path.length>1&&(S=e.args.folder.path.slice(0,-1).map(m=>m[0]).join(" > ")),N(ae,{show:e.show,onHide:u,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),S.length>0&&!1,N("div",{className:"modalTitle",style:{alignItems:"center"},children:[f("div",{children:f("svg",{width:"32",height:"32",style:{marginRight:"14px"},children:f("use",{href:C})})}),f("div",{className:"h2",children:l})]}),l=="Create Safe"&&f("div",{children:"Shareable top-level folder"}),N(ae.Body,{className:"edit",children:[f(Ei,{id:"folderNameModalInput",label:"Name",value:i,edit:!0,autoFocus:!0,placeHolder:v,onChange:d,onKeyUp:p}),o.length>0&&f("div",{style:{color:"red"},children:o})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:u,children:"Cancel"}),f(pe,{variant:"primary",type:"submit",onClick:c,children:e.args.folder?"Rename":"Create"})]})]})}let Th={};function U8(e){if(!e.show)return null;const[t,r]=x.useState("initial"),[n,i]=x.useState(""),a=mt(),o=Mt({mutationFn:()=>Promise.resolve(2),onSuccess:v=>{},onError:v=>{console.log("Hello 40"),console.log("mutation error",v)},onSettled:v=>{a.invalidateQueries(["userData"],{exact:!0})}}),s=(v=!1)=>{if(r("initial"),v){o.mutate(),e.onClose(!0);return}e.onClose(!1)},l=()=>s(),u=()=>{Te.post(`${Re()}safe_acl.php`,{verifier:ge(),vault:e.folder.id,operation:"unsubscribe"}).then(v=>{v.data,s(!0)}).catch(v=>{i("Server error. Please try again later")})},c=()=>{if(t==="safeDeleted"){s(!0);return}if(t==="unsubscribe"){u();return}const v=t==="notEmptyFolderWarning"?"delete_not_empty":"delete",S=ge();let m="delete_safe.php",g={operation:v,verifier:S,SafeID:e.folder.id};e.folder.path.length>1&&(m="folder_ops.php",g={operation:v,verifier:S,SafeID:e.folder.SafeID,folderID:e.folder.id}),Te.post(`${Re()}${m}`,g).then(y=>{const w=y.data;if(w.status==="Ok"){if(w.hasOwnProperty("items")){Th=w,r("safeDeleted");return}s(!0);return}if(w.status==="not empty"){r("notEmptyFolderWarning");return}if(w.status==="group safe"||w.status==="group safe, siteadmin"){r("initial"),e.onClose(w.status);return}if(w.status==="unsubscribe"){r("unsubscribe");return}if(w.status==="login"){window.location.href="expired.php";return}i(w.status)}).catch(y=>{console.log(y),i("Server error. Please try again later")})},d=e.folder.path[e.folder.path.length-1][0],C=e.folder.path.length<2?"Safe":"Folder",h=t!=="safeDeleted";return N(ae,{show:e.show,onHide:l,centered:!0,animation:!1,children:[f(gt,{onClose:l}),f("div",{className:"modalTitle",children:N("div",{className:"h2",children:["Delete ",C]})}),N(ae.Body,{children:[t==="initial"&&N("p",{children:["Do you really want to delete"," ",f("span",{style:{fontSize:"larger",fontWeight:"bold"},children:d})," ","?"]}),t==="notEmptyFolderWarning"&&N("p",{children:["The ",C," ",f("span",{style:{fontSize:"larger",fontWeight:"bold"},children:d})," ","is not empty. Do you want to delete it with all its items and subfolders?"]}),t==="unsubscribe"&&N("div",{children:[f("p",{children:"You are not the safe owner, you cannot delete the safe."}),f("p",{children:"Still you can cancel your membership by clicking 'unsubscribe' button"})]}),t==="safeDeleted"&&N("div",{children:["Deleted folders: ",Th.folders," items: ",Th.items]}),n.length>0&&f("div",{style:{color:"red"},children:n})]}),N(ae.Footer,{children:[h&&f(pe,{variant:"outline-secondary",onClick:l,children:"Cancel"}),N(pe,{variant:"danger",type:"submit",onClick:()=>c(),children:[t==="initial"&&"Delete",t==="notEmptyFolderWarning"&&"Delete",t==="safeDeleted"&&"Close",t==="unsubscribe"&&"Unsubscribe"]})]})]})}function V8(e){const t=(a,o)=>{let s="readonly";a=="Limited view"&&(s="limited view"),a=="Can edit"&&(s="editor"),a=="Safe owner"&&(s="administrator"),a=="Remove"&&(s="Remove"),console.log(a.user),e.setUserRole(o.name,s)},r=N(ei,{id:"safe-user-menu",children:[f(qe,{onClick:a=>{t("Safe owner",a.props.user)},children:N("div",{children:[f("div",{children:"Safe owner"}),f("div",{className:"safe-user-menu-details",children:"Additionaly can share safe and manage user access rights"})]})}),f(qe,{onClick:a=>{console.log(a),t("Can edit",a.props.user)},children:N("div",{children:[f("div",{children:"Can Edit"}),f("div",{className:"safe-user-menu-details",children:"User can edit, delete, and add files to the Safe"})]})}),f(qe,{onClick:a=>{t("Can view",a.props.user)},children:N("div",{children:[f("div",{children:"Can view"}),f("div",{className:"safe-user-menu-details",children:"User can only view records and download files"})]})}),f(qe,{onClick:a=>{t("Limited view",a.props.user)},hidden:!e.hiddenPasswordEnabled,children:N("div",{children:[f("div",{children:"Limited view"}),f("div",{className:"safe-user-menu-details",children:"User can only view records and download files, passwords are hidden"})]})}),f(qe,{onClick:a=>t("Remove",a.props.user),children:f("div",{style:{color:"#B40020",fontWeight:"bold"},children:"Revoke access"})})]}),n=a=>{_n.show({id:"safe-user-menu",event:a,props:{user:e.user}})};let i="can view";return e.user.role=="limited view"&&(i="limited view"),e.user.role=="editor"&&(i="can edit"),e.user.role=="administrator"&&(i="owner"),e.user.myself?N("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[N("div",{style:{color:"var(--body-color70)",textOverflow:"ellipsis",overflow:"hidden"},children:[f("b",{children:"Me"}),"",e.user.name]}),f("div",{style:{marginRight:"1em",textAlign:"end",width:"7em"},children:i})]}):N("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[f("div",{style:{textOverflow:"ellipsis",overflow:"hidden"},children:e.user.name}),r,e.isAdmin?N("div",{className:"roleChanger",onClick:n,children:[i,f("svg",{width:"24",height:"24",style:{verticalAlign:"top",fill:"#009A50"},children:f("use",{href:"#angle"})})]}):f("div",{children:i})]})}function K8(e){const[t,r]=x.useState([]),[n,i]=x.useState(""),[a,o]=x.useState("can view"),[s,l]=x.useState(""),[u,c]=x.useState(!1),[d,p]=x.useState(!1),C=()=>{const{folder:L}=e.args;L.safe?L.safe.id:L.id,Te.post(`${Re()}safe_acl.php`,{verifier:ge(),vault:e.args.folder.id}).then(P=>{const $=P.data;if($.status=="group safe, siteadmin"){S($.status);return}if($.status=="group safe"){S($.status);return}if($.status==="Ok"){if($.group_role)return;D($.UserList);return}if($.status==="login"){window.location.href="expired.php";return}l($.status)}).catch(P=>{l("Server error. Please try again later")})};if(x.useEffect(()=>{e.show?C():(r([]),i(""),o("can view"),l(""))},[e.show]),!e.show)return null;let h=!1;const v=L=>{i(L.target.value),l("")},S=(L=!1)=>{e.onClose(L||h)},m=()=>{e.sendInvitationMessage(n)},g=Bn();let y=!1;g.business&&g.HIDDEN_PASSWORDS_ENABLED&&(y=!0);const w=N(ei,{id:"invited-user-menu",children:[f(qe,{onClick:L=>{o("safe owner")},children:N("div",{children:[f("div",{children:"Safe owner"}),f("div",{className:"safe-user-menu-details",children:"Additionaly can share safe and manage user access rights"})]})}),f(qe,{onClick:L=>{o("can edit")},children:N("div",{children:[f("div",{children:"Can Edit"}),f("div",{className:"safe-user-menu-details",children:"User can edit, delete, and add files to the Safe"})]})}),f(qe,{onClick:L=>{o("can view")},children:N("div",{children:[f("div",{children:"Can view"}),f("div",{className:"safe-user-menu-details",children:"User can only view records and download files"})]})}),f(qe,{onClick:L=>{o("limited view")},hidden:!y,children:N("div",{children:[f("div",{children:"Limited view"}),f("div",{className:"safe-user-menu-details",children:"User can only view records and download files, passwords are hidden"})]})})]}),E=(L,P)=>{let $="readonly";a=="limited view"&&($="limited view"),a=="can edit"&&($="editor"),a=="safe owner"&&($="administrator");const{folder:K}=e.args;let H=K.name,{email:j}=e.args;if(j){const G=j.indexOf("@");G>0&&(j=j.substring(0,G)),H+=" /"+j}const q=ws(H,e.args.folder.bstringKey),te=K.safe?K.safe.id:K.id;Te.post(`${Re()}safe_acl.php`,{verifier:ge(),vault:te,operation:"email_final",name:L,key:P,eName:q,vesrion:3,role:$}).then(G=>{const ne=G.data;if(ne.status=="Ok"){i(""),l(""),h=!0,C();return}l(ne.status)}).catch(G=>{l("Server error. Please try again later")})},b=()=>{let L=n.trim();if(L.length<1){l("Recipient email should not be empty");return}const{folder:P}=e.args,[$,K]=P.safe?[P.safe.id,P.safe.key]:[P.id,P.key];Te.post(`${Re()}safe_acl.php`,{verifier:ge(),vault:$,operation:"email",origin:window.location.origin,name:L}).then(H=>{const j=H.data;if(j.status==="login"){window.location.href="expired.php";return}if(j.status=="Ok"){lg(K).then(q=>{const te=Ss(j.public_key,q);E(L,te)});return}j.status.match(/User .* is not registered/)&&(console.log("Hello"),g.business||c(!0)),l(j.status)}).catch(H=>{l("Server error. Please try again later")})},T=L=>{Te.post(`${Re()}safe_acl.php`,{verifier:ge(),vault:e.args.folder.id,operation:"delete",name:L}).then(P=>{const $=P.data;if($.status=="Ok"){r($.UserList);return}l($.status)}).catch(P=>{l("Server error. Please try again later")})},_=(L,P)=>{if(P=="Remove"){T(L);return}Te.post(`${Re()}safe_acl.php`,{verifier:ge(),vault:e.args.folder.id,operation:"role",name:L,role:P}).then($=>{const K=$.data;if(K.status=="Ok"){D(K.UserList);return}l(K.status)}).catch($=>{l("Server error. Please try again later")})},M=()=>{const{folder:L}=e.args,[P,$]=L.safe?[L.safe.id,L.safe.key]:[L.id,L.key];Te.post(`${Re()}safe_acl.php`,{verifier:ge(),vault:P,operation:"unsubscribe"}).then(K=>{K.data,S(!0)}).catch(K=>{l("Server error. Please try again later")})},D=L=>{let P=!1,$=L.filter(K=>(K.myself&&K.role=="administrator"&&(P=!0),K.name.length>0||K.myself));p(P),$.sort((K,H)=>K.myself&&!H.myself?-1:!K.myself&&H.myself?1:K.name.toUpperCase()<H.name.toUpperCase()?-1:K.name.toUpperCase()>H.name.toUpperCase()?1:0),r($)};let A=e.args.folder.name;const B=!d&&t.length>0?"":N("div",{className:"itemModalField",style:{marginBottom:"16px"},children:[f(cn,{name:"Email"}),f("div",{children:f("input",{onChange:v,readOnly:!1,spellCheck:!1,value:n,type:"text"})})]});let F="Safe users";return N(ae,{show:e.show,onHide:S,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),N("div",{className:"modalTitle",style:{alignItems:"center"},children:[f("div",{children:f("svg",{width:"32",height:"32",style:{marginRight:"14px"},children:f("use",{href:"#f-safe"})})}),f("div",{className:"h2",children:A})]}),N(ae.Body,{className:"edit",children:[d&&N("div",{style:{marginBottom:"12px"},children:["User invited:"," ",N("span",{className:"roleChanger",onClick:L=>{_n.show({id:"invited-user-menu",event:L})},children:[a,f("svg",{width:"24",height:"24",style:{verticalAlign:"top",fill:"#009A50"},children:f("use",{href:"#angle"})})]}),w]}),!d&&t.length>0&&N("div",{style:{marginBottom:"12px",color:"var(--warning-color)",display:"flex",alignItems:"center"},children:[f("svg",{style:{fill:"none",width:"64px",height:"64px",marginRight:"14px"},children:f("use",{href:"#info-circle"})}),f("div",{children:"Only safe owners can share access to the safe or change access rights of other users."})]}),B,s.length>0&&N("div",{style:{marginBottom:12},children:[N("span",{style:{color:"red"},children:[s," "]}),u&&f("div",{children:f("a",{href:"#",style:{color:"var(--link-color)"},onClick:m,children:"Send an invitation message"})})]}),d&&f("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"24px"},children:f(pe,{onClick:b,children:"Share Safe"})}),f("div",{style:{fontSize:"14px",lineHeight:"22px",color:"var(--body-color70)",marginBottom:"20px"},children:F}),t.map(L=>f(V8,{user:L,isAdmin:d,setUserRole:_,hiddenPasswordEnabled:y},L.name))]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:()=>{S()},children:"Close"}),!d&&t.length>0&&f(pe,{onClick:M,children:"Unsubscribe"})]})]})}const A0=2**31-1;function Bb(e,t,r){const n=r-Date.now();e.current=n<=A0?setTimeout(t,n):setTimeout(()=>Bb(e,t,r),A0)}function $8(){const e=gg(),t=x.useRef();return kg(()=>clearTimeout(t.current)),x.useMemo(()=>{const r=()=>clearTimeout(t.current);function n(i,a=0){e()&&(r(),a<=A0?t.current=setTimeout(i,a):Bb(t,i,Date.now()+a))}return{set:n,clear:r,handleRef:t}},[])}const H8={[ui]:"showing",[wd]:"showing show"},Db=x.forwardRef((e,t)=>f(Ng,{...e,ref:t,transitionClasses:H8}));Db.displayName="ToastFade";const j8=Db,z8=x.createContext({onClose(){}}),Lb=z8,Mb=x.forwardRef(({bsPrefix:e,closeLabel:t="Close",closeVariant:r,closeButton:n=!0,className:i,children:a,...o},s)=>{e=tt(e,"toast-header");const l=x.useContext(Lb),u=$t(c=>{l==null||l.onClose==null||l.onClose(c)});return N("div",{ref:s,...o,className:_e(e,i),children:[a,n&&f(vb,{"aria-label":t,variant:r,onClick:u,"data-dismiss":"toast"})]})});Mb.displayName="ToastHeader";const q8=Mb,Ob=x.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=tt(t,"toast-body"),f(r,{ref:i,className:_e(e,t),...n})));Ob.displayName="ToastBody";const G8=Ob,Pb=x.forwardRef(({bsPrefix:e,className:t,transition:r=j8,show:n=!0,animation:i=!0,delay:a=5e3,autohide:o=!1,onClose:s,onEntered:l,onExit:u,onExiting:c,onEnter:d,onEntering:p,onExited:C,bg:h,...v},S)=>{e=tt(e,"toast");const m=x.useRef(a),g=x.useRef(s);x.useEffect(()=>{m.current=a,g.current=s},[a,s]);const y=$8(),w=!!(o&&n),E=x.useCallback(()=>{w&&(g.current==null||g.current())},[w]);x.useEffect(()=>{y.set(E,m.current)},[y,E]);const b=x.useMemo(()=>({onClose:s}),[s]),T=!!(r&&i),_=f("div",{...v,ref:S,className:_e(e,t,h&&`bg-${h}`,!T&&(n?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return f(Lb.Provider,{value:b,children:T&&r?f(r,{in:n,onEnter:d,onEntering:p,onEntered:l,onExit:u,onExiting:c,onExited:C,unmountOnExit:!0,children:_}):_})});Pb.displayName="Toast";const Ed=Object.assign(Pb,{Body:G8,Header:q8});function W8(e){if(!e.show)return null;const t=()=>{e.onClose()};return N(Ed,{onClose:e.onClose,show:e.show,style:{padding:"16px 8px 8px 16px"},children:[N("div",{className:"toast-header",children:[N("div",{children:[P_(e.operation)," item to another safe"]}),f("div",{children:f("svg",{style:{width:24,height:24,cursor:"pointer"},onClick:t,children:f("use",{href:"#f-cross24"})})})]}),f(Ed.Body,{children:f("div",{style:{display:"flex",margin:"16px 0 8px 0"},children:f("div",{children:'Select target safe/folder to copy the item to. Choose "Paste" in its menu within 1 minute.'})})})]})}function nC(e,t,r,n,i,a){return Te.post(`${Re()}move.php`,{verifier:ge(),id:e,src_safe:t,dst_safe:r,dst_folder:n,item:i,operation:a}).then(o=>{const s=o.data;if(s.status==="Ok")return s.status;throw new Error(s.status)})}function Q8(e,t,r){const n=t.safe?t.safe.bstringKey:t.bstringKey,i=hn(e,r),a=mf(i,n);if(i.path.length>1&&i.path[i.path.length-2][1]==t.id)return console.log("move to parent: identity operation"),Promise.reject({message:"move to parent: identity operation"});let o=t.id,s=0;if(t.safe){o=t.safe.id,s=t.id;for(const l of t.path)if(l[1]==r)return new Promise(function(u,c){c({message:"drop into child"})})}return Te.post(`${Re()}move.php`,{verifier:ge(),folder:a,dstSafe:o,dstFolder:s}).then(l=>l.data.status)}function Y8(e,t,r,n){if("type"in r)return Q8(e,t,r.id);const i=t.safe?t.safe.bstringKey:t.bstringKey;let a=t.id,o=0;t.safe&&(a=t.safe.id,o=t.id);let s=r.SafeID;return Te.post(`${Re()}move.php`,{verifier:ge(),id:r._id,src_safe:s,dst_safe:a,operation:n,checkRights:!0}).then(l=>{const u=l.data;if(u.status==="Ok"){if("file"in r){const p=hn(e,r.SafeID);let C=zD(r,p.bstringKey,i);return nC(r._id,s,a,o,C,n)}let c={};r.note?c.note=r.note:r.version===5&&(c.version=r.version);let d=Rn(r.cleartext,i,c);return nC(r._id,s,a,o,d,n)}throw new Error(u.status)})}const X8=()=>{const e=[],t=Bn().safes;for(const r of t)if(r.key)for(const n of r.rawItems)n.version===5&&n.cleartext[0]==="card"&&e.push({safe:r.name,title:n.cleartext[1],card:n.cleartext});return{id:"payment",found:e}};function J8(e,t){const r=t.cleartext[3].split("");for(let n of r)try{n=n.toLowerCase(),n.substring(0,4)!="http"&&(n="https://"+n),n=new URL(n);let i=n.hostname.toLowerCase();if(i.substring(0,4)==="www."&&(i=i.substring(4)),i==e)return!0}catch{}return!1}const Fb=e=>{if(e.id==="payment page")return X8();const t=Bn().safes;if(e.id==="advise request"||e.id==="not a payment page"){let n=new URL(e.url).hostname.toLowerCase();n.substring(0,4)==="www."&&(n=n.substring(4));const i=[];if(n){for(const a of t)if(a.key){const o=a.rawItems;for(const s of o)J8(n,s)&&i.push({safe:a.name,title:s.cleartext[0],username:s.cleartext[1],password:s.cleartext[2]})}}return{id:"advise",hostname:n,found:i}}},Z8=(e,t="All")=>{const r=Bn().safes,n=[],i=e.toLowerCase();for(const a of r)if(a.key)for(const o of a.rawFolders)o.cleartext[0].toLowerCase().indexOf(i)>=0&&n.push(o);return n.sort((a,o)=>a.cleartext[0].toLowerCase().localeCompare(o.cleartext[0].toLowerCase())),n},e6=(e,t="--All--")=>{const r=Bn().safes,n=[],i=e.toLowerCase();for(const a of r)if(a.key)for(const o of a.rawItems){let s=!1;if(t=="Cards"&&!Up(o)){console.log("not a card");continue}if(t=="Files"&&!Fp(o)){console.log("not a file");continue}(t=="Files"||t=="Cards")&&e==""?s=!0:o.cleartext.length==8?(o.cleartext[1].toLowerCase().indexOf(i)>=0||o.cleartext[2].toLowerCase().indexOf(i)>=0||o.cleartext[4].toLowerCase().indexOf(i)>=0)&&(s=!0):(o.cleartext[0].toLowerCase().indexOf(i)>=0||o.cleartext[1].toLowerCase().indexOf(i)>=0||o.cleartext[3].toLowerCase().indexOf(i)>=0||o.cleartext[4].toLowerCase().indexOf(i)>=0)&&(s=!0),s&&n.push(o)}return n.sort((a,o)=>a.cleartext[0].toLowerCase().localeCompare(o.cleartext[0].toLowerCase())),n};function t6({as:e,bsPrefix:t,className:r,...n}){t=tt(t,"col");const i=gx(),a=vx(),o=[],s=[];return i.forEach(l=>{const u=n[l];delete n[l];let c,d,p;typeof u=="object"&&u!=null?{span:c,offset:d,order:p}=u:c=u;const C=l!==a?`-${l}`:"";c&&o.push(c===!0?`${t}${C}`:`${t}${C}-${c}`),p!=null&&s.push(`order${C}-${p}`),d!=null&&s.push(`offset${C}-${d}`)}),[{...n,className:_e(r,...o,...s)},{as:e,bsPrefix:t,spans:o}]}const Ub=x.forwardRef((e,t)=>{const[{className:r,...n},{as:i="div",bsPrefix:a,spans:o}]=t6(e);return f(i,{...n,ref:t,className:_e(r,!o.length&&a)})});Ub.displayName="Col";const mu=Ub,iC="safe-menu-id",aC="folder-menu-id";function r6(e){const t=s=>{e.onMenuCmd(e.node,s)},r=N(ei,{id:aC,children:[f(qe,{onClick:()=>{t("rename")},children:"Rename"}),f(qe,{onClick:()=>{t("Add folder")},children:"Add folder"}),f(qe,{disabled:!nd(),onClick:()=>{t("Paste")},children:"Paste"}),f(qe,{onClick:()=>{t("export")},children:"Export"}),f(qe,{onClick:()=>{t("delete")},children:"Delete"})]}),n=N(ei,{id:iC,children:[f(qe,{onClick:()=>{t("Share")},children:"Share"}),f(qe,{onClick:()=>{t("rename")},children:"Rename"}),f(qe,{onClick:()=>{t("Add folder")},children:"Add folder"}),f(qe,{disabled:!nd(),onClick:()=>{t("Paste")},children:"Paste"}),f(qe,{onClick:()=>{t("export")},children:"Export"}),f(qe,{onClick:()=>{t("delete")},children:"Delete"})]}),i=s=>{s.preventDefault(),_n.show({id:iC,event:s})},a=s=>{s.preventDefault(),_n.show({id:aC,event:s})},o=e.isSafe?n:r;return N(Ht,{children:[f("div",{className:"menu-dots",onClick:e.isSafe?i:a,children:f("svg",{width:"24",height:"24",className:"safe_pane_icon",children:f("use",{href:"#el-dots"})})}),o]})}const n6=f("svg",{className:"safe_pane_icon",style:{width:26,height:26},children:f("use",{href:"#i-folder_shared"})}),i6=f("svg",{className:"safe_pane_icon",style:{width:26,height:26},children:f("use",{href:"#i-folder"})});function Vb(e){const t=()=>e.node.id===e.activeFolder.id?"folder active_folder":"folder";function r(c){c.currentTarget.style.background="none";try{const d=JSON.parse(c.dataTransfer.getData("application/json"));e.dropItem(e.node,d)}catch(d){console.log(d)}}function n(c){c.currentTarget.style.background="linear-gradient(90deg, rgba(255,255,255,0.4),  rgba(255,255,255,0))",c.preventDefault()}function i(c){c.currentTarget.style.background="none",c.currentTarget.style.border="none",c.preventDefault()}const a=(c,d)=>{e.onMenuCmd(e.node,d)},o=f(r6,{node:e.node,onMenuCmd:a,isSafe:e.isSafe}),s=e.node.users>1?n6:i6,l=e.node.id===e.activeFolder.id?o:"",u=e.padding?e.padding:0;if("folders"in e.node&&e.node.folders.length>0){const c=e.open?e.node.folders.map(p=>f(Vb,{dropItem:e.dropItem,onSelect:e.onSelect,node:p,padding:u+20,open:e.open.has(p.id)&&e.open,onOpen:e.onOpen,activeFolder:e.activeFolder,onMenuCmd:e.onMenuCmd},p.id)):"",d=f("svg",{width:"24",height:"24",style:{fill:"white",transform:e.open?!1:"rotate(-90deg)"},onClick:p=>{p.stopPropagation(),e.onOpen(e.node)},children:f("use",{href:"#angle"})});return N("div",{children:[N("div",{className:t(),onDrop:r,onDragOver:n,onDragLeave:i,onClick:()=>e.onSelect(e.node),style:{position:"relative",paddingLeft:u+"px",outline:"none",display:"flex"},children:[N("div",{style:{display:"flex",flexWrap:"nowrap"},children:[d,s]}),f("div",{style:{cursor:"default",flexGrow:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.node.name}),l]}),c]})}return N("div",{className:t(),onDrop:r,onDragOver:n,onDragLeave:i,onClick:()=>e.onSelect(e.node),style:{position:"relative",overflow:"hidden",whiteSpace:"nowrap",paddingLeft:u+24+"px",outline:"none"},children:[f("div",{style:{cursor:"default"},children:s}),f("div",{style:{cursor:"default",flexGrow:1,overflow:"hidden",textOverflow:"ellipsis"},children:e.node.name}),l]})}const Kb={stroke:"white",opacity:"0.7",verticalAlign:"middle",marginRight:"10px"},a6=f("svg",{width:"24",height:"24",style:Kb,children:f("use",{href:"#i-folder_shared"})}),o6=f("svg",{width:"24",height:"24",style:Kb,children:f("use",{href:"#i-folder"})});function s6(e){const t=e.node.users>1?a6:o6,r=f("svg",{width:"24",height:"24",style:{fill:"white",transform:"rotate(-90deg)",float:"right"},children:f("use",{href:"#angle"})});return N("div",{className:"folder",onClick:()=>{e.onSelect(e.node),document.querySelector("#safe_pane").classList.add("d-none"),document.querySelector("#table_pane").classList.remove("d-none")},style:{position:"relative",outline:"none",height:"48px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 18px"},children:[N("span",{style:{cursor:"default"},children:[t,e.node.name]}),r]})}function l6(e){x.useState("");const t=r=>{e.setActiveFolder(r)};return e.show?f(mu,{className:"col-xl-3 col-lg-4 col-md-5 col-sm-6 col d-sm-block safe_pane ",id:"safe_pane",children:N("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[f("div",{className:"folders-header",children:"SAFES"}),f("div",{className:"safe_scroll_control custom-scroll d-sm-none",children:e.safes.map(r=>f(s6,{node:r,onSelect:t},`m${r.id}`))}),f("div",{className:"safe_scroll_control custom-scroll d-none d-sm-block",children:e.safes.map(r=>f(Vb,{node:r,onSelect:t,activeFolder:e.activeFolder,onOpen:e.handleOpenFolder,open:e.openNodes.has(r.id)&&e.openNodes,dropItem:e.dropItem,isSafe:!0,onMenuCmd:e.onFolderMenuCmd,padding:20},r.id))}),f("div",{className:"add_safe",onClick:()=>{e.onFolderMenuCmd(null,"add safe")},children:"Add safe"})]})}):null}function u6(e){const t=()=>{e.onClick(e.item)};function r(l){l.dataTransfer.setData("application/json",JSON.stringify({type:"folder",id:e.item.id,SafeID:e.item.SafeID})),l.effectAllowed="move"}function n(l){l.currentTarget.style.background="none",l.currentTarget.style.border="none";try{const u=JSON.parse(l.dataTransfer.getData("application/json"));e.dropItem(e.item,u)}catch(u){console.log(u)}}function i(l){l.currentTarget.style.background="linear-gradient(90deg, rgba(0,0,0,0.05),  rgba(0,0,0,0))",l.preventDefault()}function a(l){l.currentTarget.style.background="none",l.currentTarget.style.border="none",l.preventDefault()}const o=f("svg",{className:"d-sm-none",width:"32",height:"32",style:{fill:"var(--icon-stroke)",transform:"rotate(-90deg)",float:"right"},children:f("use",{href:"#angle"})}),s=N(Ht,{children:[N("div",{className:"d-none d-sm-block",onDrop:n,onDragOver:i,onDragLeave:a,children:[f("svg",{width:"24",height:"24",className:"itemIcon",style:{cursor:"move"},children:f("use",{href:"#i-folder"})}),e.item.cleartext[0],o]}),N("div",{className:"d-sm-none",onDrop:n,onDragOver:i,onDragLeave:a,style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:8},children:[N("div",{children:[f("svg",{width:"24",height:"24",className:"itemIcon",style:{cursor:"move"},children:f("use",{href:"#i-folder"})}),e.item.cleartext[0]]}),o]}),e.searchMode&&f("div",{className:"search-path",children:e.item.path.map(l=>l[0]).join(" > ")})]});return N("tr",{style:{alignItems:"center"},children:[f("td",{colSpan:"3",className:"d-none d-xl-table-cell item-name-td",onClick:t,draggable:!0,onDragStart:r,children:s}),f("td",{colSpan:"2",className:"d-none d-md-table-cell d-xl-none item-name-td",onClick:t,draggable:!0,onDragStart:r,children:s}),f("td",{className:"d-md-none item-name-td",onClick:t,children:s}),f("td",{className:"d-none d-lg-table-cell column-modified",children:iu(e.item)})]})}const Ae=console.log,c6=navigator.userAgent.match(/iPhone|iPod|iPad/i)||navigator.userAgent.match(/Intel Mac OS X/i)&&navigator.maxTouchPoints>1,d6=navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Samsung/i)&&navigator.userAgent.match(/Linux/i),$b=c6||d6,Bg="bamjbfhfacpdkenilcibkmpdahkgfejh",Hb="mjcejgifimlbgmdckhdlopkjhehombpi",jb="epmmbjnnghpopnhkilkoomaahpinjpkc",zb="mpclodkiedkokmddfcooapahedfealjj",qb="com.wwpass.passhub.Extension (7U4QXAP4SL)",Gb="com.wwpass.PassHub-net.Extension (UNSIGNED)";let At;window.navigator.userAgent.match(/ Chrome\//i)?At=chrome:typeof browser<"u"&&(At=browser);let Wn=Bg,k0=null;function f6(e){k0=e}let Wb=null;function Qb(e){return Ae("sendAdvise"),Ae(e),e.id==="find"&&(e.id="advise request"),e.id==="not a payment page"&&(e.id="advise request"),(e.id==="advise request"||e.id==="payment page")&&k0&&k0(),At.runtime.sendMessage(Wn,Wb(e)).then(t=>{t?(Ae("sendAdvise got response"),Ae(t)):At.runtime.lastError?Ae(At.runtime.lastError):Ae("no response")}).catch(t=>{console.log("catch 48")})}function h6(){typeof At<"u"&&At.runtime&&At.runtime.sendMessage&&At.runtime.sendMessage(Wn,{id:"clear to send"}).then(e=>(Ae("cts response"),Ae(e),Qb(e))).catch(e=>{Ae("sendCTS catch"),Ae(e)})}function p6(e){let t=e.url;t.search("://")==-1&&(t=`https://${t}`),e.url=t,!$b&&typeof At<"u"&&At.runtime&&At.runtime.sendMessage?At.runtime.sendMessage(Wn,e).then(r=>{r?Ae(r):(At.runtime.lastError?Ae(At.runtime.lastError):Ae("no response"),window.open(t,"_blank"))}).catch(r=>{Ae(r),window.open(t,"_blank")}):window.open(t,"_blank")}function I0(e,t){t.length>0&&p6({id:"loginRequest",username:e.cleartext[1],password:e.cleartext[2],url:t})}function oC(){window.addEventListener("message",e=>{if("data"in e&&typeof e.data.source=="string"&&e.data.source.startsWith("react-devtools-")){Ae(`--got ${e.data.source}--`);return}if(Ae("got message"),Ae(e),e.origin!==window.location.origin){wrongOrigin<5&&(serverLog(`extension message orign ${e.origin}`),wrongOrigin++),Ae(`extension message origin ${e.origin}`);return}Ae("window"),Ae(window),e.source===window?(Ae("proper source"),h6()):Ae("wrong source")})}let si=null,Mi=null;function bd(){const e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+" "}function m6(){if(si&&Mi)try{si.postMessage({id:"keepAlive"}),Ae(bd()+" keepAlive Sent");return}catch{Ae(bd()+" catch 51"),Mi&&(clearInterval(Mi),Mi=null)}Mi&&(clearInterval(Mi),Mi=null)}function N0(e){if(console.log("legacyConnect called"),!(typeof At>"u"))try{si&&(si.disconnect(),si=null),si=At.runtime.connect(Wn),Ae(bd()+" connected"),Mi=setInterval(m6,25e3),setTimeout(Dg,4*60*1e3,e),si.onDisconnect.addListener(t=>{si=null,Ae(bd()+" disConnected"),At.runtime.lastError?(Ae("Connection rintime.error"),Ae(At.runtime.lastError)):setTimeout(N0,100,e)}),si.onMessage.addListener(function(t,r){Ae("received"),Ae(t),Qb(t).catch(n=>{Ae("extensionport listener catch"),Ae(n)})})}catch(t){Ae(t)}}function Dg(e){Wb=e}function sC(){switch(Wn){case Hb:Ae("devChromeExtensionId");break;case Bg:Ae("chromeExtensionId");break;case zb:Ae("devEdgeExtensionId");break;case jb:Ae("edgeExtensionId");break;case Gb:Ae("devSafariExtensionId");break;case qb:Ae("safariExtensionId");break;default:Ae("illegal extensionId",Wn);break}}function lC(e,t,r,n=300,i=5){return new Promise(function(a,o){const s=(l=0)=>{At.runtime.sendMessage(e,t,r).then(u=>{if(u)return a(u);if(l+=1,l==i)return o();setTimeout(s,n,l)}).catch(u=>o(u))};s()})}if(!$b&&typeof At<"u"&&At.runtime&&At.runtime.sendMessage){let e=[];window.navigator.userAgent.match(/ Chrome\//i)?window.location.href.includes("extension")?(e.push(Hb),window.navigator.userAgent.match(/ Edg\//i)&&e.push(zb)):(e.push(Bg),window.navigator.userAgent.match(/ Edg\//i)&&e.push(jb)):window.location.href.includes("extension")?e.push(Gb):e.push(qb),Wn=e.pop(),lC(Wn,{id:"remember me"}).then(t=>{t?(Ae(t),sC(),t.id=="Ok"?oC():N0()):Ae("255 should not happen")}).catch(t=>{if(Ae("257 no response"),!e.length){Ae("catch extensionInterface 261"),Ae(t);return}Wn=e.pop(),lC(Wn,{id:"remember me"}).then(r=>{r?(Ae(r),sC(),r.id=="Ok"?oC():N0()):Ae("285 should not happen")},()=>{Ae("399 no response")}).catch(r=>{Ae("catch extensionInterface 282"),Ae(r)})})}else Ae("no passhub.net extension installed");function g6(e){const t=()=>{e.showModal(e.item)},r=e.item,n=r.cleartext[3].split("")[0];let i=n;i.startsWith("https://")?i=i.substring(8):i.startsWith("http://")&&(i=i.substring(7));function a(s){console.log(s),s.dataTransfer.setData("application/json",JSON.stringify(e.item)),s.effectAllowed="copyMove"}let o=e.searchMode?"search-mode":"";return N("tr",{className:o,style:{alignItems:"center"},children:[N("td",{className:"item-name-td",onClick:t,style:{cursor:"pointer"},children:[N("div",{draggable:!0,id:`drag${r._id}`,onDragStart:a,style:{overflow:"hidden",textOverflow:"ellipsis"},children:[f("svg",{width:"24",height:"24",className:"itemIcon",style:{cursor:"move"},children:f("use",{href:"#i-key"})}),r.cleartext[0]]}),e.searchMode&&f("div",{className:"search-path",children:r.path.map(s=>s[0]).join(" > ")})]}),f("td",{className:"d-none d-xl-table-cell",children:r.cleartext[1]}),f("td",{className:"d-none d-md-table-cell login-item-link ",onClick:()=>{I0(e.item,n)},style:{cursor:i.length?"pointer":""},children:i}),f("td",{className:"d-none d-lg-table-cell column-modified",children:iu(r)})]})}function v6(e){const t=e.item,r=()=>{e.showModal(t)};function n(a){a.dataTransfer.setData("application/json",JSON.stringify(t)),a.effectAllowed="copyMove"}const i=N(Ht,{children:[N("div",{draggable:!0,id:`drag${t._id}`,onDragStart:n,style:{overflow:"hidden",textOverflow:"ellipsis"},children:[f("svg",{width:"24",height:"24",className:"itemIcon",style:{cursor:"move"},children:f("use",{href:"#i-note"})}),t.cleartext[0]]}),e.searchMode&&f("div",{className:"search-path",children:t.path.map(a=>a[0]).join(" > ")})]});return N("tr",{style:{alignItems:"center"},children:[f("td",{colSpan:"3",className:"d-none d-xl-table-cell item-name-td",onClick:r,style:{cursor:"pointer"},children:i}),f("td",{colSpan:"2",className:"d-none d-md-table-cell d-xl-none item-name-td",onClick:r,style:{cursor:"pointer"},children:i}),f("td",{className:"d-md-none item-name-td",onClick:r,children:i}),f("td",{className:"d-none d-lg-table-cell column-modified",children:iu(t)})]})}function y6(e){const t=e.item,r=()=>{e.showModal(e.item)};function n(o){o.dataTransfer.setData("application/json",JSON.stringify(t)),o.effectAllowed="copyMove"}const i=e.searchMode?"search-mode":"",a=N(Ht,{children:[N("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:[f("svg",{width:"24",height:"24",className:"itemIcon",style:{stroke:"none",cursor:"move",fill:"var(--icon-stroke)"},children:f("use",{href:"#credit_card"})}),t.cleartext[1]]}),e.searchMode&&f("div",{className:"search-path",children:t.path.map(o=>o[0]).join(" > ")})]});return N("tr",{className:i,style:{alignItems:"center"},children:[f("td",{draggable:!0,id:`drag${t._id}`,onDragStart:n,colSpan:"3",className:"d-none d-xl-table-cell item-name-td",onClick:r,style:{cursor:"pointer"},children:a}),f("td",{draggable:!0,id:`drag${t._id}`,onDragStart:n,colSpan:"2",className:"d-none d-md-table-cell d-xl-none item-name-td",onClick:r,style:{cursor:"pointer"},children:a}),f("td",{draggable:!0,id:`drag${t._id}`,onDragStart:n,className:"d-md-none item-name-td",onClick:r,style:{cursor:"pointer"},children:a}),f("td",{className:"d-none d-lg-table-cell column-modified",children:iu(t)})]})}function C6(e){const t=()=>{e.showModal(e.item)},r=e.item;function n(a){a.dataTransfer.setData("application/json",JSON.stringify(r)),a.effectAllowed="copyMove"}const i=N(Ht,{children:[N("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:[f("svg",{width:"24",height:"24",className:"itemIcon",style:{cursor:"move"},children:f("use",{href:"#i-file"})}),r.cleartext[0]]}),e.searchMode&&f("div",{className:"search-path",children:r.path.map(a=>a[0]).join(" > ")})]});return N("tr",{style:{alignItems:"center"},children:[f("td",{id:`drag${r._id}`,draggable:!0,onDragStart:n,colSpan:"2",className:"d-none d-xl-table-cell item-name-td",onClick:t,style:{cursor:"pointer"},children:i}),f("td",{id:`drag${r._id}`,draggable:!0,onDragStart:n,className:"d-xl-none item-name-td",onClick:t,style:{cursor:"pointer"},children:i}),f("td",{className:"d-none d-md-table-cell  rightAlign",children:Pl(r.file.size)}),f("td",{className:"d-none d-lg-table-cell  column-modified",children:iu(r)})]})}var Yb={exports:{}};/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(e){(function(){var t=typeof window=="object"?window:{},r=!t.HI_BASE32_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;r&&(t=ci);var n=!t.HI_BASE32_NO_COMMON_JS&&!0&&e.exports,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),a={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},o=[0,0,0,0,0,0,0,0],s=function(S,m){m.length>10&&(m="..."+m.substr(-10));var g=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+S+" bytes: "+m+" <-");throw g.position=S,g},l=function(S){for(var m="",g=S.length,y=0,w=0,E,b;y<g;){if(E=S[y++],E<=127){m+=String.fromCharCode(E);continue}else E>191&&E<=223?(b=E&31,w=1):E<=239?(b=E&15,w=2):E<=247?(b=E&7,w=3):s(y,m);for(var T=0;T<w;++T)E=S[y++],(E<128||E>191)&&s(y,m),b<<=6,b+=E&63;b>=55296&&b<=57343&&s(y,m),b>1114111&&s(y,m),b<=65535?m+=String.fromCharCode(b):(b-=65536,m+=String.fromCharCode((b>>10)+55296),m+=String.fromCharCode((b&1023)+56320))}return m},u=function(S){if(S==="")return[];if(!/^[A-Z2-7=]+$/.test(S))throw new Error("Invalid base32 characters");S=S.replace(/=/g,"");for(var m,g,y,w,E,b,T,_,M=[],D=0,A=S.length,B=0,F=A>>3<<3;B<F;)m=a[S.charAt(B++)],g=a[S.charAt(B++)],y=a[S.charAt(B++)],w=a[S.charAt(B++)],E=a[S.charAt(B++)],b=a[S.charAt(B++)],T=a[S.charAt(B++)],_=a[S.charAt(B++)],M[D++]=(m<<3|g>>>2)&255,M[D++]=(g<<6|y<<1|w>>>4)&255,M[D++]=(w<<4|E>>>1)&255,M[D++]=(E<<7|b<<2|T>>>3)&255,M[D++]=(T<<5|_)&255;var L=A-F;return L===2?(m=a[S.charAt(B++)],g=a[S.charAt(B++)],M[D++]=(m<<3|g>>>2)&255):L===4?(m=a[S.charAt(B++)],g=a[S.charAt(B++)],y=a[S.charAt(B++)],w=a[S.charAt(B++)],M[D++]=(m<<3|g>>>2)&255,M[D++]=(g<<6|y<<1|w>>>4)&255):L===5?(m=a[S.charAt(B++)],g=a[S.charAt(B++)],y=a[S.charAt(B++)],w=a[S.charAt(B++)],E=a[S.charAt(B++)],M[D++]=(m<<3|g>>>2)&255,M[D++]=(g<<6|y<<1|w>>>4)&255,M[D++]=(w<<4|E>>>1)&255):L===7&&(m=a[S.charAt(B++)],g=a[S.charAt(B++)],y=a[S.charAt(B++)],w=a[S.charAt(B++)],E=a[S.charAt(B++)],b=a[S.charAt(B++)],T=a[S.charAt(B++)],M[D++]=(m<<3|g>>>2)&255,M[D++]=(g<<6|y<<1|w>>>4)&255,M[D++]=(w<<4|E>>>1)&255,M[D++]=(E<<7|b<<2|T>>>3)&255),M},c=function(S){for(var m,g,y,w,E,b="",T=S.length,_=0,M=parseInt(T/5)*5;_<M;)m=S.charCodeAt(_++),g=S.charCodeAt(_++),y=S.charCodeAt(_++),w=S.charCodeAt(_++),E=S.charCodeAt(_++),b+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[(g<<4|y>>>4)&31]+i[(y<<1|w>>>7)&31]+i[w>>>2&31]+i[(w<<3|E>>>5)&31]+i[E&31];var D=T-M;return D===1?(m=S.charCodeAt(_),b+=i[m>>>3]+i[m<<2&31]+"======"):D===2?(m=S.charCodeAt(_++),g=S.charCodeAt(_),b+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[g<<4&31]+"===="):D===3?(m=S.charCodeAt(_++),g=S.charCodeAt(_++),y=S.charCodeAt(_),b+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[(g<<4|y>>>4)&31]+i[y<<1&31]+"==="):D===4&&(m=S.charCodeAt(_++),g=S.charCodeAt(_++),y=S.charCodeAt(_++),w=S.charCodeAt(_),b+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[(g<<4|y>>>4)&31]+i[(y<<1|w>>>7)&31]+i[w>>>2&31]+i[w<<3&31]+"="),b},d=function(S){var m,g,y,w,E,b,T=!1,_="",M=0,D,A=0,B=S.length;if(S==="")return _;do{for(o[0]=o[5],o[1]=o[6],o[2]=o[7],D=A;M<B&&D<5;++M)b=S.charCodeAt(M),b<128?o[D++]=b:b<2048?(o[D++]=192|b>>6,o[D++]=128|b&63):b<55296||b>=57344?(o[D++]=224|b>>12,o[D++]=128|b>>6&63,o[D++]=128|b&63):(b=65536+((b&1023)<<10|S.charCodeAt(++M)&1023),o[D++]=240|b>>18,o[D++]=128|b>>12&63,o[D++]=128|b>>6&63,o[D++]=128|b&63);A=D-5,M===B&&++M,M>B&&D<6&&(T=!0),m=o[0],D>4?(g=o[1],y=o[2],w=o[3],E=o[4],_+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[(g<<4|y>>>4)&31]+i[(y<<1|w>>>7)&31]+i[w>>>2&31]+i[(w<<3|E>>>5)&31]+i[E&31]):D===1?_+=i[m>>>3]+i[m<<2&31]+"======":D===2?(g=o[1],_+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[g<<4&31]+"===="):D===3?(g=o[1],y=o[2],_+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[(g<<4|y>>>4)&31]+i[y<<1&31]+"==="):(g=o[1],y=o[2],w=o[3],_+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[(g<<4|y>>>4)&31]+i[(y<<1|w>>>7)&31]+i[w>>>2&31]+i[w<<3&31]+"=")}while(!T);return _},p=function(S){for(var m,g,y,w,E,b="",T=S.length,_=0,M=parseInt(T/5)*5;_<M;)m=S[_++],g=S[_++],y=S[_++],w=S[_++],E=S[_++],b+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[(g<<4|y>>>4)&31]+i[(y<<1|w>>>7)&31]+i[w>>>2&31]+i[(w<<3|E>>>5)&31]+i[E&31];var D=T-M;return D===1?(m=S[_],b+=i[m>>>3]+i[m<<2&31]+"======"):D===2?(m=S[_++],g=S[_],b+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[g<<4&31]+"===="):D===3?(m=S[_++],g=S[_++],y=S[_],b+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[(g<<4|y>>>4)&31]+i[y<<1&31]+"==="):D===4&&(m=S[_++],g=S[_++],y=S[_++],w=S[_],b+=i[m>>>3]+i[(m<<2|g>>>6)&31]+i[g>>>1&31]+i[(g<<4|y>>>4)&31]+i[(y<<1|w>>>7)&31]+i[w>>>2&31]+i[w<<3&31]+"="),b},C=function(S,m){var g=typeof S!="string";return g&&S.constructor===ArrayBuffer&&(S=new Uint8Array(S)),g?p(S):m?c(S):d(S)},h=function(S,m){if(!m)return l(u(S));if(S==="")return"";if(!/^[A-Z2-7=]+$/.test(S))throw new Error("Invalid base32 characters");var g,y,w,E,b,T,_,M,D="",A=S.indexOf("=");A===-1&&(A=S.length);for(var B=0,F=A>>3<<3;B<F;)g=a[S.charAt(B++)],y=a[S.charAt(B++)],w=a[S.charAt(B++)],E=a[S.charAt(B++)],b=a[S.charAt(B++)],T=a[S.charAt(B++)],_=a[S.charAt(B++)],M=a[S.charAt(B++)],D+=String.fromCharCode((g<<3|y>>>2)&255)+String.fromCharCode((y<<6|w<<1|E>>>4)&255)+String.fromCharCode((E<<4|b>>>1)&255)+String.fromCharCode((b<<7|T<<2|_>>>3)&255)+String.fromCharCode((_<<5|M)&255);var L=A-F;return L===2?(g=a[S.charAt(B++)],y=a[S.charAt(B++)],D+=String.fromCharCode((g<<3|y>>>2)&255)):L===4?(g=a[S.charAt(B++)],y=a[S.charAt(B++)],w=a[S.charAt(B++)],E=a[S.charAt(B++)],D+=String.fromCharCode((g<<3|y>>>2)&255)+String.fromCharCode((y<<6|w<<1|E>>>4)&255)):L===5?(g=a[S.charAt(B++)],y=a[S.charAt(B++)],w=a[S.charAt(B++)],E=a[S.charAt(B++)],b=a[S.charAt(B++)],D+=String.fromCharCode((g<<3|y>>>2)&255)+String.fromCharCode((y<<6|w<<1|E>>>4)&255)+String.fromCharCode((E<<4|b>>>1)&255)):L===7&&(g=a[S.charAt(B++)],y=a[S.charAt(B++)],w=a[S.charAt(B++)],E=a[S.charAt(B++)],b=a[S.charAt(B++)],T=a[S.charAt(B++)],_=a[S.charAt(B++)],D+=String.fromCharCode((g<<3|y>>>2)&255)+String.fromCharCode((y<<6|w<<1|E>>>4)&255)+String.fromCharCode((E<<4|b>>>1)&255)+String.fromCharCode((b<<7|T<<2|_>>>3)&255)),D},v={encode:C,decode:h};h.asBytes=u,n?e.exports=v:t.base32=v})()})(Yb);var S6=Yb.exports;function w6(e){const t=new ArrayBuffer(8),r=new DataView(t),i=("0".repeat(64)+e.toString(2)).slice(-64);for(let a=0;a<64;a+=8){const o=parseInt(i.slice(a,a+8),2);r.setUint8(a/8,o)}return t}function x6(e){const t=e[19]&15;return((e[t]&127)<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]).toString(2)}function E6(e){const t=x6(e);return parseInt(t,2)}async function b6(e,t){const r=w6(t),n=await window.crypto.subtle.sign({name:"HMAC",hash:{name:"SHA-1"}},e,r),i=new Uint8Array(n);return("000000"+E6(i)%10**6).slice(-6)}function T6(){const t=Date.now();return Math.floor(t/3e4)}async function A6(e){const t=T6();return await b6(e,t)}function k6(e){const t=document.createElement("textArea");return t.value=e,document.body.appendChild(t),t}function I6(e){if(window.navigator.userAgent.match(/iPhone|iPod|iPad/i)){const t=document.createRange();t.selectNodeContents(e);const r=window.getSelection();r.removeAllRanges(),r.addRange(t),e.setSelectionRange(0,999999)}else e.select()}function Ji(e){const t=k6(e);I6(t),document.execCommand("copy"),document.body.removeChild(t)}function wc(){setTimeout(()=>{document.querySelectorAll(".copied").forEach(e=>e.style.display="none")},1e3)}const N6={type:at.string,tooltip:at.bool,as:at.elementType},Lg=x.forwardRef(({as:e="div",className:t,type:r="valid",tooltip:n=!1,...i},a)=>f(e,{...i,ref:a,className:_e(t,`${r}-${n?"tooltip":"feedback"}`)}));Lg.displayName="Feedback";Lg.propTypes=N6;const Xb=Lg,R6=x.createContext({}),bi=R6,Jb=x.forwardRef(({id:e,bsPrefix:t,className:r,type:n="checkbox",isValid:i=!1,isInvalid:a=!1,as:o="input",...s},l)=>{const{controlId:u}=x.useContext(bi);return t=tt(t,"form-check-input"),f(o,{...s,ref:l,type:n,id:e||u,className:_e(r,t,i&&"is-valid",a&&"is-invalid")})});Jb.displayName="FormCheckInput";const Zb=Jb,eT=x.forwardRef(({bsPrefix:e,className:t,htmlFor:r,...n},i)=>{const{controlId:a}=x.useContext(bi);return e=tt(e,"form-check-label"),f("label",{...n,ref:i,htmlFor:r||a,className:_e(t,e)})});eT.displayName="FormCheckLabel";const R0=eT;function _6(e,t){return x.Children.toArray(e).some(r=>x.isValidElement(r)&&r.type===t)}const tT=x.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:r,inline:n=!1,reverse:i=!1,disabled:a=!1,isValid:o=!1,isInvalid:s=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:d,style:p,title:C="",type:h="checkbox",label:v,children:S,as:m="input",...g},y)=>{t=tt(t,"form-check"),r=tt(r,"form-switch");const{controlId:w}=x.useContext(bi),E=x.useMemo(()=>({controlId:e||w}),[w,e]),b=!S&&v!=null&&v!==!1||_6(S,R0),T=f(Zb,{...g,type:h==="switch"?"checkbox":h,ref:y,isValid:o,isInvalid:s,disabled:a,as:m});return f(bi.Provider,{value:E,children:f("div",{style:p,className:_e(d,b&&t,n&&`${t}-inline`,i&&`${t}-reverse`,h==="switch"&&r),children:S||N(Ht,{children:[T,b&&f(R0,{title:C,children:v}),u&&f(Xb,{type:c,tooltip:l,children:u})]})})})});tT.displayName="FormCheck";const Td=Object.assign(tT,{Input:Zb,Label:R0}),rT=x.forwardRef(({bsPrefix:e,type:t,size:r,htmlSize:n,id:i,className:a,isValid:o=!1,isInvalid:s=!1,plaintext:l,readOnly:u,as:c="input",...d},p)=>{const{controlId:C}=x.useContext(bi);return e=tt(e,"form-control"),f(c,{...d,type:t,size:n,ref:p,readOnly:u,id:i||C,className:_e(a,l?`${e}-plaintext`:e,r&&`${e}-${r}`,t==="color"&&`${e}-color`,o&&"is-valid",s&&"is-invalid")})});rT.displayName="FormControl";const B6=Object.assign(rT,{Feedback:Xb}),nT=x.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=tt(t,"form-floating"),f(r,{ref:i,className:_e(e,t),...n})));nT.displayName="FormFloating";const D6=nT,iT=x.forwardRef(({controlId:e,as:t="div",...r},n)=>{const i=x.useMemo(()=>({controlId:e}),[e]);return f(bi.Provider,{value:i,children:f(t,{...r,ref:n})})});iT.displayName="FormGroup";const aT=iT,oT=x.forwardRef(({as:e="label",bsPrefix:t,column:r=!1,visuallyHidden:n=!1,className:i,htmlFor:a,...o},s)=>{const{controlId:l}=x.useContext(bi);t=tt(t,"form-label");let u="col-form-label";typeof r=="string"&&(u=`${u} ${u}-${r}`);const c=_e(i,t,n&&"visually-hidden",r&&u);return a=a||l,r?f(mu,{ref:s,as:"label",className:c,htmlFor:a,...o}):f(e,{ref:s,className:c,htmlFor:a,...o})});oT.displayName="FormLabel";const L6=oT,sT=x.forwardRef(({bsPrefix:e,className:t,id:r,...n},i)=>{const{controlId:a}=x.useContext(bi);return e=tt(e,"form-range"),f("input",{...n,type:"range",ref:i,className:_e(t,e),id:r||a})});sT.displayName="FormRange";const M6=sT,lT=x.forwardRef(({bsPrefix:e,size:t,htmlSize:r,className:n,isValid:i=!1,isInvalid:a=!1,id:o,...s},l)=>{const{controlId:u}=x.useContext(bi);return e=tt(e,"form-select"),f("select",{...s,size:r,ref:l,className:_e(n,e,t&&`${e}-${t}`,i&&"is-valid",a&&"is-invalid"),id:o||u})});lT.displayName="FormSelect";const O6=lT,uT=x.forwardRef(({bsPrefix:e,className:t,as:r="small",muted:n,...i},a)=>(e=tt(e,"form-text"),f(r,{...i,ref:a,className:_e(t,e,n&&"text-muted")})));uT.displayName="FormText";const P6=uT,cT=x.forwardRef((e,t)=>f(Td,{...e,ref:t,type:"switch"}));cT.displayName="Switch";const F6=Object.assign(cT,{Input:Td.Input,Label:Td.Label}),dT=x.forwardRef(({bsPrefix:e,className:t,children:r,controlId:n,label:i,...a},o)=>(e=tt(e,"form-floating"),N(aT,{ref:o,className:_e(t,e),controlId:n,...a,children:[r,f("label",{htmlFor:n,children:i})]})));dT.displayName="FloatingLabel";const U6=dT,V6={_ref:at.any,validated:at.bool,as:at.elementType},Mg=x.forwardRef(({className:e,validated:t,as:r="form",...n},i)=>f(r,{...n,ref:i,className:_e(e,t&&"was-validated")}));Mg.displayName="Form";Mg.propTypes=V6;const xc=Object.assign(Mg,{Group:aT,Control:B6,Floating:D6,Check:Td,Switch:F6,Label:L6,Text:P6,Range:M6,Select:O6,FloatingLabel:U6});function Ah(e){return f("span",{className:"itemViewIcon",title:e.title,onClick:e.onClick,children:f("svg",{width:"24",height:"24",fill:"none",style:{verticalAlign:"unset"},children:f("use",{href:e.iconId})})})}function fT(e){return N(Ze.Fragment,{children:[f("div",{className:"path-element",onClick:t=>{e.onClick(e.folderid)},children:e.name}),e.gt?" > ":""]})}function Ef(e){if(!e.show)return null;let t="",r="";e.args.item&&(e.args.item.version==5?(r=e.args.item.cleartext[1],t=e.args.item.cleartext[2]):(r=e.args.item.cleartext[0],t=e.args.item.cleartext[4]));const[n,i]=x.useState(!e.args.item),[a,o]=x.useState(r),[s,l]=x.useState(t),[u,c]=x.useState(""),d=Ze.createRef();Ze.createRef();const p=mt(),C=Mt({mutationFn:B=>{Promise.resolve(B).then(F=>(console.log("copyMoveToast mutate",F),F))},onSuccess:(B,F,L)=>{console.log("setQueryData after copyMoveToast mutate",B,F),p.setQueryData(["copyMoveToast"],F)}}),h=()=>{C.mutate({item:e.args.item,operation:"move",timestamp:Date.now()}),e.onClose()},v=()=>{C.mutate({item:e.args.item,operation:"copy",timestamp:Date.now()}),e.onClose()},S=B=>{let F="";const L=Na.MAX_TITLE_LENGTH;let P=B.target.value;P.length>L&&(P=P.substring(0,L),F=`Title max length is ${L} chars, truncated`),o(P),c(F)},m=B=>{let F="";const L=Na.MAX_NOTE_LENGTH;let P=B.target.value;P.length>L&&(P=P.substring(0,L),F=`Notes max length is ${L} chars, truncated`),l(P),c(F)},g=()=>{n&&d.current.focus()},y=()=>{e.onClose()},w=()=>{const B=a.trim();if(B==""){c("Please set a title");return}e.onSubmit(B,s)},E=()=>{e.limitedView||(i(!0),e.onEdit&&e.onEdit())};let b=[],T="",_="";e.args.item?(b=e.args.item.path,e.args.item.lastModified&&(_=new Date(e.args.item.lastModified),_=_.toLocaleString())):e.args.folder&&(b=e.args.folder.path),T=b[b.length-1][0];let M=[];for(let B=0;B<b.length;B++)M.push(f(fT,{name:b[B][0],folderid:b[B][1],gt:b.length-B-1,onClick:F=>e.onCloseSetFolder(F)},`path${B}`));let D=n?"edit":"view";e.isNote;let A=!!e.limitedView;return N(ae,{show:e.show,onShow:g,onHide:y,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),N("div",{className:"d-sm-none",style:{cursor:"pointer",margin:"18px 0",color:"var(--link-color);"},onClick:()=>{e.onClose()},children:[f("svg",{width:"24",height:"24",style:{fill:"#009a50",transform:"rotate(90deg)"},children:f("use",{href:"#angle"})}),T]}),N("div",{className:"itemModalNav",children:[f("div",{className:"itemModalPath d-none d-sm-block set-active-folder",children:M}),!n&&!A?N("div",{className:"itemModalTools",children:[f(Ah,{iconId:"#f-move",title:"Move",onClick:h}),e.args.item&&!("file"in e.args.item)&&f(Ah,{iconId:"#f-copy",title:"Copy",onClick:v}),f(Ah,{iconId:"#f-trash",title:"Delete",onClick:e.args.openDeleteItemModal}),N("div",{className:"itemModalEditButton",onClick:E,children:[f("svg",{width:"24",height:"24",fill:"none",stroke:"#00BC62",style:{verticalAlign:"unset",marginRight:"10px"},children:f("use",{href:"#f-edit"})}),f("span",{style:{verticalAlign:"top"},children:"Edit"})]})]}):f(Ht,{children:!A&&f("div",{className:"itemModalTools edit",children:f("div",{className:"itemModalEditButton",onClick:w,children:f("span",{style:{verticalAlign:"top"},children:"Save"})})})})]}),n?f(xc.Control,{className:"ModalTitle h2",ref:d,type:"text",onChange:S,value:a,spellCheck:"false",placeholder:"Enter title"}):N(Ze.Fragment,{children:[f("div",{className:"itemModalTitle",children:f("div",{className:"h2",children:a})}),f("div",{style:{width:"100%",height:"1px",background:"#E7E7EE"}}),f("div",{style:{color:"var(--body-color)",opacity:.7,fontStyle:"italic",textAlign:"end"},children:_})]}),N(ae.Body,{className:D,children:[u&&f("div",{style:{color:"red",marginBottom:16},children:u}),e.children,N("div",{className:"itemNoteModalField",children:[f(cn,{name:"Note",htmlFor:"notes"}),f("div",{children:n?f(ql,{id:"notes",value:s,onChange:m,placeholder:"Type notes here"}):f("div",{className:"note-view",children:s})})]})]}),e.errorMsg&&e.errorMsg.length>0&&f("div",{style:{color:"red"},children:e.errorMsg}),n&&N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:y,children:"Cancel"}),f(pe,{variant:"primary",type:"button",onClick:w,children:"Save"})]})]})}function hT(e){return f("div",{onClick:e.onClick,style:{marginLeft:"15px",paddingLeft:"12px",cursor:"pointer"},children:f("svg",{fill:"none",style:{width:24,height:24},onClick:e.onClick,children:e.hide?f("use",{href:"#eye"}):f("use",{href:"#eye-off"})})})}function Wu(e){let t=e.checked?"#f-checkbox-on":"#f-checkbox-off-hover";return N("div",{onClick:e.onClick,style:{minWidth:"8em",cursor:"pointer",height:"48px",display:"flex",alignItems:"center"},children:[f("svg",{width:"24",height:"24",fill:"none",children:f("use",{href:t})}),e.children]})}var _0,pT,mT,Ad,gT;mT=/[aeiou]$/i;_0=/[bcdfghjklmnpqrstvwxyz]$/i;pT=function(e,t,r,n){var i="",a,o,s=[];if((e===null||typeof e>"u")&&(e=10),(t===null||typeof t>"u")&&(t=!0),(r===null||typeof r>"u")&&(r=/\w/),(n===null||typeof n>"u")&&(n=""),!t){for(o=33;o<=126;o+=1)i=String.fromCharCode(o),i.match(r)&&s.push(i);if(!s.length)throw new Error("Could not find characters that match the password pattern "+r+". Patterns must match individual characters, not the password as a whole.")}for(;n.length<e;)t?(n.match(_0)?r=mT:r=_0,a=Ad(33,126),i=String.fromCharCode(a)):i=s[Ad(0,s.length)],t&&(i=i.toLowerCase()),i.match(r)&&(n=""+n+i);return n};Ad=function(e,t){var r,n,i=new Uint8Array(t);gT(i);for(r in i)if(i.hasOwnProperty(r)&&(n=i[r],n>=e&&n<t))return n;return Ad(e,t)};gT=function(e){if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(e);else if(typeof window.msCrypto=="object"&&typeof window.msCrypto.getRandomValues=="function")window.msCrypto.getRandomValues(e);else throw new Error("No secure random number generator available.")};const uC=pT;function K6(e){if(!e.show)return null;const[t,r]=x.useState(12),[n,i]=x.useState(!0),[a,o]=x.useState(!0),[s,l]=x.useState(!0),[u,c]=x.useState(!1),[d,p]=x.useState(0);let C="";const h=()=>{document.querySelector(".z-index-2040 + .modal").style["z-index"]=2050},v=()=>{e.onClose("dummy",C)},S=y=>{const E={...{passwordLength:t,uppercase:n,lowercase:a,digits:s,specialChars:u},...y};Te.post(`${Re()}account.php`,{operation:"generator",verifier:ge(),value:E})},m=y=>{r(y),S({passwordLength:y})};return C=(()=>{let y=t;y<4&&(y=4);const w=!1;let E="";s&&(n||a?E+="2-9":E+="0-9"),u&&(E+="!#$%&()*+:?@^{}"),a&&(E+="a-kmp-z"),n&&(E+="A-HJ-MPZ"),E==""&&(E="A-HJ-MPZa-kmp-z"),E="["+E+"]";let b=uC(y,w,E);for(let T=0;T<100;T++){let _=!1;if(s?b.match(/[0-9]/)||(_=!0):n?b.match(/[A-HJ-MPZ]/)||(_=!0):a&&(b.match(/[a-kmp-z]/)||(_=!0)),!_)break;b=uC(y,w,E)}return b})(),N(ae,{show:e.show,onShow:h,onHide:e.onClose,animation:!1,backdropClassName:"z-index-2040",contentClassName:"z-index-2050",centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"Password generator"})}),N(ae.Body,{className:"edit mb32",children:[N("div",{style:{marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[f("input",{style:{border:"none",borderBottom:"1px solid var(--edit-item-modal-field-border)",flexGrow:1,marginRight:"1em",outline:"none",color:"var(--body-color)",background:"var(--modal-background)"},value:C,readOnly:!0,spellCheck:!1}),f("svg",{width:"64",height:"40",fill:"none",cursor:"pointer",onClick:()=>p(d+1),children:f("use",{href:"#f-arrow-clockwise"})})]}),N("div",{style:{display:"flex",alignItems:"center",marginBottom:"24px"},children:[f("div",{style:{marginRight:"1em"},children:"Length:"}),f(bb,{value:t,step:1,min:6,max:32,onChange:m,trackStyle:{background:"#00BC62"},handleStyle:{borderColor:"#00BC62"}}),f("div",{style:{marginLeft:"1em"},children:t})]}),N("div",{style:{display:"flex",flexWrap:"wrap"},children:[f(Wu,{checked:n,onClick:()=>{S({uppercase:!n}),i(!n)},children:"Uppercase"}),f(Wu,{checked:s,onClick:()=>{S({digits:!s}),l(!s)},children:"Digits"})]}),N("div",{style:{display:"flex",flexWrap:"wrap"},children:[f(Wu,{checked:a,onClick:()=>{S({lowercase:!a}),o(!a)},children:"Lowercase"}),f(Wu,{checked:u,onClick:()=>{S({specialChars:!u}),c(!u)},children:"Special characters"})]})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"primary",onClick:v,children:"Save"})]})]})}function $6(e){function t(){!e.edit&&e.url&&e.url.length>0&&I0(e.item,e.url)}function r(){!e.edit&&e.secondaryUrl&&e.secondaryUrl.length>0&&I0(e.item,e.secondaryUrl)}const n=e.showSecondaryUrl&&(e.secondaryUrl!=""||e.edit);return N(Ht,{children:[N("div",{className:n?"itemModalField upper":"itemModalField",style:{display:"flex",position:"relative",marginBottom:n?0:32},children:[N("div",{style:{flexGrow:1,overflow:"hidden"},onClick:t,children:[f(cn,{gotowebsite:!e.edit&&e.url.length>0,name:"Website Address",htmlFor:"websiteaddress"}),e.edit?f("div",{children:f("input",{id:"websiteaddress",onChange:e.onUrlChange,spellCheck:!1,value:e.url})}):f("div",{className:"url-span",style:{overflow:"hidden",textOverflow:"ellipsis"},children:e.url}),f("div",{className:"copied",id:"url_copied",children:f("div",{style:{margin:"0 auto",color:"var(--link-color)"},children:"Copied "})})]}),!e.edit&&e.url.length>0&&f("div",{style:{display:"flex",cursor:"pointer",justifyContent:"center",marginLeft:"12px",paddingLeft:"12px"},title:"Copy URL",onClick:()=>{e.edit||(Ji(e.url),document.querySelector("#url_copied").style.display="flex",wc())},children:f("svg",{width:"24",height:"24",fill:"none",stroke:"#1b1b26",title:"Copy",children:f("use",{href:"#f-copy"})})})]}),n&&f("div",{className:"itemModalField lower",style:{display:"flex",position:"relative",marginBottom:32},onClick:r,children:N("div",{style:{flexGrow:1,overflow:"hidden"},children:[f(cn,{name:"Secondary URL",htmlFor:"secondary-url"}),e.edit?f("div",{children:f("input",{id:"secondary-url",spellCheck:!1,value:e.secondaryUrl,onChange:e.onSecondaryUrlChange})}):f("div",{className:"url-span",style:{overflow:"hidden",textOverflow:"ellipsis"},children:e.secondaryUrl})]})})]})}function H6(){const e=new Date().getTime()/1e3,t=Math.ceil(e%30*10/3);document.querySelectorAll(".totp_circle").forEach(r=>{r.style.background=`conic-gradient(var(--totp-circle-fg) ${t}%, var(--totp-circle-bg) 0)`}),Math.floor(e%30)==0&&kd.forEach(r=>r())}function kh(){setTimeout(()=>{document.querySelectorAll(".copied").forEach(e=>e.style.display="none")},1e3)}setInterval(H6,1e3);let kd=[];function j6(e){kd.push(e)}function cC(e){kd=kd.filter(t=>t!==e)}function z6(e){const t=()=>{oe()};if(!e.show)return cC(t),null;j6(t);let r="",n="",i="";if(e.args.item){let De=e.args.item.cleartext[3].trim().split("");r=De[0],De.length>1&&(n=De[1]),e.args.item.cleartext.length>5&&(i=e.args.item.cleartext[5].toUpperCase())}const a=e.args.safe.user_role=="limited view";let o="";e.args.item&&(a?o="* hidden *":o=e.args.item.cleartext[2]);const[s,l]=x.useState(!e.args.item),[u,c]=x.useState(!1),[d,p]=x.useState(e.args.item?e.args.item.cleartext[1]:""),[C,h]=x.useState(o),[v,S]=x.useState(r),[m,g]=x.useState(n),[y,w]=x.useState(!1),[E,b]=x.useState(i),[T,_]=x.useState(""),[M,D]=x.useState(""),[A,B]=x.useState(""),[F,L]=x.useState(""),[P,$]=x.useState(""),[K,H]=x.useState(document.visibilityState=="hidden");x.useEffect(()=>{console.log("initial document.visibilityState",document.visibilityState),document.addEventListener("visibilitychange",()=>{console.log("onVisibilityChange",document.visibilityState),H(document.visibilityState=="hideen")})},[]);const j=mt(),te=Mt({mutationFn:De=>Te.post(`${Re()}${De.url}`,De.args).then(Pe=>{const Se=Pe.data;if(Se.status==="Ok")return e.onClose(!0,Se.id),"Ok";if(Se.status==="login"){window.location.href="expired.php";return}D(Se.status)}).catch(Pe=>{console.log(Pe),D("Server error. Please try again later")}),onSuccess:De=>{j.invalidateQueries(["userData"],{exact:!0})}}),G=()=>{c(!u)},ne=()=>{a||(l(!0),w(!1))},Q=De=>{let Pe="";const Se=Na.MAX_USERNAME_LENGTH;let ke=De.target.value;ke.length>Se&&(ke=ke.substring(0,Se),Pe=`Username max length is ${Se} chars, truncated`),p(ke),B(Pe)},ee=De=>{let Pe="";const Se=Na.MAX_PASSWORD_LENGTH;let ke=De.target.value;ke.length>Se&&(ke=ke.substring(0,Se),Pe=`Password length is ${Se} chars, truncated`),h(ke),B(Pe)},ve=De=>{let Pe="";const Se=Na.MAX_TOTP_LENGTH;let ke=De.target.value;ke.length>Se&&(ke=ke.substring(0,Se)),b(ke.toUpperCase()),$(Pe)},ye=De=>{let Pe="";const Se=Na.MAX_URL_LENGTH;let ke=De.target.value;ke.length>Se&&(ke=ke.substring(0,Se),Pe=`URL length is ${Se} chars, truncated`),S(ke),L(Pe)},Ee=De=>{let Pe="";const Se=Na.MAX_URL_LENGTH;let ke=De.target.value;ke.length>Se&&(ke=ke.substring(0,Se),Pe=`URL length is ${Se} chars, truncated`),g(ke.trim()),L(Pe)},be=()=>{cC(t),e.onClose()},$e=(De,Pe)=>{let Se=v,ke=m.trim();ke.length&&(Se=[v,ke].join(""));const Bt=[De,d,C,Se,Pe],Ir=E.replace(/-/g,"").replace(/ /g,"");Ir.length>0&&Bt.push(Ir);const dr={},Le=e.args.safe,bt=Le.bstringKey,Ot=Le.id;let tr=0;e.args.item?tr=e.args.item.folder:e.args.folder.safe&&(tr=e.args.folder.id);const Sa=Rn(Bt,bt,dr),ki={verifier:ge(),vault:Ot,folder:tr,encrypted_data:Sa};e.args.item&&(ki.entryID=e.args.item._id),te.mutate({url:"items.php",args:ki})},oe=()=>{if(s||!e.show||!e.args.item||e.args.item.cleartext.length<6)return;const De=e.args.item.cleartext[5];if(De.length>0){const Pe=De.replace(/\s/g,"").toUpperCase();try{const Se=new Uint8Array(S6.decode.asBytes(Pe));window.crypto.subtle.importKey("raw",Se,{name:"HMAC",hash:{name:"SHA-1"}},!1,["sign"]).then(ke=>A6(ke)).then(ke=>{document.querySelectorAll(".totp_digits").forEach(Bt=>Bt.innerText=ke)})}catch{document.querySelectorAll(".totp_digits").forEach(ke=>ke.innerText="invalid TOTP secret")}}};if(typeof e.args.item>"u"&&rd())return f(UpgradeModal,{show:e.show,accountData:Bn(),onClose:e.onClose});let Be=u?"text":"password";const{strongPassword:Oe,reason:Ue}=M_(C),Ce=Oe?N("span",{className:"colored",style:{opacity:"1"},children:[f("span",{style:{margin:"0 .3em"},children:""}),"Strong"]}):N("span",{style:{color:"#EB6500",opacity:"1"},children:[f("span",{style:{margin:"0 .3em"},children:""}),"Weak: ",Ue]}),Et=!s&&C.length&&!Oe?"weakPassword":"";e.args.item&&e.args.item.cleartext[5]&&!s&&oe();let ut="";return s?e.args.item&&e.args.item.cleartext.length>5||y?ut=N(Ze.Fragment,{children:[N("div",{className:"itemModalField",style:{marginBottom:32},onClick:()=>{s||Ji(document.querySelector(".totp_digits").innerText)},children:[E.length>0?f(cn,{copy:!s,name:"Google authenticator secret"}):"",f("input",{onChange:ve,spellCheck:!1,value:E,placeholder:"Google authenticator secret"})]}),A&&A.length>0&&f("div",{style:{color:"red"},children:A})]}):ut=N("div",{className:"itemModalPlusField",onClick:()=>w(!0),children:[f("svg",{width:"24",height:"24",fill:"none",children:f("use",{href:"#f-add"})}),"Add Google Authenticator"]}):e.args.item&&e.args.item.cleartext.length>5&&(ut=N("div",{className:"itemModalField",style:{marginBottom:32,position:"relative"},onClick:()=>{Ji(document.querySelector(".totp_digits").innerText),document.querySelector("#totp_copied").style.display="flex",kh()},children:[f(cn,{margin27:!0,copy:!s,name:"Google authenticator"}),N("div",{style:{display:"flex",alignItems:"center"},children:[f("div",{className:"totp_circle"}),f("div",{className:"totp_digits"})]}),f("div",{className:"copied",id:"totp_copied",children:f("div",{style:{margin:"0 auto",color:"var(--link-color)"},children:"Copied "})})]})),N(Ef,{show:e.show,args:e.args,onClose:be,onCloseSetFolder:e.onCloseSetFolder,onEdit:ne,onSubmit:$e,errorMsg:M,limitedView:a,children:[N("div",{className:"itemModalField upper",style:{position:"relative"},onClick:()=>{s||(Ji(d),document.querySelector("#username_copied").style.display="flex",kh())},children:[f(cn,{copy:!s,margin27:!0,name:"Username",htmlFor:"username"}),f("div",{children:f("input",{id:"username",className:"lp",onChange:Q,readOnly:!s,spellCheck:!1,value:d})}),f("div",{className:"copied",id:"username_copied",children:f("div",{children:"Copied "})})]}),N("div",{className:`itemModalField lower ${Et}`,style:{position:"relative",display:"flex",marginBottom:s?0:32},children:[N("div",{style:{flexGrow:1},onClick:()=>{s||(Ji(C),document.querySelector("#password_copied").style.display="flex",kh())},children:[N("div",{style:{display:"flex",justifyContent:"space-between"},children:[f("div",{className:"label",children:N("label",{htmlFor:"password",children:["Password",C.length?Ce:""]})}),!s&&N("div",{children:[f("span",{className:"iconTitle",children:"Copy"}),f("svg",{width:"24",height:"24",fill:"none",stroke:"#1b1b26",children:f("use",{href:"#f-copy"})})]})]}),f("div",{children:f("input",{className:"lp",id:"password",type:Be,onChange:ee,readOnly:!s,spellCheck:!1,value:C})}),f("div",{className:"copied",id:"password_copied",children:f("div",{style:{margin:"0 auto",color:"var(--link-color)"},children:"Copied "})})]}),f(hT,{onClick:G,hide:!u})]}),A&&A.length>0&&f("div",{style:{color:"red"},children:A}),N("div",{style:{display:"flex",justifyContent:"space-between"},children:[s?N("div",{onClick:()=>_("GeneratePasswordModal"),style:{margin:"8px 0 16px",padding:"8px 0 15px",fontSize:"14px",cursor:"pointer",color:"var(--link-color)"},children:[f("svg",{width:"24",height:"24",fill:"none",children:f("use",{href:"#f-shieldShevron"})}),f("span",{style:{marginLeft:"6px",display:"inline-block"},children:"Generate password"})]}):f("div",{}),N("div",{onClick:G,style:{textAlign:"right",margin:"8px 0 16px",padding:"8px 0 15px",fontSize:"14px",cursor:"pointer",display:"none",color:"var(--link-color)"},children:[f("svg",{width:"21",height:"21",fill:"none",children:f("use",{href:"#f-eye"})}),N("span",{style:{marginLeft:"6px",width:"6.5rem",display:"inline-block"},children:[u?"Hide":"Show"," Password"]})]})]}),f($6,{item:e.args.item,edit:s,url:v,secondaryUrl:m,onUrlChange:ye,onSecondaryUrlChange:Ee,showSecondaryUrl:!0}),F&&F.length>0&&f("div",{style:{color:"red"},children:F}),ut,f(K6,{show:T=="GeneratePasswordModal",onClose:(De,Pe)=>{_(""),Pe&&h(Pe)}})]},"pwm-item-modal")}function q6(e){if(!e.show)return null;const[t,r]=x.useState(""),n=s=>(console.log("note Action: url",s.url,"args",s.args),Te.post(`${Re()}${s.url}`,s.args).then(l=>{const u=l.data;if(u.status==="Ok")return e.onClose(!0,u.id),"Ok";if(u.status==="login"){window.location.href="expired.php";return}r(u.status)}).catch(l=>{console.log(l),r("Server error. Please try again later")})),i=mt(),a=Mt({mutationFn:n,onSuccess:s=>{i.invalidateQueries(["userData"],{exact:!0})}}),o=(s,l)=>{const u=[s,"","","",l],c={note:1},d=e.args.safe,p=d.bstringKey,C=d.id;let h=0;e.args.item?h=e.args.item.folder:e.args.folder.safe&&(h=e.args.folder.id);const v=Rn(u,p,c),S={verifier:ge(),vault:C,folder:h,encrypted_data:v};e.args.item&&(S.entryID=e.args.item._id),a.mutate({url:"items.php",args:S})};return typeof e.args.item>"u"&&rd()?f(UpgradeModal,{show:e.show,accountData:Bn(),onClose:e.onClose}):f(Ef,{show:e.show,args:e.args,onClose:e.onClose,onCloseSetFolder:e.onCloseSetFolder,onSubmit:o,errorMsg:t,isNote:!0})}function G6(e){return N(Ze.Fragment,{children:[e.view&&f("div",{className:"download-and-view view-only d-sm-none",style:{marginBottom:"8px",width:"100%"},children:N("button",{className:"btn-as-span",onClick:e.onView,children:[f("svg",{width:"24",height:"26",children:f("use",{href:"#f-eye-grey"})}),"View"]})}),f("div",{className:"download-and-view view-only d-sm-none",style:{marginBottom:"40px",width:"100%"},children:N("button",{className:"btn-as-span",onClick:e.onDownload,children:[f("svg",{width:"24",height:"24",stroke:"var(--icon-stroke)",children:f("use",{href:"#f-simple-download"})}),"Download"]})}),N("div",{className:"download-and-view view-only d-none d-sm-block",style:{marginBottom:"74px"},children:[e.view&&N("button",{className:"btn-as-span",onClick:e.onView,style:{borderRight:"1px solid var(--download-and-view-border)"},children:[f("svg",{width:"24",height:"26",children:f("use",{href:"#f-eye-grey"})}),"View"]}),N("button",{className:"btn-as-span",onClick:e.onDownload,children:[f("svg",{width:"24",height:"24",stroke:"var(--icon-stroke)",children:f("use",{href:"#f-simple-download"})}),"Download"]})]})]})}function W6(e){const t={doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",gzip:"application/gzip",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",pdf:"application/pdf",png:"image/png",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"},r=e.lastIndexOf(".");if(r!==-1){const n=e.substr(r+1).toLowerCase();if(n in t)return t[n]}return"application/octet-binary"}function Q6(e){const t=e.lastIndexOf(".");if(t>0){const r=e.substring(t+1).toLowerCase();if(r=="pdf")return!(O_()||navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")>0&&navigator.userAgent.indexOf("Macintosh")>0);if(r=="jpeg"||r=="jpg"||r=="png"||r=="gif"||r=="bmp")return!0}return!1}function Y6(e){if(!e.show)return null;const[t,r]=x.useState(""),[n,i]=x.useState(null),[a,o]=x.useState(e.args.item?e.args.item.cleartext[0]:""),[s,l]=x.useState(!e.args.item),u=mt(),d=Mt({mutationFn:y=>(console.log("file Action: url",y.url,"args",y.args),Te.post(`${Re()}${y.url}`,y.args).then(w=>{const E=w.data;if(E.status==="Ok")return e.onClose(!0,E.id),"Ok";if(E.status==="login"){window.location.href="expired.php";return}r(E.status)}).catch(w=>{console.log(w),r("Server error. Please try again later")})),onSuccess:y=>{u.invalidateQueries(["userData"],{exact:!0})}}),p=Ze.createRef(),C=()=>{l(!0)};function h(y){let w;e.args.safe?w=e.args.safe:e.args.folder.safe?w=e.args.folder.safe:w=e.args.folder;const E=w.bstringKey,b=w.id;st.lock(0),Te.post(`${Re()}file_ops.php`,{operation:"download",SafeID:b,verifier:ge(),itemId:e.args.item._id}).then(T=>{st.unlock();const _=T.data;if(_.status==="Ok"){const{filename:M,buf:D}=jD(_,E),A=W6(M),B=new Blob([D],{type:A});y(B,M);return}if(_.status!=="File not found"){if(_.status==="login"){window.location.href="expired.php";return}window.location.href="error_page.php?js=other"}}).catch(T=>{st.unlock(),r("Server error. Please try again later")})}const v=()=>{h(xd.saveAs)},S=()=>{h(e.inMemoryView)},m=y=>{i(y.target.files[0]),o(y.target.files[0].name),r(""),p.current.setTitle(y.target.files[0].name);const{type:w,size:E,lastModifiedDate:b}=y.target.files[0];console.log(w,E,b)},g=(y,w)=>{if(!e.args.item&&!n){r("No file defined");return}const E=[y,"","","",w],b={};let T;e.args.safe?T=e.args.safe:e.args.folder.safe?T=e.args.folder.safe:T=e.args.folder;const _=T.bstringKey,M=T.id,D=e.args.item?e.args.item.folder:e.args.folder,A=Rn(E,_,b);if(e.args.item){st.lock(0),d.mutate({url:"file_ops.php",args:{verifier:ge(),operation:"rename",SafeID:M,itemId:e.args.item._id,newName:A}});return}const B=new FileReader;B.readAsArrayBuffer(n),B.onerror=F=>{let L="Error reading file";B.error&&B.error.message&&(L=B.error.message),r(L)},B.onload=()=>{const{fileInfo:F,cFileContent:L}=FE(B.result,_),P=new FormData;P.append("vault",M),P.append("folder",D),P.append("verifier",ge()),P.append("meta",A),P.append("file",F);const $=hf(L),K=new Blob([$]);P.append("blob",K),st.lock(),d.mutate({url:"create_file.php",args:P})}};return f(Ze.Fragment,{children:f(Ef,{show:e.show,args:e.args,onEdit:C,onClose:e.onClose,onCloseSetFolder:e.onCloseSetFolder,ref:p,onSubmit:g,errorMsg:t,children:e.args.item?N("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"40px"},children:[f("svg",{width:"105",height:"132",style:{marginBottom:"32px"},children:f("use",{href:"#f-file-m"})}),f("div",{style:{marginBottom:"24px"},children:f("span",{style:{color:"var(--body-color)",opacity:.7},children:Pl(e.args.item.file.size)})}),!s&&f(G6,{onDownload:v,view:Q6(a),onView:S})]}):N("div",{className:"itemModalField",style:{marginBottom:62,position:"relative",background:"#E6F8EF",overflow:"visible"},children:[N("div",{style:{margin:"12px auto",color:"var(--link-color)",display:"table"},children:[f("svg",{width:"24",height:"24",children:f("use",{href:"#f-add"})}),f("b",{children:"Upload file"}),f("div",{children:"or drag & drop it here"})]}),f("svg",{width:"151",height:"134",style:{position:"absolute",top:16,left:32},children:f("use",{href:"#f-dragfile"})}),f("input",{type:"file",id:"inputFileModal",onChange:m,multiple:!0})]})})})}const X6={id:at.string,href:at.string,onClick:at.func,title:at.node.isRequired,disabled:at.bool,align:yO,menuRole:at.string,renderMenuOnMount:at.bool,rootCloseEvent:at.string,menuVariant:at.oneOf(["dark"]),flip:at.bool,bsPrefix:at.string,variant:at.string,size:at.string},Og=x.forwardRef(({title:e,children:t,bsPrefix:r,rootCloseEvent:n,variant:i,size:a,menuRole:o,renderMenuOnMount:s,disabled:l,href:u,id:c,menuVariant:d,flip:p,...C},h)=>N(dt,{ref:h,...C,children:[f(nb,{id:c,href:u,size:a,variant:i,disabled:l,childBsPrefix:r,children:e}),f(eb,{role:o,renderOnMount:s,rootCloseEvent:n,variant:d,flip:p,children:t})]}));Og.displayName="DropdownButton";Og.propTypes=X6;const dC=Og,vT=x.forwardRef(({bsPrefix:e,size:t,vertical:r=!1,className:n,role:i="group",as:a="div",...o},s)=>{const l=tt(e,"btn-group");let u=l;return r&&(u=`${l}-vertical`),f(a,{...o,ref:s,role:i,className:_e(n,u,t&&`${l}-${t}`)})});vT.displayName="ButtonGroup";const J6=vT,Z6=40;function eF(e){if(e.charAt(0)==="4")return 16;const t=parseInt(e.substring(0,2));if(t==34||t==37)return 15;if(t>=51&&t<=55)return 16;const r=parseInt(e.substring(0,4));return r>=2200&&r<=2204||r>=2221&&r<=2720?16:19}const yT=[];let B0=new Date;B0=B0.getFullYear();for(let e=0;e<20;e++)yT.push(B0+e);function tF(e){if(!e.show)return null;let t="",r="",n="",i="",a="",o=!0;e.args.item&&(t=e.args.item.cleartext[3],r=e.args.item.cleartext[4],n=e.args.item.cleartext[5],i=e.args.item.cleartext[6],a=e.args.item.cleartext[7],o=!1);const[s,l]=x.useState(o),[u,c]=x.useState(t),[d,p]=x.useState(r),[C,h]=x.useState(n),[v,S]=x.useState(i),[m,g]=x.useState(a),[y,w]=x.useState(""),[E,b]=x.useState(!0);x.useState(!0);const T=mt(),M=Mt({mutationFn:j=>Te.post(`${Re()}${j.url}`,j.args).then(q=>{const te=q.data;if(te.status==="Ok")return e.onClose(!0,te.id),"Ok";if(te.status==="login"){window.location.href="expired.php";return}w(te.status)}).catch(q=>{console.log(q),w("Server error. Please try again later")}),onSuccess:j=>{T.invalidateQueries(["userData"],{exact:!0})}}),D=()=>{l(!0)},A=()=>{b(!E)},B=(j,q)=>{const te=["card",j,q,u,d,C,v,m],G=e.args.safe,ne=G.bstringKey,Q=G.id;let ee=0;e.args.item?ee=e.args.item.folder:e.args.folder.safe&&(ee=e.args.folder.id);const ve=Rn(te,ne,{version:5}),ye={verifier:ge(),vault:Q,folder:ee,encrypted_data:ve};e.args.item&&(ye.entryID=e.args.item._id),M.mutate({url:"items.php",args:ye})},F=j=>{let q=j.target.value;q=q.replace(/\D/g,""),q=q.substring(0,4),g(q),w("")},L=j=>{let q=j.target.value;q=q.replace(/\D/g,"");const te=eF(q);if(q=q.substring(0,te),te==15)q.length>10&&(q=q.substring(0,10)+" "+q.substring(10)),q.length>4&&(q=q.substring(0,4)+" "+q.substring(4));else{const G=Math.floor((q.length-1)/4);for(let ne=G*4;ne>0;ne-=4)q=q.substring(0,ne)+" "+q.substring(ne)}c(q),w("")},P=j=>{const q=j.target.value.substring(0,Z6);p(q),w("")},$=j=>{h(j),w("")},K=j=>{S(j),w("")};let H="";return C!==""&&v!==""&&(H=`${C}/${v.slice(-2)}`),N(Ef,{show:e.show,args:e.args,onClose:e.onClose,onCloseSetFolder:e.onCloseSetFolder,onEdit:D,onSubmit:B,errorMsg:y,children:[f("div",{className:"itemModalField",style:{marginBottom:32,position:"relative",display:"flex",alignItems:"center"},children:N("div",{style:{flexGrow:1},onClick:()=>{if(!s){const j=u.replace(/\D/g,"");Ji(j),document.querySelector("#ccnumber_copied").style.display="flex",wc()}},children:[f(cn,{copy:!s,name:"Card number",htmlFor:"cc-number"}),N("div",{children:[f("input",{id:"cc-number",onChange:L,readOnly:!s,spellCheck:!1,value:u,placeholder:s?"0000 0000 0000 0000":""}),f("div",{className:"copied",id:"ccnumber_copied",children:f("div",{children:"Copied "})})]})]})}),N("div",{className:"card-exp-csc",children:[f("div",{className:"itemModalField",style:{marginBottom:32,display:"flex",justifyContent:"space-between",overflow:"visible",width:"100%"},children:N("div",{className:"date-selector",children:[f(cn,{name:"Expiration date"}),s?N(J6,{children:[f(dC,{variant:"outline-secondary",size:"sm",id:"expMonth",title:C===""?"Month":C,onSelect:$,children:["01","02","03","04","05","06","07","08","09","10","11","12"].map(j=>f(dt.Item,{eventKey:j,children:j},`month${j}`))}),f(dC,{variant:"outline-secondary",size:"sm",id:"expYear",title:v===""?"Year":v,onSelect:K,children:yT.map(j=>f(dt.Item,{eventKey:j,children:j},`year${j}`))})]}):H]})}),N("div",{className:"itemModalField",style:{marginBottom:32,display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",position:"relative"},children:[N("div",{style:{flexGrow:1},onClick:()=>{s||(Ji(m),document.querySelector("#cccsc_copied").style.display="flex",wc())},children:[f(cn,{name:"Security code",htmlFor:"cc-csc",copy:!s}),N("div",{style:{display:"flex"},children:[f("input",{id:"cc-csc",type:E?"password":"text",placeholder:s?"000":"",readOnly:!s,onChange:F,spellCheck:!1,value:m}),f("div",{className:"copied",id:"cccsc_copied",children:f("div",{children:"Copied "})})]})]}),f(hT,{onClick:A,hide:E})]})]}),N("div",{className:"itemModalField",style:{marginBottom:32,position:"relative"},onClick:()=>{s||(Ji(d),document.querySelector("#ccname_copied").style.display="flex",wc())},children:[f(cn,{copy:!s,name:"Name on card",htmlFor:"cc-name"}),N("div",{children:[f("input",{id:"cc-name",onChange:P,readOnly:!s,spellCheck:!1,value:d}),f("div",{className:"copied",id:"ccname_copied",children:f("div",{children:"Copied "})})]})]})]})}const rF=(e,t,r,n,i)=>e.arrayBuffer().then(a=>{const{fileInfo:o,cFileContent:s}=FE(a,i),u=[e.name,"","","",n],d=Rn(u,i,{}),p=new FormData;p.append("vault",t),p.append("folder",r),p.append("verifier",ge()),p.append("meta",d),p.append("file",o);const C=hf(s),h=new Blob([C]);return p.append("blob",h),Te.post(`${Re()}create_file.php`,p,{headers:{"content-type":"multipart/form-data"},timeout:6e5}).then(v=>{if(v.data.status!="Ok"){if(v.data.status==="login"){window.location.href="expired.php";return}throw new Error(v.data.status)}return v})});function nF({files:e,SafeID:t,folderID:r,note:n,aesKey:i}){let a=Promise.resolve();for(let o=0;o<e.length;o++)a=a.then(()=>rF(e[o],t,r,n,i));return a}function iF(e){const[t,r]=x.useState(null),[n,i]=x.useState(""),[a,o]=x.useState(""),s=mt(),l=Mt({mutationFn:nF,onSuccess:h=>{st.unlock(),s.invalidateQueries(["userData"],{exact:!0}),u()},onError:h=>{st.unlock(),i(h.toString())}}),u=()=>{e.onClose()},c=h=>{r(h.target.files),i("")},d=h=>o(h.target.value),p=()=>{if(!t){i("No file chosen");return}const[h,v,S]=e.args.folder.safe?[e.args.folder.safe.bstringKey,e.args.folder.safe.id,e.args.folder.id]:[e.args.folder.bstringKey,e.args.folder.id,0];st.lock(0,"file upload"),l.mutate({files:t,SafeID:v,folderID:S,note:a,aesKey:h})};let C=[];if(t)for(let h=0;h<t.length;h++)C.push(t[h].name);return N(ae,{show:e.show,onHide:u,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),N("div",{className:"modalTitle",style:{alignItems:"center"},children:[f("div",{children:f("svg",{width:"32",height:"32",style:{marginRight:"14px"},stroke:"var(--body-color)",children:f("use",{href:"#i-file"})})}),f("div",{className:"h2",children:"Upload File"})]}),N(ae.Body,{className:"edit",children:[n&&f("div",{style:{color:"red",marginBottom:16},children:n}),N("div",{className:"import-modal-file-field",children:[N("div",{style:{flexGrow:1,fontSize:"18px",lineHeight:"24px",padding:"12px 0 0 12px",overflowWrap:"anywhere"},children:[C.length==0&&f("div",{className:"filename",style:{marginBottom:"6px",maxWidth:"330px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:"Choose file(s)"}),C.map(h=>f("div",{className:"filename",children:h}))]}),f(pe,{variant:"primary",type:"submit",onClick:p,style:{height:"48px",marginTop:C.length>1?"12px":"0"},children:"Browse"}),f("input",{type:"file",onChange:c,multiple:!0})]}),N("div",{className:"itemNoteModalField",children:[f(cn,{name:"Note"}),f("div",{children:f("textarea",{className:"notes",onChange:d,spellCheck:!1,value:a,style:{width:"100%"},rows:"5",placeholder:"Type notes here"})})]})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:u,children:"Cancel"}),f(pe,{variant:"primary",type:"submit",onClick:p,children:"Upload"})]})]})}function aF(e){const[t,r]=x.useState(""),n=mt(),a=Mt({mutationFn:d=>Te.post(`${Re()}${d.url}`,d.args).then(p=>{const C=p.data;if(C.status==="Ok")return e.onClose(),"Ok";if(C.status==="login"){window.location.href="expired.php";return}r(C.status)}).catch(p=>{console.log(p),r("Server error. Please try again later")}),onSuccess:d=>{n.invalidateQueries(["userData"],{exact:!0})}});if(!e.show)return null;const o=()=>{e.onClose(!1)},s=()=>{a.mutate({url:"delete.php",args:{vault:e.args.safe.id,verifier:ge(),id:e.args.item._id}})};let l=[],u="",c="Delete Record";return l=e.folder?e.folder.path.map(d=>d[0]).join(" > "):[],u=e.args.item.cleartext[0],e.args.item.file&&(c="Delete File"),e.args.item.note&&(c="Delete Note"),N(ae,{show:e.show,onHide:o,animation:!1,centered:!0,children:[N("div",{className:"itemModalNav",children:[f("div",{className:"itemModalPath",children:l}),f("div",{children:f("span",{style:{fontSize:"2rem",fontWeight:"400",position:"absolute",right:"0",marginRight:"20px",cursor:"pointer"},onClick:e.onClose,children:""})})]}),f("div",{className:"ModalTitle h2",children:c}),N(ae.Body,{children:[t&&f("div",{style:{color:"red"},children:t}),"Do you really want to delete"," ",N("span",{style:{fontSize:"larger",fontWeight:"bold"},children:[u," ?"]})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:o,children:"Cancel"}),f(pe,{variant:"danger",type:"submit",onClick:s,children:"Delete"})]})]})}const fC="safe-menu-mobile_id",hC="folder-menu-mobile_id";function oF(e){const t=l=>{e.onMenuCmd(e.node,l),console.log(l)},r=N(ei,{id:hC,children:[f(qe,{onClick:()=>{t("rename")},children:"Rename"}),f(qe,{onClick:()=>{t("Add folder")},children:"Add folder"}),f(qe,{disabled:!nd(),onClick:()=>{t("Paste")},children:"Paste"}),f(qe,{onClick:()=>{t("export")},children:"Export"}),f(qe,{onClick:()=>{t("delete")},children:"Delete"})]}),i=N(ei,{id:fC,children:[f(qe,{onClick:()=>{t("Share")},children:"Share"}),f(qe,{onClick:()=>{t("rename")},children:"Rename"}),f(qe,{onClick:()=>{t("Add folder")},children:"Add folder"}),f(qe,{disabled:()=>!nd(),onClick:()=>{t("Paste")},children:"Paste"}),f(qe,{onClick:()=>{t("export")},children:"Export"}),f(qe,{onClick:()=>{t("delete")},children:"Delete"})]}),a=l=>{l.preventDefault(),_n.show({id:fC,event:l})},o=l=>{l.preventDefault(),_n.show({id:hC,event:l})},s=e.isSafe?i:r;return e.color&&e.color,N(Ht,{children:[f("div",{className:"menu-dots",onClick:e.isSafe?a:o,children:f("svg",{width:"24",height:"24",className:"safe_pane_icon",style:{stroke:"var(--icon-stroke)"},children:f("use",{href:"#el-dots"})})}),s]})}function sF(e){if(!e.show)return null;const t=a=>{a.stopPropagation()},r=()=>{e.onClose()},n=(a,o)=>{a.stopPropagation(),e.onClose(),e.handleAddClick(o)},i=e.show?"pmodal":"pmodal d-none";return f("div",{className:i,onClick:r,children:N("div",{className:"pmodal-body",onClick:t,style:{right:e.right,bottom:e.bottom,width:271,background:"#1B1B26",borderRadius:"16px",color:"white",padding:"8px 8px 8px 20px"},children:[N("div",{className:"addModalItem",onClick:a=>n(a,"Password"),children:[f("svg",{width:"24",height:"24",style:{marginRight:10,verticalAlign:"text-bottom"},children:f("use",{href:"#f-key"})}),"Password"]}),N("div",{className:"addModalItem",onClick:a=>n(a,"Note"),children:[f("svg",{width:"24",height:"24",style:{marginRight:10,verticalAlign:"text-bottom"},children:f("use",{href:"#f-note"})}),"Note"]}),N("div",{className:"addModalItem",onClick:a=>n(a,"File"),children:[f("svg",{width:"24",height:"24",style:{marginRight:10,verticalAlign:"text-bottom"},children:f("use",{href:"#f-file"})}),"File"]}),N("div",{className:"addModalItem",onClick:a=>n(a,"Bank Card"),children:[f("svg",{width:"24",height:"24",style:{marginRight:10,verticalAlign:"text-bottom",fill:"white",opacity:"0.7"},children:f("use",{href:"#credit_card"})}),"Bank Card"]}),N("div",{className:"addModalItem",onClick:a=>n(a,"Folder"),children:[f("svg",{width:"24",height:"24",style:{marginRight:10,verticalAlign:"text-bottom"},children:f("use",{href:"#f-folder"})}),"Folder"]}),f("div",{style:{height:"40px"}}),f("div",{children:f("span",{onClick:e.onClose,style:{float:"right",width:"80px",height:"80px",background:"rgba(255,255,255,0.15)",borderRadius:"14px",padding:"20px"},children:f("svg",{width:"40",height:"40",children:f("use",{href:"#f-cross"})})})})]})})}function lF(e){const[t,r]=x.useState(null),[n,i]=x.useState({}),[a,o]=x.useState({right:5,botton:5}),[s,l]=x.useState(1),[u,c]=x.useState(!1),[d,p]=x.useState(!1),[C,h]=x.useState(!1),[v,S]=x.useState("title");if(!e.folder)return null;const{folder:m}=e,g=Ze.createRef(),y=Q=>{Q==="Password"&&_("PasswordModal"),Q==="File"&&(_("CreateFileModal"),l(s+1)),Q==="Note"&&_("NoteModal"),Q==="Bank Card"&&_("BankCardModal"),Q==="Folder"&&(m.safe&&m.safe,e.searchMode&&item&&hn(e.safes,item.SafeID),r("FolderNameModal"),i({parent:m}))},w=Q=>{r("addDropUp")},E=(Q=!1)=>{r("")},b=Q=>{if(r(""),e.searchMode){const ee=n.item.folder!=0?n.item.folder:n.item.SafeID;e.setActiveFolder(ee)}else e.setActiveFolder(Q)},T=()=>{r("DeleteItemModal")},_=(Q,ee)=>{let ve=m.safe?m.safe:m;e.searchMode&&ee&&(ve=hn(e.safes,ee.SafeID));const ye={item:ee,safe:ve,folder:m,edit:!ee,openDeleteItemModal:T};r(Q),i(ye)},M=(Q,ee)=>{e.onFolderMenuCmd(e.folder,ee)};let D=[];for(let Q=0;Q<m.path.length-1;Q++)D.push(f(fT,{name:m.path[Q][0],folderid:m.path[Q][1],gt:m.path.length-Q-1,onClick:ee=>e.setActiveFolder(ee)}));const A=!(m.folders.length+m.items.length>0),B=m.path.length===1&&!e.searchMode;let F=B?"Empty safe":"Empty folder";e.searchMode&&(F=f("div",{children:N("b",{children:[f("p",{children:"Nothing found"}),f("p",{children:"Try another search"})]})}));const L=()=>{v!="title"?S("title"):c(!u)},P=()=>{v!="modified"?S("modified"):p(!d)},$=()=>{e.searchType=="Files"&&(v!="size"?S("size"):h(!C))},K=(Q,ee)=>v=="title"?u?ee.name.localeCompare(Q.name):Q.name.localeCompare(ee.name):d?Q.lastModified<ee.lastModified?-1:1:Q.lastModified>ee.lastModified?-1:1,H=Q=>{if(Iy(Q)||Ny(Q)||Fp(Q))return Q.cleartext[0];if(Up(Q))return Q.cleartext[1]},j=(Q,ee)=>v=="title"?u?H(ee).localeCompare(H(Q)):H(Q).localeCompare(H(ee)):e.searchType=="Files"&&v=="size"?C?ee.file.size-Q.file.size:Q.file.size-ee.file.size:d?Q.lastModified<ee.lastModified?-1:1:Q.lastModified>ee.lastModified?-1:1,q=m.folders.toSorted(K),te=m.items.toSorted(j);let G=v=="title"?u:d;v=="size"&&(G=C);const ne=G?f("svg",{width:"24",height:"24",style:{fill:"var(--body-color)",transform:"rotate(180deg)"},children:f("use",{href:"#angle"})}):f("svg",{width:"24",height:"24",style:{fill:"var(--body-color)"},children:f("use",{href:"#angle"})});return f(mu,{className:"col-xl-9 col-lg-8 col-md-7 col-sm-6 d-none d-sm-block",id:"table_pane",children:N("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[N("div",{className:"d-sm-none",style:{display:"flex",cursor:"pointer",marginBottom:"18px",color:"var(--link-color)"},onClick:()=>{e.searchMode&&e.onSearchClear(),e.folder.SafeID?e.openParentFolder(e.folder):(document.querySelector("#safe_pane").classList.remove("d-none"),document.querySelector("#table_pane").classList.add("d-none"))},children:[f("svg",{width:"24",height:"24",style:{fill:"#009a50",transform:"rotate(90deg)"},children:f("use",{href:"#angle"})}),m.path.length===1?"All safes":m.path[m.path.length-2][0]]}),N("div",{className:"d-sm-none",style:{display:"flex",justifyContent:"space-between",position:"relative"},children:[f("div",{className:"h5",children:m.path[m.path.length-1][0]}),!e.searchMode&&!0&&f(oF,{node:m,onMenuCmd:M,isSafe:!0})]}),N("div",{className:"d-none d-sm-block path",children:[D,f("b",{children:m.path[m.path.length-1][0]})]}),A&&f("div",{children:N("div",{style:{textAlign:"center"},children:[f("svg",{width:"260",height:"208",style:{margin:"2em auto 1em auto",display:"block"},children:f("use",{href:B?"#f-emptySafe":"#f-emptyFolder"})}),F]})}),!A&&f("div",{className:"custom-scroll fixed-head-table-wrapper",children:N("table",{className:"item_table",children:[f("thead",{children:N("tr",{className:"d-none d-sm-table-row",children:[N("th",{className:"d-none d-sm-table-cell col-sm-12 col-md-6 col-lg-4 col-xl-3",onClick:L,style:{cursor:"pointer"},children:["Title ",v==="title"&&ne]}),f("th",{className:"d-none d-xl-table-cell                             col-xl-3"}),e.searchType=="Files"?N("th",{className:"d-none d-md-table-cell           col-md-6 col-lg-4 col-xl-3 rightAlign",onClick:$,style:{cursor:"pointer"},children:[v==="size"&&ne," Size"]}):f("th",{className:"d-none d-md-table-cell           col-md-6 col-lg-4 col-xl-3 rightAlign"}),N("th",{className:"d-none d-lg-table-cell                    col-lg-4 col-xl-3 column-modified",onClick:P,style:{cursor:"pointer"},children:[v==="modified"&&ne," Modified"]})]})}),N("tbody",{children:[q.map(Q=>f(u6,{item:Q,searchMode:e.searchMode,dropItem:e.dropItem,onClick:ee=>{e.setActiveFolder(ee)}},`folder${Q._id}`)),te.map(Q=>Iy(Q)&&f(g6,{item:Q,searchMode:e.searchMode,showModal:ee=>_("PasswordModal",ee)},`item${Q._id}`)||Ny(Q)&&f(v6,{item:Q,searchMode:e.searchMode,showModal:ee=>_("NoteModal",ee)},`item${Q._id}`)||Fp(Q)&&f(C6,{item:Q,searchMode:e.searchMode,showModal:ee=>_("FileModal",ee)},`item${Q._id}`)||Up(Q)&&f(y6,{item:Q,searchMode:e.searchMode,showModal:ee=>_("BankCardModal",ee)},`item${Q._id}`))]})]})}),e.searchMode?N(pe,{variant:"primary",type:"submit",ref:g,title:"Reset Search mode",style:{position:"absolute",bottom:"16px",right:"16px",minWidth:"0",padding:"20px",borderRadius:"14px"},onClick:()=>{e.onSearchReset()},children:["Reset Search ",f("br",{}),"& Filters"]}):f(pe,{variant:"primary",type:"submit",ref:g,id:"addButtonId",title:"Add record",style:{width:"80px",height:"80px",position:"absolute",bottom:"16px",right:"16px",minWidth:"0",padding:"20px",borderRadius:"14px"},onClick:()=>{o(g.current.getBoundingClientRect()),w()},children:f("svg",{width:"40",height:"40",style:{strokeWidth:2},children:f("use",{href:"#f-plus"})})}),f(sF,{show:t==="addDropUp",bottom:window.innerHeight-a.bottom-8,right:window.innerWidth-a.right-8,onClose:()=>r(""),handleAddClick:y}),f(z6,{show:t==="PasswordModal",args:n,openDeleteItemModal:T,onClose:E,onCloseSetFolder:b},"pwm"),f(Y6,{show:t==="FileModal",args:n,openDeleteItemModal:T,onClose:E,onCloseSetFolder:b,inMemoryView:(Q,ee)=>{r(""),e.inMemoryView(Q,ee)}}),f(iF,{show:t==="CreateFileModal",args:n,openDeleteItemModal:T,onClose:E},s),f(q6,{show:t==="NoteModal",args:n,openDeleteItemModal:T,onClose:E,onCloseSetFolder:b,onCopyMove:e.onCopyMove},"nm"),f(tF,{show:t==="BankCardModal",args:n,openDeleteItemModal:T,onClose:E,onCloseSetFolder:b},"bcm"),f(aF,{show:t==="DeleteItemModal",folder:m,args:n,onClose:E}),f(_b,{show:t=="FolderNameModal",args:n,onClose:(Q=!1,ee)=>{r("")}})]})})}function uF(e){if(!e.show)return null;const r=Bn().email;let n=`Hello, ${e.args.to}!

${r} wants to share a secure safe with you on PassHub.

Go to https://passHub.net to create a free account. Share files and passwords securely with PassHub!
 `;const[i,a]=x.useState(n),[o,s]=x.useState(""),l=c=>{a(c.target.value),s("")},u=()=>{if(i.trim().length==0){s("please fill in the message field");return}st.lock(),Te.post(`${Re()}send_mail.php`,{verifier:ge(),to:e.args.to,subject:"Invitation to create a PassHub.net account",message:i}).then(c=>{st.unlock();const d=c.data;if(d.status==="Ok"){e.onClose(1,"success");return}if(d.status==="login"){window.location.href="expired.php";return}s(d.status)}).catch(c=>{st.unlock(),s("Error sending email. Please try again later")})};return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"Send an invitation message"})}),N(ae.Body,{className:"edit",style:{marginBottom:"24px"},children:[o.length>0?N("div",{style:{color:"red",margin:"0 16px 16px"},children:[f("svg",{style:{width:"24px",height:"24px",fill:"red",marginRight:"16px"},children:f("use",{href:"#a-error"})}),o]}):"",N("div",{style:{margin:"0 0 12px 24px"},children:[f("b",{children:"To:"})," ",e.args.to]}),N("div",{style:{margin:"0 0 36px 24px"},children:[f("b",{children:"Subj:"})," Invitation to create a PassHub.net account"]}),f("div",{style:{margin:"0 0 4px 24px",color:"grey"},children:"You can edit the message below:"}),f("div",{className:"itemNoteModalField",children:f(ql,{id:"contact-us-message",value:i,onChange:l,placeholder:"Type message here"})})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"primary",type:"button",onClick:u,children:"Send"})]})]})}function cF(e){if(!e||!e.show||!e.safes||e.safes.length==0)return null;const[t,r]=x.useState(new Set),[n,i]=x.useState("");x.useState("");const[a,o]=x.useState("nop"),[s,l]=x.useState({}),[u,c]=x.useState({}),[d,p]=x.useState({}),[C,h]=x.useState(null),[v,S]=x.useState({}),[m,g]=x.useState(null);let y=hn(e.safes,e.activeFolderId);y===null&&(console.log("recommended activeFolder not found"),y=e.safes[0]);let w=!1;if(y.SafeID){const P=new Set(t);let $=y.parent;for(;$!=0;)t.has($)||(P.add($),w=!0),$=hn(e.safes,$).parent;t.has(y.SafeID)||(P.add(y.SafeID),w=!0),w&&r(P)}const E=mt(),T=ps({queryKey:["copyMoveToast"],queryFn:()=>Promise.resolve(2).then(P=>P)}).data;x.useEffect(()=>{typeof T=="object"&&"item"in T&&"operation"in T&&(o(T.operation),e.showCopyMoveToast(T.operation),Gx(Date.now()/1e3),Pp(!0))},[T]);const _=Mt({mutationFn:P=>{const{node:$,pItem:K,operation:H}=P;return Y8(e.safes,$,K,H)},onSuccess:(P,$,K)=>{E.invalidateQueries(["userData"],{exact:!0})},onError:(P,$,K)=>{if(P.message=="no dst write"){i("NoRightsModal"),g({message:'Sorry, "Paste" is forbidden. You have only read access to the destination safe.'});return}if(P.message=="no src write"){i("NoRightsModal"),g({message:'Sorry, "Move" operation is forbidden. You have only read access to the source safe.'});return}}}),M=(P,$)=>{_.mutate({node:P,pItem:$,operation:"move"})},D=(P,$)=>{if($==="add safe"){l({}),i("FolderNameModal");return}if($==="rename"){i("FolderNameModal"),l({folder:P});return}if($==="Add folder"){i("FolderNameModal"),l({parent:P});return}if($==="delete"){i("DeleteFolderModal"),c(P);return}if($==="export"){if(P.user_role=="limited view"){console.log("limited view safe not exported");return}if(P.safe&&P.safe.user_role=="limited view"){console.log("limited view folder not exported");return}i("ExportFolderModal"),p(P);return}$==="Share"&&(i("ShareModal"),h({folder:P,email:e.email})),$==="Paste"&&(typeof T=="object"&&"item"in T&&"operation"in T&&_.mutate({node:P,pItem:T.item,operation:a}),e.hideCopyMoveToast(),Pp(!1))},A=P=>{const $=new Set(t);t.has(P.id)?$.delete(P.id):$.add(P.id),r($)},B=P=>{if(P.SafeID)if(P.parent==0)e.setActiveFolder(P.safe);else{const $=hn(e.safes,P.parent);e.setActiveFolder($)}};let F={path:[["Search results",0]],folders:[],items:[]};const L=e.searchString.trim();if(L.length>0||e.searchType!="--All--"){F.items=e6(L,e.searchType),e.searchType=="--All--"&&(F.folders=Z8(L,e.searchType));const P=document.querySelector("#safe_pane");P&&!P.classList.contains("d-none")&&(document.querySelector("#safe_pane").classList.add("d-none"),document.querySelector("#table_pane").classList.remove("d-none"))}return N(Ze.Fragment,{children:[f(l6,{show:!0,safes:e.safes,openNodes:t,activeFolder:y,setActiveFolder:e.setActiveFolder,onFolderMenuCmd:D,handleOpenFolder:A,dropItem:M}),f(lF,{safes:e.safes,inMemoryView:e.inMemoryView,setActiveFolder:e.setActiveFolder,onFolderMenuCmd:D,openParentFolder:B,dropItem:M,folder:L.length>0||e.searchType!="--All--"?F:y,searchMode:L.length>0||e.searchType!="--All--",onSearchClear:e.onSearchClear,onSearchReset:e.onSearchReset,searchType:e.searchType}),f(_b,{show:n=="FolderNameModal",args:s,onClose:(P=!1,$)=>{if(P=="group safe"){g({message:"Sorry, the operation is forbidden. The safe is owned by the company. Please consult the site administrator."}),i("groupSafeModal");return}i("")}}),f(K8,{show:n=="ShareModal",args:C,sendInvitationMessage:P=>{S({to:P}),i("InviteToShareMailModal")},onClose:(P=!1)=>{if(P=="group safe"){g({message:"Sorry, the operation is forbidden. The safe is owned by the company. Please consult the site administrator."}),i("groupSafeModal");return}if(P=="group safe, siteadmin"){g({message:"Sorry, the operation is forbidden. The safe belongs to one or more groups. Please use site admin tools to share the safe"}),i("groupSafeModal");return}i(""),E.invalidateQueries(["userData"],{exact:!0})}}),f(uF,{show:n=="InviteToShareMailModal",args:v,onClose:()=>{i("")}}),f(U8,{show:n=="DeleteFolderModal",folder:u,onClose:(P=!1)=>{if(P=="group safe"){g({message:"Sorry, the operation is forbidden. The safe is owned by the company. Please consult the site administrator."}),i("groupSafeModal");return}if(P=="group safe, siteadmin"){g({message:"Sorry, the operation is forbidden. The safe belongs to one or more groups. Please remove the safe from all the groups first"}),i("groupSafeModal");return}i("")}}),f(Nb,{show:n=="ExportFolderModal",folder:d,onClose:()=>{i("")}}),f(Gl,{show:n=="NoRightsModal",norights:!0,onClose:()=>{i("")},children:m&&m.message}),f(Gl,{show:n=="groupSafeModal",norights:!0,onClose:()=>{i("")},children:m&&m.message})]})}function dF(e){if(!e.show)return null;let t="";const r=Ze.createRef(),n=Ze.createRef(),i=x.useRef();x.useEffect(()=>{i.current?a():(a(),i.current=!0)});const a=()=>{if(e.show){if(t=="pdf"){const u=URL.createObjectURL(e.blob);n.current.setAttribute("src",u),URL.revokeObjectURL(u)}else if(t!=""){const u=new FileReader;u.addEventListener("load",function(){const c=r.current;c.src=u.result,c.onload=function(){const{naturalHeight:d,naturalWidth:p}=c,{width:C,height:h}=c.parentElement;console.log(d,p),console.log(C,h)}},!1),u.readAsDataURL(e.blob)}}},o=()=>{xd.saveAs(e.blob,e.filename)},{filename:s}=e,l=s.lastIndexOf(".");return t=s.substring(l+1).toLowerCase(),N("div",{className:"file-view-page",children:[f("div",{className:"view-file-cross",onClick:e.gotoMain,children:f("svg",{width:"40",height:"40",children:f("use",{href:"#f-cross"})})}),N("div",{className:"d-sm-none",style:{display:"flex",alignItems:"center",margin:"0 16px 0 72px",padding:"16px 0 16px 0"},children:[f("div",{className:"view-file-filename",children:s}),t!=="pdf"&&f("button",{onClick:o,className:"btn btn-as-span",style:{background:"white",borderRadius:"12px",width:"48px"},children:f("svg",{width:"24",height:"24",fill:"none",stroke:"black",children:f("use",{href:"#f-simple-download"})})})]}),N("div",{className:"d-none d-sm-flex",style:{alignItems:"center",margin:"0 72px",padding:"20px 0 16px 0"},children:[f("div",{className:"view-file-filename",children:s}),t!=="pdf"&&N("button",{onClick:o,className:"btn btn-as-span",children:[f("svg",{width:"24",height:"24",fill:"none",stroke:"black",children:f("use",{href:"#f-simple-download"})}),"Download"]})]}),t=="pdf"?f("div",{className:"img-frame",style:{flexGrow:1,background:"none"},children:f("iframe",{ref:n,style:{width:"100%",height:"100%"}})}):f("div",{className:"img-frame",style:{flexGrow:1,background:"none",overflow:"hidden",marginBottom:"32px"},children:f("img",{ref:r,style:{maxHeight:"100%",maxWidth:"100%",margin:"0 auto",boxShadow:"0px 10px 35px rgba(0, 0, 0, 0.2)"}})})]})}function fF(e){const t=()=>{e.onClose("showSurveyModal")};return N(Ed,{onClose:e.onClose,show:e.show,delay:15e3,autohide:!0,children:[N("div",{className:"toast-header",children:[f("div",{children:"Help us improve PassHub"}),f("div",{children:f("svg",{style:{width:24,height:24,cursor:"pointer"},onClick:e.onClose,children:f("use",{href:"#f-cross24"})})})]}),f(Ed.Body,{children:N("div",{style:{display:"flex",flexWrap:"wrap",gap:8,margin:"16px 0 0 0"},children:[f(pe,{variant:"primary",type:"button",onClick:t,children:"Takeshortsurvey"}),f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Remindmelater"})]})})]})}function hF(e){if(!e.show)return null;const[t,r]=x.useState(""),[n,i]=x.useState(""),[a,o]=x.useState(""),[s,l]=x.useState(""),[u,c]=x.useState(""),[d,p]=x.useState(!1),[C,h]=x.useState(!1),v=b=>{r(b.target.value),c(""),b.target.style.height="auto",b.target.style.height=b.target.scrollHeight+"px"},S=b=>{i(b.target.value),c(""),b.target.style.height="auto",b.target.style.height=b.target.scrollHeight+"px"},m=b=>{o(b.target.value),c("")},g=b=>{l(b.target.value),c("")},y=b=>{p(b.target.checked)},w=b=>{h(b.target.checked)},E=()=>{st.lock(),Te.post(`${Re()}survey.php`,{verifier:ge(),email:s.trim(),best:t.trim(),improve:n.trim(),other_pm:a.trim(),add_desktop:d,add_mobile:C}).then(b=>{st.unlock();const T=b.data;if(T.status==="Ok"){e.onClose(1,"thank you");return}if(T.status==="login"){window.location.href="expired.php";return}c(T.status)}).catch(b=>{st.unlock(),c("Error sending email. Please try again later")})};return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"PassHub.net Survey"})}),N(ae.Body,{className:"edit",style:{marginBottom:"24px"},children:[u.length>0?N("div",{style:{color:"red",margin:"0 16px 16px"},children:[f("svg",{style:{width:"24px",height:"24px",fill:"red",marginRight:"16px"},children:f("use",{href:"#a-error"})}),u]}):"",f("p",{children:"Your responses to this survey will help us better understand your experience with the PassHub.net. Thank You!"}),f("p",{children:"What do you like best about PassHub?"}),f("div",{className:"itemNoteModalField edit",children:f(ql,{value:t,id:"strength",onChange:v,edit:!0,minRows:2})}),f("p",{children:"What can we do to improve PassHub?"}),f("div",{className:"itemNoteModalField edit",children:f(ql,{value:n,id:"weakness",onChange:S,edit:!0,minRows:2})}),f("p",{children:"What are the other password managers PassHub needs to be interoperable with (import/export)?"}),f(Ei,{value:a,id:"survey-other-pm",onChange:m,edit:!0}),f("p",{style:{marginBottom:0},children:"What are the features you want to see in PassHub?"}),f("div",{children:N(xc.Group,{style:{border:"none"},children:[f(xc.Check,{type:"checkbox",id:"desktop-application",label:"Desktop Application",checked:d,onChange:y}),f(xc.Check,{type:"checkbox",id:"mobile-application",label:"Mobile Application",checked:C,onChange:w})]})}),f("p",{children:"Your contact email (optional)"}),f(Ei,{value:s,id:"survey-email",onChange:g,edit:!0})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{variant:"primary",type:"button",onClick:E,children:"Submit"})]})]})}function pF(e){if(!e.show)return null;const t=()=>{window.location.href="logout.php"};return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"You have not used the site for a while"})}),f(ae.Body,{children:f("p",{children:"For your security, your connection will be closed if there is no activity within one minute. Would you like to extend your connection?"})}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Extend"}),f(pe,{onClick:t,children:"Logout"})]})]})}function mF(e){const[t,r]=x.useState(""),n=mt(),a=Mt({mutationFn:()=>{Te.post(`${Re()}iam.php`,{verifier:ge(),operation:"delete",email:e.data.email,id:e.data.id}).then(s=>{if(console.log("delUserModal result",s),s.data.status==="Ok")return"Ok";if(s.data.status==="login"){window.location.href="expired.php";return}self.setState({errorMsg:s.data.status})}).catch(s=>{r("Server error. Please try again later")})},onSuccess:s=>{n.invalidateQueries(["userList"],{exact:!0}),e.onClose()}}),o=()=>{a.mutate()};return N(ae,{show:e.data.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:f("div",{className:"h2",children:"Delete User Account"})}),N(ae.Body,{children:[N("div",{children:["email: ",e.data.email]}),N("div",{children:["id: ",e.data.id]})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Cancel"}),f(pe,{onClick:o,children:"Ok"})]})]})}function gF(e){if(!e.show)return null;const t=e.group,[r,n]=x.useState(""),[i,a]=x.useState([]),o=()=>{e.onClose()},s=g=>(console.log("group Action: url",g.url,"args",g.args),Te.post(`${Re()}${g.url}`,g.args).then(y=>{const w=y.data;if(w.status==="Ok")return"Ok";if(w.status==="login"){window.location.href="expired.php";return}n(w.status)}).catch(y=>{console.log(y),n("Server error. Please try again later")})),l=mt(),u=Mt({mutationFn:s,onSuccess:()=>{l.invalidateQueries(["userList"],{exact:!0})}});function c(g){return Te.post(`${Re()}group.php`,{verifier:ge(),operation:"getUserPublicKey",groupId:t.GroupID,email:g}).then(y=>{const w=y.data;if(w.status==="Ok"){const E=Ss(w.public_key,t.bstringKey);u.mutate({url:"group.php",args:{verifier:ge(),operation:"addUser",groupId:t.GroupID,key:E,email:g}});return}if(w.status==="login"){window.location.href="expired.php";return}n(w.status)})}const d=g=>{u.mutate({url:"group.php",args:{verifier:ge(),operation:"removeUser",groupId:t.GroupID,userId:g}})},p=()=>{i.length>0&&(a([]),c(i[0].label))},C=t.users.map(g=>g.UserID),h=[];for(const g in e.userEmailMap)h.push({value:g,label:e.userEmailMap[g]});h.sort((g,y)=>g.label.localeCompare(y.label));const v=[],S=[];for(const g of h)C.includes(g.value)?S.push({...g}):v.push({...g});let m=`Group ${t.name} members`;return N(ae,{show:e.show,onHide:o,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",style:{alignItems:"center"},children:f("div",{className:"h2",children:m})}),N(ae.Body,{className:"edit",children:[N("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:24},children:[f("div",{style:{flexGrow:1},children:f($l,{style:{height:48,borderRadius:12,minWidth:354},options:v,labelField:"label",values:[...i],onChange:g=>{console.log(g),a(g)},placeholder:"Select user to add.."})}),f(pe,{variant:"primary",onClick:p,style:{marginLeft:"auto"},children:"Add"})]}),f("div",{style:{marginTop:"24px",marginBottom:"16px",fontSize:"18px",fontWeight:700},children:"Group members"}),f("div",{style:{marginLeft:"1em",maxHeight:"calc(100vh - 500px)",overflowY:"auto"},children:S.map(g=>N("div",{style:{display:"flex",alignItems:"center",height:"36px"},children:[f("span",{style:{cursor:"pointer",padding:"0 0.5em 0 1em"},onClick:()=>d(g.value),title:"remove",children:f("svg",{style:{strokeWidth:"0",fill:"red",width:"1em",height:"1em"},children:f("use",{href:"#cross"})})}),g.label]}))}),r.length>0&&f("div",{style:{color:"red"},children:r})]}),f(ae.Footer,{children:f(pe,{variant:"outline-secondary",onClick:o,children:"Close"})})]})}function vF(e){if(!e.show)return null;const[t,r]=x.useState(""),n=l=>Te.post(`${Re()}${l.url}`,l.args).then(u=>{const c=u.data;if(c.status==="Ok")return e.onClose(!0,c.id),"Ok";if(c.status==="login"){window.location.href="expired.php";return}r(c.status)}).catch(u=>{console.log(u),r("Server error. Please try again later")}),i=mt(),a=Mt({mutationFn:n,onSuccess:l=>{i.invalidateQueries(["userList"],{exact:!0})}}),o=()=>e.onClose(),s=()=>{a.mutate({url:"group.php",args:{verifier:ge(),operation:"delete",groupId:e.group.GroupID}})};return N(ae,{show:e.show,onHide:o,centered:!0,animation:!1,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",style:{alignItems:"center"},children:f("div",{className:"h2",children:"Delete User Group"})}),N(ae.Body,{className:"edit",children:[N("p",{children:["Do you really want to delete group"," ",f("span",{style:{fontSize:"larger",fontWeight:"bold"},children:e.group.name})," ","?        "]}),t.length>0&&f("div",{style:{color:"red"},children:t})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:o,children:"Cancel"}),f(pe,{variant:"danger",type:"submit",onClick:s,children:"Delete"})]})]})}function pC(e){if(!e.show)return null;const t=v=>Te.post(`${Re()}${v.url}`,v.args).then(S=>{const m=S.data;if(m.status==="Ok")return e.onClose(!0,m.id),"Ok";if(m.status==="login"){window.location.href="expired.php";return}s(m.status)}).catch(S=>{console.log(S),s("Server error. Please try again later")}),r=mt(),n=Mt({mutationFn:t,onSuccess:v=>{r.invalidateQueries(["userList"],{exact:!0})}}),[i,a]=x.useState(e.group?e.group.name:""),[o,s]=x.useState("");let l="";const u=()=>{e.onClose()},c=()=>{const v=i.trim();if(v.length==0){a(v),s("* Please fill in the name field");return}if(!e.group){if(e.groups){for(const g of e.groups)if(v==g.name){s(`Group ${v} already exists`);return}}const m=FD(v);n.mutate({url:"group.php",args:{verifier:ge(),operation:"create",group:m}});return}for(const m of e.groups)if(v==m.name){if(e.group.GroupID!=m.GroupID){s(`Group ${v} already exists`);return}e.onClose();return}const S=UD(v,e.group.bstringKey);n.mutate({url:"group.php",args:{verifier:ge(),groupId:e.group.GroupID,operation:"rename",eName:S,version:3}})},d=v=>{a(v.target.value),s("")},p=v=>{v.key==="Enter"&&c()};l="Create User Group";let C="#f-safe",h="safe-name-title";return e.group?[l,C,h]=["Rename User Group","#f-safe","safe-name-title"]:[l,C,h]=["Create User Group","#f-safe","safe-name-title"],N(ae,{show:e.show,onHide:u,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",style:{alignItems:"center"},children:f("div",{className:"h2",children:l})}),N(ae.Body,{className:"edit",children:[f(Ei,{id:"groupNameModalInput",label:"Name",placeHolder:"Group Name",value:i,edit:!0,autoFocus:!0,autoComplete:"off",onChange:d,onKeyUp:p}),o.length>0&&f("div",{style:{color:"red"},children:o})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:u,children:"Cancel"}),f(pe,{variant:"primary",type:"submit",onClick:c,children:e.group?"Rename":"Create"})]})]})}function yF(e){if(!e.show)return null;const t=e.group,[r,n]=x.useState(""),[i,a]=x.useState([]),[o,s]=x.useState("can view"),l=A=>(console.log("group Action: url",A.url,"args",A.args),Te.post(`${Re()}${A.url}`,A.args).then(B=>{const F=B.data;if(F.status==="Ok")return"Ok";if(F.status==="login"){window.location.href="expired.php";return}n(F.status)}).catch(B=>{console.log(B),n("Server error. Please try again later")})),u=mt(),c=Mt({mutationFn:l,onSuccess:()=>{u.invalidateQueries(["userList"],{exact:!0})}}),d=()=>{e.onClose()};function p(A){console.log(A);const B=qD(A.bstringKey,t.bstringKey);c.mutate({url:"group.php",args:{verifier:ge(),operation:"addSafe",SafeID:A.id,groupId:t.GroupID,role:o,eName:A.eName,version:A.version,encrypted_key:B}})}const C=A=>{c.mutate({url:"group.php",args:{verifier:ge(),operation:"removeSafe",groupId:t.GroupID,safeId:A.id}})},h=(A,B)=>{c.mutate({url:"group.php",args:{verifier:ge(),operation:"role",groupId:t.GroupID,safeId:A,role:B}})},v=Bn().safes,S=()=>{if(i.length>0){const A=hn(v,i[0].value);a([]),p(A)}},m=t.safes.map(A=>A.SafeID),y=v.filter(A=>A.user_role=="administrator"&&!m.includes(A.id)).map(A=>({value:A.id,label:A.name}));let w=`Group ${t.name} safes`;const b=f(ei,{id:"rights-menu",children:[{name:"Can edit",details:"User can edit, delete, and add files to the Safe",role:"can edit"},{name:"Can view",details:"User can only view records and download files",role:"can view"},{name:"Limited view",details:"User can only view records and download files, passwords are hidden",role:"limited view"}].map(A=>f(qe,{onClick:B=>{if(console.log(B),!B.props.safe){s(A.role);return}B.props.safe.role!=A.role&&h(B.props.safe.id,A.role)},children:N("div",{children:[f("div",{children:A.name}),f("div",{className:"safe-user-menu-details",children:A.details})]})}))}),T=(A,B)=>{_n.show({id:"rights-menu",event:A,props:{safe:B}})},_=(A,B)=>A.name.localeCompare(B.name),D=t.safes.map(A=>{const B=hn(v,A.SafeID);return B.role=A.role,B}).toSorted(_);return N(ae,{show:e.show,onHide:d,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",style:{alignItems:"center"},children:f("div",{className:"h2",children:w})}),N(ae.Body,{className:"edit",children:[b,N("div",{style:{marginBottom:"16px"},children:["Group members rights:",N("div",{className:"roleChanger",onClick:A=>T(A,null),children:[o,f("svg",{width:"24",height:"24",style:{verticalAlign:"top",fill:"var(--link-color)"},children:f("use",{href:"#angle"})})]})]}),N("div",{style:{display:"flex",alignItems:"baseline",flexWrap:"wrap",gap:24},children:[f("div",{style:{flexGrow:1},children:f($l,{style:{height:48,borderRadius:12,minWidth:354},options:y,labelField:"label",values:[...i],onChange:A=>{console.log(A),a(A)},placeholder:"Select safe to add.."})}),f(pe,{variant:"primary",onClick:S,style:{marginLeft:"auto"},children:"Add"})]}),f("div",{style:{marginTop:"36px",marginBottom:"16px",fontSize:"18px",fontWeight:700},children:"Group safes"}),f("div",{style:{maxHeight:"calc(100vh - 500px)",overflowY:"auto"},children:D.map(A=>{let B=A.role?A.role:"can view";return N("div",{className:"group-safe-entry",children:[f("span",{style:{cursor:"pointer",padding:"0 0.5em 0 1em"},onClick:()=>C(A),title:"remove",children:f("svg",{style:{strokeWidth:"0",fill:"red",width:"1em",height:"1em"},children:f("use",{href:"#cross"})})}),f("div",{style:{flexGrow:1},children:f("div",{className:"group-safe-entry-name",children:A.name})}),N("div",{className:"roleChanger",onClick:F=>T(F,A),children:[B,f("svg",{width:"24",height:"24",style:{verticalAlign:"top",fill:"#009A50"},children:f("use",{href:"#angle"})})]})]})})}),r.length>0&&f("div",{style:{color:"red"},children:r})]}),f(ae.Footer,{children:f(pe,{variant:"outline-secondary",onClick:d,children:"Close"})})]})}function CF(e){if(!e.show)return null;const[t,r]=x.useState(""),[n,i]=x.useState([]),a=()=>{e.onClose()},o=mt(),l=Mt({mutationFn:y=>{Te.post(`${Re()}iam.php`,{verifier:ge(),operation:y,id:e.user._id,email:e.user.email}).then(w=>{if(console.log("changeRole result",w),w.data.status==="Ok")return o.invalidateQueries(["userList"],{exact:!0}),"Ok";if(w.data.status==="login"){window.location.href="expired.php";return}self.setState({errorMsg:w.data.status})}).catch(w=>{r("Server error. Please try again later")})},onSuccess:y=>{}}),u=(y,w)=>{y!==w&&l.mutate(y)},d=Mt({mutationFn:y=>(console.log("group Action: url",y.url,"args",y.args),Te.post(`${Re()}${y.url}`,y.args).then(w=>{const E=w.data;if(E.status==="Ok")return"Ok";if(E.status==="login"){window.location.href="expired.php";return}r(E.status)}).catch(w=>{console.log(w),r("Server error. Please try again later")})),onSuccess:()=>{o.invalidateQueries(["userList"],{exact:!0})}}),p={};for(const y of e.groups)p[y.GroupID]=y;function C(y,w){return Te.post(`${Re()}group.php`,{verifier:ge(),operation:"getUserPublicKey",groupId:y,email:w}).then(E=>{const b=E.data;if(b.status==="Ok"){const T=Ss(b.public_key,p[y].bstringKey);d.mutate({url:"group.php",args:{verifier:ge(),operation:"addUser",groupId:y,key:T,email:w}});return}if(b.status==="login"){window.location.href="expired.php";return}r(b.status)})}const h=(y,w)=>{d.mutate({url:"group.php",args:{verifier:ge(),operation:"removeUser",groupId:y,userId:w}})},v=()=>{n.length>0&&(i([]),C(n[0].value,e.user.email))},S=[],m=[];for(const y of e.groups){let w=!1;for(const E of y.users)if(E.UserID==e.user._id){w=!0,m.push({value:y.GroupID,label:y.name});continue}w||S.push({value:y.GroupID,label:y.name})}S.sort((y,w)=>y.label.localeCompare(w.label)),m.sort((y,w)=>y.label.localeCompare(w.label));let g="active";return e.user.disabled?g="disabled":e.user.site_admin?g="admin":e.user._id||(g="invited"),N(ae,{show:e.show,onHide:a,animation:!1,centered:!0,children:[f(gt,{onClose:a}),f("div",{className:"modalTitle",style:{alignItems:"center"},children:f("div",{className:"h2",children:e.user.email})}),N(ae.Body,{className:"edit",children:[N("div",{style:{display:"flex",alignItems:"center",maxWidth:354,justifyContent:"space-between"},children:[e.LDAP?N("div",{children:["Status: ",f("span",{style:{fontWeight:"bold",marginLeft:"0.3em"},children:g})]}):e.user.status=="invited"?N("div",{children:["Status: ",f("span",{style:{fontWeight:"bold",marginLeft:"0.3em"},children:"invited"})]}):N(Ht,{children:[f("div",{children:"Status"}),f("div",{children:N(dt,{onSelect:y=>{u(y,g)},style:{float:"right"},children:[f(dt.Toggle,{variant:"secondary",style:{background:"transparent",color:"var(--body-color)",border:"none",boxShadow:"none",margin:0},children:g}),N(dt.Menu,{align:"left",children:[f(dt.Item,{eventKey:"active",children:"active"}),f(dt.Item,{eventKey:"disabled",children:"disabled"}),f(dt.Item,{eventKey:"admin",children:"admin"})]})]})})]}),(e.user.status!=="invited"||!e.LDAP)&&f("a",{href:"#",onClick:()=>e.onClose(e.user),style:{color:"var(--danger-color)"},children:"Delete account"})]}),e.user.status!="invited"&&N(Ht,{children:[f("div",{style:{marginTop:"24px",marginBottom:"16px",fontSize:"18px",fontWeight:700},children:"Groups"}),N("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:24,marginBottom:16},children:[f("div",{style:{flexGrow:1},children:f($l,{style:{height:48,borderRadius:12,minWidth:354},options:S,labelField:"label",values:[...n],onChange:y=>{console.log(y),i(y)},placeholder:"Select group to add.."})}),f(pe,{variant:"primary",onClick:v,style:{marginLeft:"auto"},children:"Add group"})]}),f("div",{style:{marginLeft:"1em",maxHeight:"calc(100vh - 500px)",overflowY:"auto"},children:m.map(y=>N("div",{style:{display:"flex",alignItems:"center",height:"36px"},children:[f("span",{style:{cursor:"pointer",padding:"0 0.5em 0 1em"},onClick:()=>{h(y.value,e.user._id)},title:"remove",children:f("svg",{style:{strokeWidth:"0",fill:"red",width:"1em",height:"1em"},children:f("use",{href:"#cross"})})}),y.label]}))})]}),t.length>0&&f("div",{style:{color:"red"},children:t})]}),f(ae.Footer,{children:f(pe,{variant:"outline-secondary",onClick:a,children:"Close"})})]})}function SF(){return Te.post(`${Re()}iam.php`,{verifier:ge(),operation:"audit"})}const wF=new Date,Ih=wF.getTimezoneOffset();function xF(){return console.log("audit called"),SF().then(e=>{const t=e.data;if(t.status==="Ok")return t;if(t.status==="login"){window.location.href="/";return}}).catch(e=>{console.log(e)})}function EF(e){if(!e.show)return null;x.useState("");const[t,r]=x.useState(),[n,i]=x.useState(),[a,o]=x.useState("--All--"),[s,l]=x.useState("--All--"),[u,c]=x.useState(!1),d=mt(),p=()=>{e.onClose()},{data:C,isLoading:h}=ps({queryKey:["audit"],queryFn:()=>xF().then(L=>L)}),v=()=>{d.invalidateQueries(["audit"],{exact:!0})};if(h)return console.log("isLoading"),null;console.log("response"),console.log(C);const S=JSON.parse(C.data);console.log("auditRecords"),console.log(S);const m=new Set;for(const L of S)m.add(L.actor);let g=Array.from(m);g=g.map(L=>L||""),g.sort(function(L,P){return L.toLowerCase().localeCompare(P.toLowerCase())}),console.log(g);const y=[{value:"--All--",label:"--All--"}];for(const L of g)y.push({value:L,label:L});const w=new Set;for(const L of S)w.add(L.operation);let E=Array.from(w);E=E.map(L=>L||""),E.sort(function(L,P){return L.toLowerCase().localeCompare(P.toLowerCase())}),console.log(E);const b=[{value:"--All--",label:"--All--"}];for(const L of E)b.push({value:L,label:L});function T(L){let P=L.target.value;console.log("onChange ",P);const $=new Date(P),H=new Date($.getTime()+Ih*1e3*60).toISOString();console.log(H)}function _(L){let P=L.target.value;console.log("onInput ",P);const $=new Date(P),K=new Date($.getTime()+Ih*1e3*60);console.log(K);const H=K.toISOString();r(H),console.log(H)}function M(L){let P=L.target.value;console.log("onInput ",P);const $=new Date(P),K=new Date($.getTime()+Ih*1e3*60+24*60*60*1e3);console.log(K);const H=K.toISOString();i(H),console.log(H)}function D(L){return!(a!="--All--"&&L.actor!=a&&L.user!=a||s!="--All--"&&L.operation!=s||t&&L.timestamp<t||n&&L.timestamp>n)}u&&S.reverse();const B=new Date().toISOString().split("T")[0];console.log(s),console.log(a);const F=u?f("svg",{width:"24",height:"24",style:{fill:"var(--body-color)",transform:"rotate(180deg)"},children:f("use",{href:"#angle"})}):f("svg",{width:"24",height:"24",style:{fill:"var(--body-color)"},children:f("use",{href:"#angle"})});return N(ae,{show:e.show,onHide:p,animation:!1,centered:!0,dialogClassName:"wide-dialog",children:[f(gt,{onClose:p}),N("div",{className:"modalTitle",style:{alignItems:"center",justifyContent:"space-between"},children:[f("div",{className:"h2",children:"Audit"}),N("div",{children:[f("input",{class:"datapicker","aria-label":"Date from",type:"date",max:B,min:"2020-01-01",onInput:_,onhange:T}),f("span",{children:"  "}),f("input",{class:"datapicker","aria-label":"Date to",type:"date",max:B,onInput:M,onhange:T})]}),f("div",{children:f("svg",{width:"24",height:"24",title:"Refersh",onClick:v,style:{cursor:"pointer"},children:f("use",{href:"#arrow-clockwise"})})})]}),N(ae.Body,{children:[N("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[f("span",{style:{margin:"0 8px 0 8px"},children:"User"}),f($l,{style:{height:40,borderRadius:4,paddingLeft:16,minWidth:300},options:y,labelField:"label",valueField:"value",values:[{label:"--All--",value:"--All--"}],onChange:L=>{console.log(L),o(L[0].value)},placeholder:"User Filter"}),f("span",{style:{margin:"0 8px 0 32px"},children:"Event"}),f($l,{style:{height:40,borderRadius:4,paddingLeft:16,minWidth:300},options:b,labelField:"label",valueField:"value",values:[{label:"--All--",value:"--All--"}],onChange:L=>{console.log(L),l(L[0].value)},placeholder:"Event filter"})]}),f("div",{class:"custom-scroll fixed-head-table-wrapper",style:{maxHeight:"calc(100vh - 350px)"},children:N("table",{children:[N("thead",{children:[N("th",{style:{paddingLeft:8,cursor:"pointer"},onClick:()=>c(!u),children:["Timestamp ",F]}),f("th",{style:{paddingLeft:8},children:"Actor"}),f("th",{style:{paddingLeft:8},children:"Event"}),f("th",{style:{paddingLeft:8},children:"args"})]}),f("tbody",{children:S.map(L=>D(L)?N("tr",{children:[f("td",{style:{paddingLeft:8,textWrap:"nowrap"},children:new Date(L.timestamp).toLocaleString()}),f("td",{style:{paddingLeft:8},children:L.actor}),f("td",{style:{paddingLeft:8},children:L.operation}),f("td",{style:{paddingLeft:8},children:L.user?L.user:""})]}):"")})]})})]}),f(ae.Footer,{children:f(pe,{variant:"outline-secondary",onClick:p,children:"Close"})})]})}function bF(e){if(!e.show)return null;const t=mt(),[r,n]=x.useState(e.company.licensedUsers?e.company.licensedUsers:10),[i,a]=x.useState("");x.useEffect(()=>{console.log("companyModal useEffect")},[]);function o(){return Te.post(`${Re()}company.php`,{verifier:ge(),operation:"setProfile",companyId:e.company._id,licensedUsers:r}).then(()=>{t.invalidateQueries(["companyList"],{exact:!0}),e.onClose()})}return N(ae,{show:e.show,onHide:e.onClose,animation:!1,centered:!0,children:[f(gt,{onClose:e.onClose}),f("div",{className:"modalTitle",children:N("div",{className:"h2",children:["Company ",e.company.name]})}),N(ae.Body,{children:[f("label",{for:"licensed-users",children:"Licensed users:"}),f("input",{id:"licensed-users",type:"text",value:r,onChange:s=>{n(s.target.value),a("")}})]}),N(ae.Footer,{children:[f(pe,{variant:"outline-secondary",onClick:e.onClose,children:"Close"}),f(pe,{variant:"primary",onClick:o,children:"Ok"})]})]})}function TF(e){const t=mt(),n=Mt({mutationFn:l=>{if(l=="remove"){e.showDelDialog({email:a.email,id:a._id});return}Te.post(`${Re()}iam.php`,{verifier:ge(),operation:l,id:e.user._id,email:e.user.email}).then(u=>{if(console.log("changeRole result",u),u.data.status==="Ok")return t.invalidateQueries(["userList"],{exact:!0}),"Ok";if(u.data.status==="login"){window.location.href="expired.php";return}self.setState({errorMsg:u.data.status})}).catch(u=>{setErrorMsg("Server error. Please try again later")})},onSuccess:l=>{}}),i=(l,u)=>{l!==u&&n.mutate(l)};let a=e.user,o="active";a.disabled?o="disabled":a.site_admin?o="admin":a._id||(o="invited");const s=btoa(a.mail).replace(/=/g,"");return e.user.status!=="invited"&&new Date(e.user.lastSeen).toLocaleString(),e.me?N("tr",{children:[f("td",{className:"email",children:f("b",{children:a.email})}),f("td",{style:{textAlign:"right",paddingRight:"1em"},children:f("b",{children:o})}),f("td",{className:"d-none d-sm-table-cell",style:{textAlign:"right",paddingRight:"0.5em"},children:f("b",{children:"That's you"})})]}):o==="invited"?N("tr",{children:[f("td",{className:"email",style:{cursor:"pointer"},onClick:()=>{console.log("the click",e.user.email),e.showUserModal(e.user)},children:e.user.email}),f("td",{style:{overflow:"visible"},children:f("div",{className:"d-none d-sm-block",children:e.LDAP?f("span",{style:{float:"right",paddingRight:"1em"},children:"authorized"}):N(dt,{onSelect:l=>{i(l,o)},style:{float:"right"},children:[f(dt.Toggle,{id:s,variant:"secondary",style:{background:"transparent",color:"var(--body-color)",border:"none",boxShadow:"none",margin:0},children:"authorized"}),f(dt.Menu,{align:"left",children:f(dt.Item,{eventKey:"remove",style:{color:"red"},children:"remove"})})]})})}),f("td",{className:"d-none d-lg-table-cell"})]}):N("tr",{children:[f("td",{className:"email",style:{cursor:"pointer"},onClick:()=>{console.log("the click",e.user.email),e.showUserModal(e.user)},children:e.user.email}),f("td",{style:{overflow:"visible"},children:f("div",{className:"d-none d-sm-block",children:e.LDAP?f("span",{style:{float:"right",paddingRight:"1em"},children:o}):N(dt,{onSelect:l=>{i(l,o)},style:{float:"right"},children:[f(dt.Toggle,{id:s,variant:"secondary",style:{background:"transparent",color:"var(--body-color)",border:"none",boxShadow:"none",margin:0},children:o}),N(dt.Menu,{align:"left",children:[f(dt.Item,{eventKey:"active",children:"active"}),f(dt.Item,{eventKey:"disabled",children:"disabled"}),f(dt.Item,{eventKey:"admin",children:"admin"}),f(dt.Item,{eventKey:"remove",style:{color:"red"},children:"remove"})]})]})})}),f("td",{className:"d-none d-lg-table-cell col-lg-4 col-xl-3",style:{textAlign:"right",paddingRight:"0.5em"},children:new Date(e.user.lastSeen).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]})}const AF=(e,t)=>e.email.localeCompare(t.email);function kF(e){const t=e.users.toSorted(AF);return f("div",{className:"custom-scroll fixed-head-table-wrapper",style:{minHeight:350},children:N("table",{children:[f("thead",{children:N("tr",{style:{color:"rgba(27,27,38,0.5)",fontSize:"14px"},children:[f("th",{style:{width:"40%"},children:"Email"}),f("th",{className:"d-none d-sm-table-cell",style:{minWidth:"8em",paddingRight:"12px",textAlign:"right"},children:"Status"}),f("th",{className:"d-none d-lg-table-cell col-lg-4 col-xl-3",style:{minWidth:"10em",textAlign:"right",paddingRight:"1em"},title:Intl.DateTimeFormat().resolvedOptions().timeZone,children:"Last seen"})]})}),f("tbody",{children:t.map(r=>{const n=r._id&&e.me&&r._id===e.me;return r.email.includes(e.searchString)?f(TF,{user:r,me:n,LDAP:e.LDAP,showDelDialog:e.showDelDialog,showUserModal:e.showUserModal,userStatusCB:e.userStatusCB},r.email):null})})]})})}function IF(e){const[t,r]=x.useState(""),[n,i]=x.useState(""),[a,o]=x.useState(""),s=mt(),u=Mt({mutationFn:()=>{if(a.trim()=="")return;const w={verifier:ge(),operation:"newuser",email:a.trim()};return e.company&&(w.company=e.company._id),Te.post(`${Re()}iam.php`,w).then(E=>{const b=E.data;if(b.status==="Ok")return o(""),i(""),"Ok";if(b.status==="login"){window.location.href="expired.php";return}i(b.status)}).catch(E=>{console.log(E),i("Server error. Please try again later")})},onSuccess:w=>{s.invalidateQueries(["userList"],{exact:!0})}}),c=()=>{s.invalidateQueries(["userList"],{exact:!0})},d=()=>{let w=`email, role, lastSeen\r
`;for(let b of e.users){let T=b.status;b.disabled&&(T="disabled"),T||(T=b.site_admin?"admin":"active"),w+=Ib([[b.email,T,b.lastSeen]])}const E=new Blob([w],{type:"text/csv;charset=utf-8"});saveAs(E,"passhub-users.csv")},p=()=>{u.mutate()},C=()=>{i("")},h=w=>{o(w.target.value),i("")},v=w=>{w.key=="Enter"&&(o(w.target.value),p())},S=w=>{r(w.target.value)},m=()=>{r("")},g=e.licensed?`/${e.licensed}`:"";function y(){document.querySelector("#user-pane").classList.add("d-none"),document.querySelector(".group_pane").classList.remove("d-none")}return N(mu,{className:"col-xl-9 col-lg-8 col-md-7 col-sm-7 d-sm-block",id:"user-pane",children:[N("div",{style:{display:"flex",flexDirection:"column",height:"100%",padding:"0 24px"},children:[N("div",{children:[f("div",{className:"d-sm-none",onClick:y,style:{textAlign:"right",cursor:"pointer",color:"var(--link-color)",marginBottom:16},children:"User Groups >"}),N("div",{className:"d-sm-none",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f("div",{style:{fontWeight:700,fontSize:24,lineHeight:"34px"},children:"User management"}),f("div",{onClick:w=>{_n.show({id:"user-pane-menu",event:w})},children:f("svg",{width:"24",height:"24",style:{opacity:.5,stroke:"#1b1b26",cursor:"pointer"},children:f("use",{href:"#kebab"})})})]}),N("div",{className:"d-none d-sm-flex",style:{justifyContent:"space-between"},children:[f("div",{children:f("b",{children:"User management"})}),N("div",{style:{display:"flex",gap:32},children:[e.company&&f("div",{style:{cursor:"pointer",color:"var(--link-color)"},onClick:e.showCompanyModal,children:"Settings"}),f("div",{style:{cursor:"pointer",color:"var(--link-color)"},onClick:e.showAuditModal,children:"Audit"}),e.LDAP?f("div",{onClick:c,title:"Refresh",style:{cursor:"pointer"},children:f("svg",{width:"24",height:"24",children:f("use",{href:"#arrow-clockwise"})})}):f(Ht,{children:f("div",{style:{cursor:"pointer",color:"var(--link-color)"},onClick:d,children:"Export"})})]})]}),N("div",{style:{margin:"16px 0 8px",display:"flex",gap:16,alignItems:"baseline",flexWrap:"wrap"},children:[e.LDAP?f("div",{style:{flexGrow:1},children:"ACTIVE DIRECTORY"}):N(Ht,{children:[f("input",{className:"basic-input",type:"email",placeholder:"Email",style:{flexGrow:1},onFocus:C,onChange:h,onKeyDown:v,value:a}),f(pe,{className:"d-none d-lg-block",style:{margin:0},onClick:p,children:"Add User"})]}),N("span",{className:"d-none d-lg-block",style:{padding:"12px 16px",borderRadius:12,background:"#E6E6F04D",color:"#1B1B26"},children:["Users ",e.users.length,g]})]}),N("div",{className:"d-lg-none",style:{display:"flex",gap:16},children:[N("span",{style:{padding:"12px 16px",borderRadius:12,background:"#E6E6F04D",color:"#1B1B26",display:"inline-block",flexGrow:1},children:["Users ",e.users.length,g]}),!e.LDAP&&f(pe,{style:{margin:0},onClick:p,children:"Add User"})]}),f("div",{id:"add-user-error",style:{height:16,paddingLeft:12,lineHeight:"16px",color:"red"},children:n}),N("div",{style:{display:"flex",position:"relative",margin:"8px 0 16px 0"},children:[f("input",{className:"search_string",type:"text",autoComplete:"off",onChange:S,value:t,placeholder:"Search Users"}),f("span",{className:"search_clear",onClick:m,style:{margin:"12px 0 0 -27px"},children:f("svg",{width:"0.7em",height:"0.7em",className:"item_icon",style:{fill:"var(--table-pane-color)"},children:f("use",{href:"#cross"})})}),f("span",{style:{position:"absolute",left:"12px",top:"10px"},children:f("svg",{width:"24",height:"24",style:{opacity:.6,stroke:"var(--table-pane-color)"},children:f("use",{href:"#f-search"})})})]})]}),f(kF,{users:e.users,me:e.me,LDAP:e.LDAP,searchString:t,showDelDialog:e.showDelDialog,showUserModal:e.showUserModal})]}),N(ei,{id:"user-pane-menu",children:[f(qe,{onClick:e.showAuditModal,children:"Audit"}),f(qe,{onClick:d,children:"Export"})]})]})}function NF(e){return f("div",{className:"group",onClick:r=>{_n.show({id:"group-menu",event:r,props:{group:e.group}})},children:e.group.name})}const RF=(e,t)=>e.name.localeCompare(t.name);function _F(e){const t=e.groups.toSorted(RF);function r(){document.querySelector("#user-pane").classList.remove("d-none"),document.querySelector(".group_pane").classList.add("d-none")}return N(mu,{className:"col-xl-3 col-lg-4 col-md-5 col-sm-5 col d-none d-sm-block group_pane",children:[N("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[f("div",{className:"d-sm-none",onClick:r,style:{textAlign:"left",cursor:"pointer",color:"var(--link-color)",padding:"0 0 12px 24px"},children:"< User Management"}),f("div",{className:"folders-header",style:{paddingBottom:36},children:"USER GROUPS"}),f("div",{className:"safe_scroll_control custom-scroll",children:t.map(n=>f(NF,{group:n}))}),f("div",{className:"add_safe",onClick:()=>{e.onAddGroup()},children:"Add Group"})]}),f(ei,{id:"group-menu",children:["Users","Safes","Rename","Delete"].map(n=>f(qe,{onClick:i=>{e.handleGroupMenuClick(n,i.props.group)},children:n}))})]})}function BF(e=null){return Te.post(`${Re()}iam.php`,{verifier:ge(),operation:"users",company:e?e._id:null})}function DF(e){return console.log("userList query called"),e&&console.log(`for company ${e.name}`),BF(e).then(t=>{if(t.data.status==="Ok")return jE(t.data.groups).then(r=>t.data);if(t.data.status==="login"){window.location.href="expired.php";return}setErrorMsg(t.data.status)}).catch(t=>{console.log(t)})}function LF(e){if(!e.show)return null;const t=x.useRef(null),r=x.useRef(null),[n,i]=x.useState(""),[a,o]=x.useState({email:"",id:"",show:!1}),{data:s,isLoading:l}=ps({queryKey:["userList"],queryFn:()=>DF(e.company).then(g=>g)});if(l)return console.log("isLoading"),null;const{me:u,users:c,groups:d,LICENSED_USERS:p,LDAP:C}=s,h={};for(const g of c)"_id"in g&&(h[g._id]=g.email);const v=g=>{o({email:g.email,id:g.id,show:!0})},S=g=>{r.current=g,i("UserModal")},m=(g,y)=>{if(t.current=y,g=="Users"){i("GroupUsersModal");return}if(g=="Safes"){i("GroupSafesModal");return}if(g=="Rename"){i("GroupNameModal");return}if(g=="Delete"){i("GroupDeleteModal");return}};if(n!=""&&n!="GroupCreateModal"&&n!="UserModal"&&n!="AuditModal"){for(const g of d)if(g.GroupID===t.current.GroupID){g!=t.current&&(console.log("updateGroupRef"),t.current=g);break}}if(n=="UserModal"){for(const g of c)if(g.email===r.current.email){g!=r.current&&(console.log("updateUserRef",g.email),r.current=g);break}}return N(Ht,{children:[f(IF,{users:c,licensed:p,me:u,LDAP:C,showDelDialog:v,showUserModal:S,showAuditModal:()=>i("AuditModal"),showCompanyModal:()=>i("CompanyModal"),company:e.company}),f(_F,{groups:d,onAddGroup:()=>i("GroupCreateModal"),handleGroupMenuClick:m}),f(gF,{show:n=="GroupUsersModal",group:t.current,userEmailMap:h,onClose:()=>{i("")}}),f(yF,{show:n=="GroupSafesModal",group:t.current,onClose:()=>{i("")}}),f(pC,{show:n=="GroupCreateModal",groups:d,onClose:()=>{i("")}}),f(pC,{show:n=="GroupNameModal",group:t.current,groups:d,onClose:()=>{i("")}}),f(vF,{show:n=="GroupDeleteModal",group:t.current,onClose:()=>{i("")}}),f(CF,{show:n=="UserModal",user:r.current,groups:d,LDAP:C,onClose:(g=!1)=>{i(""),g&&(g._id?o({email:g.email,id:g._id,show:!0}):o({email:g.email,show:!0}))}}),f(mF,{data:a,onClose:()=>{o({email:"",id:"",show:!1})}}),f(EF,{show:n=="AuditModal",onClose:()=>i("")}),f(bF,{show:n=="CompanyModal",onClose:()=>i(""),company:e.company})]})}function MF(e){mt();function t(){e.gotoCompanyAdmin(e.company)}return N("tr",{children:[f("td",{onClick:t,children:e.company.name}),f("td",{children:f("div",{className:"d-none d-sm-block"})}),f("td",{className:"d-none d-lg-table-cell col-lg-4 col-xl-3",style:{textAlign:"right",paddingRight:"0.5em"}})]})}function OF(e){const t=e.companies.toSorted((r,n)=>r.name.localeCompare(n.name));return f("div",{className:"custom-scroll fixed-head-table-wrapper",style:{minHeight:350},children:N("table",{children:[f("thead",{children:N("tr",{style:{color:"rgba(27,27,38,0.5)",fontSize:"14px"},children:[f("th",{style:{width:"40%"},children:"Company name"}),f("th",{className:"d-none d-sm-table-cell",style:{minWidth:"8em",paddingRight:"12px",textAlign:"right"},children:"Status"}),f("th",{className:"d-none d-lg-table-cell col-lg-4 col-xl-3",style:{minWidth:"10em",textAlign:"right",paddingRight:"1em"},title:Intl.DateTimeFormat().resolvedOptions().timeZone,children:"Last seen"})]})}),f("tbody",{children:t.map(r=>f(MF,{company:r,gotoCompanyAdmin:e.gotoCompanyAdmin},r.name))})]})})}function PF(){return Te.post(`${Re()}company.php`,{verifier:ge(),operation:"companies"})}function FF(e){if(!e.show)return null;const[t,r]=x.useState(""),[n,i]=x.useState(""),a=mt();function o(){return console.log("companyList query called"),PF().then(h=>{if(h.data.status==="Ok")return h.data;if(h.data.status==="login"){window.location.href="expired.php";return}r(h.data.status)}).catch(h=>{console.log(h)})}const{data:s,isLoading:l}=ps({queryKey:["companyList"],queryFn:()=>o().then(h=>h)});if(l)return console.log("isLoading"),null;const{companies:u}=s;console.log(u);const c=()=>{if(n.trim()!="")return Te.post(`${Re()}company.php`,{verifier:ge(),operation:"newcompany",name:n.trim()}).then(h=>{const v=h.data;if(v.status==="Ok")return i(""),r(""),a.invalidateQueries(["companyList"],{exact:!0}),"Ok";if(v.status==="login"){window.location.href="expired.php";return}r(v.status)}).catch(h=>{console.log(h),r("Server error. Please try again later")})};return f("div",{className:"msp-page",children:N("div",{style:{display:"flex",flexDirection:"column",height:"100%",padding:"0 24px"},children:[N("div",{children:[f("div",{children:"Managed Companies"}),N("div",{style:{margin:"16px 0 8px",display:"flex",gap:16,alignItems:"baseline",flexWrap:"wrap"},children:[f("input",{className:"basic-input",type:"text",placeholder:"Company name",style:{flexGrow:1},onFocus:()=>{r("")},onChange:h=>{i(h.target.value),r("")},onKeyDown:h=>{h.key=="Enter"&&(i(h.target.value),c())},value:n}),f(pe,{onClick:c,children:"Add company"})]}),t&&f("div",{style:{color:"red"},children:t})]}),f(OF,{companies:u,gotoCompanyAdmin:e.gotoCompanyAdmin})]})})}let mC=!0,gC="";function UF(){return st.lock(240),lL().then(e=>(st.unlock(),e)).catch(e=>{console.log("caught 31")})}Dg(Fb);document.addEventListener("passhubExtInstalled",function(e){console.log("got passhubExtInstalled"),Dg(Fb)});let vC=0;function VF(e){window.addEventListener("message",t=>{if(!("data"in t&&(t.data.source=="react-devtools-content-script"||t.data.source=="react-devtools-bridge"))){if(console.log("got message"),console.log(t),t.origin!==window.location.origin){vC<5&&(Op(`payment message orign ${t.origin}`),vC++),console.log(`payment message origin ${t.origin}`);return}if(t.data=="payment_success"){e();return}t.data=="payment_cancel"&&(Op("Payment cancel"),Te.post(`${Re()}payments/session_cancel.php`,{verifier:ge()}).then(r=>{const n=r.data;if(n.status!=="Ok"&&n.status==="login"){window.location.href="expired.php";return}}).catch(r=>{}))}},!1)}function KF(e){const[t,r]=x.useState(""),[n,i]=x.useState("--All--"),[a,o]=x.useState("Main"),[s,l]=x.useState({}),[u,c]=x.useState(null),[d,p]=x.useState(""),[C,h]=x.useState(null),[v,S]=x.useState(""),[m,g]=x.useState("");x.useState("nop");const y=mt(),w=Mt({mutationFn:oe=>Promise.resolve(oe),onSuccess:oe=>{y.invalidateQueries(["userData"],{exact:!0})}}),E=x.useRef(null),b=()=>{w.mutate(),console.log("gotPaymentMessage")};ps({queryKey:["userData"],queryFn:()=>UF().then(oe=>{if(l(oe),c(oe.currentSafe),mC&&(mC=!1,VF(b),D_(oe.WWPASS_TICKET_TTL,oe.ticketAge),"takeSurvey"in oe&&oe.takeSurvey==!0&&S("takeSurveyToast"),"theme"in oe)){const Be=["theme-lite","theme-dark2"];document.querySelector("body").classList.remove(...Be),document.querySelector("body").classList.add(oe.theme)}return oe}),onSuccess:oe=>{},onError:oe=>{console.log("onError",oe)},onSettled:oe=>{}});const T=Mt({mutationFn:oe=>{Promise.resolve(3).then(Be=>s)},onSuccess:(oe,Be,Oe)=>{y.setQueryData(["accountData"],s)}});x.useEffect(()=>{T.mutate()},[s]);let _=s&&s.idleTimeout?s.idleTimeout:123;const M=AR({timeout:_*1e3,promptBeforeIdle:60*1e3,onIdle:()=>{console.log("onIdle timeout"),window.location="logout.php"},onPrompt:()=>{console.log("onPropmt timeout"),m!="IdleModal"&&g("IdleModal")}}),D=()=>{M.start()};let A=new Date().getTime();const{totalSeconds:B,seconds:F,minutes:L,hours:P,days:$,isRunning:K,start:H,pause:j,resume:q,restart:te}=tR.useTimer({expiryTimestamp:A,onExpire:()=>{v=="CopyMoveToast"&&S(""),console.warn("onExpire called")}});console.log("seconds "+F),f6(D);const G=()=>{r(""),i("--All--")},ne=oe=>{G(),typeof oe!="object"&&(oe=hn(s.safes,oe)),oe||(oe=s.safes[0]),c(oe.id),Te.post(`${Re()}folder_ops.php`,{operation:"current_safe",verifier:ge(),id:oe.id})},Q=10,ee=oe=>{gC=oe,S("CopyMoveToast"),te(new Date().getTime()+Q*1e3),Pp(!0)},ve=()=>{S("")},ye=(oe,Be)=>{o("ViewFile"),p(Be),h(oe),console.log("inMemory view",Be)},Ee=()=>{o("Main"),p(""),h(null)},be=(oe=null)=>{o("Iam"),E.current=oe,p(""),h(null)};return N(aR,{className:"d-flex",style:{flexDirection:"column"},children:[f(F8,{page:a,onSearchTypeChange:i,searchType:n,onSearchChange:oe=>r(oe.target.value),onSearchClear:()=>r(""),searchString:t,gotoMain:Ee,gotoIam:be,gotoMsp:()=>{o("Msp"),p(""),h(null)}}),N(Jc,{className:"mainRow",children:[f(dF,{show:a==="ViewFile",gotoMain:Ee,filename:d,blob:C}),f(cF,{show:a==="Main",safes:s.safes,activeFolderId:u,setActiveFolder:ne,searchString:t,searchType:n,onSearchClear:()=>r(""),onSearchReset:G,showCopyMoveToast:ee,hideCopyMoveToast:ve,inMemoryView:ye},"main-page"),f(LF,{show:a==="Iam",gotoMain:Ee,company:E.current}),f(FF,{show:a==="Msp",gotoMain:Ee,gotoCompanyAdmin:oe=>be(oe)})]}),f(Jc,{className:"d-none d-sm-block",children:f("div",{style:{height:"22px",display:a==="Main"||a==="Iam"||a==="Msp"?"":"none"}})}),N(sR,{style:{bottom:16,right:16},children:[f(W8,{show:v=="CopyMoveToast",operation:gC,onClose:()=>{S("")}}),f(fF,{show:v==="takeSurveyToast",onClose:oe=>{oe=="showSurveyModal"&&g("survey"),S("")}})]}),f(hF,{show:m==="survey",onClose:(oe,Be)=>{g(Be||"")}}),f(Gl,{show:m==="thank you",thankyou:!0,onClose:()=>{g("")}}),f(pF,{show:m==="IdleModal",onClose:()=>{g(""),D()}})]})}function $F(){return f(KF,{},"root")}const HF=new uI;Nh.createRoot(document.getElementById("root")).render(f(bI,{client:HF,children:f($F,{})}));
//# sourceMappingURL=index-18dc8df3.js.map
